var m3=Object.defineProperty;var g3=(e,t,r)=>t in e?m3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ot=(e,t,r)=>g3(e,typeof t!="symbol"?t+"":t,r);function v3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ni=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _y(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function y3(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var xy={exports:{}},pf={},Sy={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=Symbol.for("react.element"),w3=Symbol.for("react.portal"),b3=Symbol.for("react.fragment"),_3=Symbol.for("react.strict_mode"),x3=Symbol.for("react.profiler"),S3=Symbol.for("react.provider"),N3=Symbol.for("react.context"),k3=Symbol.for("react.forward_ref"),A3=Symbol.for("react.suspense"),j3=Symbol.for("react.memo"),L3=Symbol.for("react.lazy"),r2=Symbol.iterator;function E3(e){return e===null||typeof e!="object"?null:(e=r2&&e[r2]||e["@@iterator"],typeof e=="function"?e:null)}var Ny={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ky=Object.assign,Ay={};function Bl(e,t,r){this.props=e,this.context=t,this.refs=Ay,this.updater=r||Ny}Bl.prototype.isReactComponent={};Bl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jy(){}jy.prototype=Bl.prototype;function tm(e,t,r){this.props=e,this.context=t,this.refs=Ay,this.updater=r||Ny}var rm=tm.prototype=new jy;rm.constructor=tm;ky(rm,Bl.prototype);rm.isPureReactComponent=!0;var n2=Array.isArray,Ly=Object.prototype.hasOwnProperty,nm={current:null},Ey={key:!0,ref:!0,__self:!0,__source:!0};function Py(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Ly.call(t,n)&&!Ey.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Fc,type:e,key:s,ref:a,props:i,_owner:nm.current}}function P3(e,t){return{$$typeof:Fc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function im(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fc}function C3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var i2=/\/+/g;function b0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?C3(""+e.key):t.toString(36)}function fh(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Fc:case w3:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+b0(a,0):n,n2(i)?(r="",e!=null&&(r=e.replace(i2,"$&/")+"/"),fh(i,t,r,"",function(c){return c})):i!=null&&(im(i)&&(i=P3(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(i2,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",n2(e))for(var o=0;o<e.length;o++){s=e[o];var l=n+b0(s,o);a+=fh(s,t,r,l,i)}else if(l=E3(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=n+b0(s,o++),a+=fh(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Cd(e,t,r){if(e==null)return e;var n=[],i=0;return fh(e,n,"","",function(s){return t.call(r,s,i++)}),n}function T3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var fn={current:null},ph={transition:null},O3={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:ph,ReactCurrentOwner:nm};function Cy(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:Cd,forEach:function(e,t,r){Cd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Cd(e,function(){t++}),t},toArray:function(e){return Cd(e,function(t){return t})||[]},only:function(e){if(!im(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_t.Component=Bl;_t.Fragment=b3;_t.Profiler=x3;_t.PureComponent=tm;_t.StrictMode=_3;_t.Suspense=A3;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O3;_t.act=Cy;_t.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ky({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=nm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Ly.call(t,l)&&!Ey.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Fc,type:e.type,key:i,ref:s,props:n,_owner:a}};_t.createContext=function(e){return e={$$typeof:N3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:S3,_context:e},e.Consumer=e};_t.createElement=Py;_t.createFactory=function(e){var t=Py.bind(null,e);return t.type=e,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(e){return{$$typeof:k3,render:e}};_t.isValidElement=im;_t.lazy=function(e){return{$$typeof:L3,_payload:{_status:-1,_result:e},_init:T3}};_t.memo=function(e,t){return{$$typeof:j3,type:e,compare:t===void 0?null:t}};_t.startTransition=function(e){var t=ph.transition;ph.transition={};try{e()}finally{ph.transition=t}};_t.unstable_act=Cy;_t.useCallback=function(e,t){return fn.current.useCallback(e,t)};_t.useContext=function(e){return fn.current.useContext(e)};_t.useDebugValue=function(){};_t.useDeferredValue=function(e){return fn.current.useDeferredValue(e)};_t.useEffect=function(e,t){return fn.current.useEffect(e,t)};_t.useId=function(){return fn.current.useId()};_t.useImperativeHandle=function(e,t,r){return fn.current.useImperativeHandle(e,t,r)};_t.useInsertionEffect=function(e,t){return fn.current.useInsertionEffect(e,t)};_t.useLayoutEffect=function(e,t){return fn.current.useLayoutEffect(e,t)};_t.useMemo=function(e,t){return fn.current.useMemo(e,t)};_t.useReducer=function(e,t,r){return fn.current.useReducer(e,t,r)};_t.useRef=function(e){return fn.current.useRef(e)};_t.useState=function(e){return fn.current.useState(e)};_t.useSyncExternalStore=function(e,t,r){return fn.current.useSyncExternalStore(e,t,r)};_t.useTransition=function(){return fn.current.useTransition()};_t.version="18.3.1";Sy.exports=_t;var pe=Sy.exports;const Ty=_y(pe),I3=v3({__proto__:null,default:Ty},[pe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3=pe,F3=Symbol.for("react.element"),M3=Symbol.for("react.fragment"),D3=Object.prototype.hasOwnProperty,B3=R3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,U3={key:!0,ref:!0,__self:!0,__source:!0};function Oy(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)D3.call(t,n)&&!U3.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:F3,type:e,key:s,ref:a,props:i,_owner:B3.current}}pf.Fragment=M3;pf.jsx=Oy;pf.jsxs=Oy;xy.exports=pf;var f=xy.exports,Iy={exports:{}},zn={},Ry={exports:{}},Fy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,R){var oe=Z.length;Z.push(R);e:for(;0<oe;){var se=oe-1>>>1,A=Z[se];if(0<i(A,R))Z[se]=R,Z[oe]=A,oe=se;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var R=Z[0],oe=Z.pop();if(oe!==R){Z[0]=oe;e:for(var se=0,A=Z.length,D=A>>>1;se<D;){var H=2*(se+1)-1,X=Z[H],ee=H+1,ie=Z[ee];if(0>i(X,oe))ee<A&&0>i(ie,X)?(Z[se]=ie,Z[ee]=oe,se=ee):(Z[se]=X,Z[H]=oe,se=H);else if(ee<A&&0>i(ie,oe))Z[se]=ie,Z[ee]=oe,se=ee;else break e}}return R}function i(Z,R){var oe=Z.sortIndex-R.sortIndex;return oe!==0?oe:Z.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,m=null,v=3,p=!1,_=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Z){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=Z)n(c),R.sortIndex=R.expirationTime,t(l,R);else break;R=r(c)}}function E(Z){if(S=!1,N(Z),!_)if(r(l)!==null)_=!0,me(G);else{var R=r(c);R!==null&&ue(E,R.startTime-Z)}}function G(Z,R){_=!1,S&&(S=!1,w(B),B=-1),p=!0;var oe=v;try{for(N(R),m=r(l);m!==null&&(!(m.expirationTime>R)||Z&&!C());){var se=m.callback;if(typeof se=="function"){m.callback=null,v=m.priorityLevel;var A=se(m.expirationTime<=R);R=e.unstable_now(),typeof A=="function"?m.callback=A:m===r(l)&&n(l),N(R)}else n(l);m=r(l)}if(m!==null)var D=!0;else{var H=r(c);H!==null&&ue(E,H.startTime-R),D=!1}return D}finally{m=null,v=oe,p=!1}}var V=!1,Y=null,B=-1,O=5,q=-1;function C(){return!(e.unstable_now()-q<O)}function M(){if(Y!==null){var Z=e.unstable_now();q=Z;var R=!0;try{R=Y(!0,Z)}finally{R?K():(V=!1,Y=null)}}else V=!1}var K;if(typeof x=="function")K=function(){x(M)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,he=J.port2;J.port1.onmessage=M,K=function(){he.postMessage(null)}}else K=function(){k(M,0)};function me(Z){Y=Z,V||(V=!0,K())}function ue(Z,R){B=k(function(){Z(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){_||p||(_=!0,me(G))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(Z){switch(v){case 1:case 2:case 3:var R=3;break;default:R=v}var oe=v;v=R;try{return Z()}finally{v=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,R){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var oe=v;v=Z;try{return R()}finally{v=oe}},e.unstable_scheduleCallback=function(Z,R,oe){var se=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?se+oe:se):oe=se,Z){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=oe+A,Z={id:d++,callback:R,priorityLevel:Z,startTime:oe,expirationTime:A,sortIndex:-1},oe>se?(Z.sortIndex=oe,t(c,Z),r(l)===null&&Z===r(c)&&(S?(w(B),B=-1):S=!0,ue(E,oe-se))):(Z.sortIndex=A,t(l,Z),_||p||(_=!0,me(G))),Z},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(Z){var R=v;return function(){var oe=v;v=R;try{return Z.apply(this,arguments)}finally{v=oe}}}})(Fy);Ry.exports=Fy;var z3=Ry.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $3=pe,Un=z3;function je(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var My=new Set,lc={};function xo(e,t){jl(e,t),jl(e+"Capture",t)}function jl(e,t){for(lc[e]=t,e=0;e<t.length;e++)My.add(t[e])}var ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cp=Object.prototype.hasOwnProperty,q3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s2={},a2={};function W3(e){return Cp.call(a2,e)?!0:Cp.call(s2,e)?!1:q3.test(e)?a2[e]=!0:(s2[e]=!0,!1)}function H3(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function V3(e,t,r,n){if(t===null||typeof t>"u"||H3(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pn(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vr[e]=new pn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vr[t]=new pn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vr[e]=new pn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vr[e]=new pn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vr[e]=new pn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vr[e]=new pn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vr[e]=new pn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vr[e]=new pn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vr[e]=new pn(e,5,!1,e.toLowerCase(),null,!1,!1)});var sm=/[\-:]([a-z])/g;function am(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sm,am);Vr[t]=new pn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sm,am);Vr[t]=new pn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sm,am);Vr[t]=new pn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vr[e]=new pn(e,1,!1,e.toLowerCase(),null,!1,!1)});Vr.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vr[e]=new pn(e,1,!1,e.toLowerCase(),null,!0,!0)});function om(e,t,r,n){var i=Vr.hasOwnProperty(t)?Vr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(V3(t,r,i,n)&&(r=null),n||i===null?W3(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Es=$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Td=Symbol.for("react.element"),rl=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),lm=Symbol.for("react.strict_mode"),Tp=Symbol.for("react.profiler"),Dy=Symbol.for("react.provider"),By=Symbol.for("react.context"),um=Symbol.for("react.forward_ref"),Op=Symbol.for("react.suspense"),Ip=Symbol.for("react.suspense_list"),cm=Symbol.for("react.memo"),Xs=Symbol.for("react.lazy"),Uy=Symbol.for("react.offscreen"),o2=Symbol.iterator;function Nu(e){return e===null||typeof e!="object"?null:(e=o2&&e[o2]||e["@@iterator"],typeof e=="function"?e:null)}var nr=Object.assign,_0;function Du(e){if(_0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_0=t&&t[1]||""}return`
`+_0+e}var x0=!1;function S0(e,t){if(!e||x0)return"";x0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{x0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Du(e):""}function G3(e){switch(e.tag){case 5:return Du(e.type);case 16:return Du("Lazy");case 13:return Du("Suspense");case 19:return Du("SuspenseList");case 0:case 2:case 15:return e=S0(e.type,!1),e;case 11:return e=S0(e.type.render,!1),e;case 1:return e=S0(e.type,!0),e;default:return""}}function Rp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nl:return"Fragment";case rl:return"Portal";case Tp:return"Profiler";case lm:return"StrictMode";case Op:return"Suspense";case Ip:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case By:return(e.displayName||"Context")+".Consumer";case Dy:return(e._context.displayName||"Context")+".Provider";case um:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cm:return t=e.displayName||null,t!==null?t:Rp(e.type)||"Memo";case Xs:t=e._payload,e=e._init;try{return Rp(e(t))}catch{}}return null}function K3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rp(t);case 8:return t===lm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function J3(e){var t=zy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Od(e){e._valueTracker||(e._valueTracker=J3(e))}function $y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Oh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fp(e,t){var r=t.checked;return nr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function l2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=xa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qy(e,t){t=t.checked,t!=null&&om(e,"checked",t,!1)}function Mp(e,t){qy(e,t);var r=xa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Dp(e,t.type,xa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function u2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Dp(e,t,r){(t!=="number"||Oh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Bu=Array.isArray;function gl(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+xa(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Bp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(je(91));return nr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function c2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(je(92));if(Bu(r)){if(1<r.length)throw Error(je(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:xa(r)}}function Wy(e,t){var r=xa(t.value),n=xa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function d2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Up(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Id,Vy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Id=Id||document.createElement("div"),Id.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Id.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function uc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y3=["Webkit","ms","Moz","O"];Object.keys(Vu).forEach(function(e){Y3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vu[t]=Vu[e]})});function Gy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vu.hasOwnProperty(e)&&Vu[e]?(""+t).trim():t+"px"}function Ky(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Gy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Z3=nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zp(e,t){if(t){if(Z3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(je(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(je(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(je(61))}if(t.style!=null&&typeof t.style!="object")throw Error(je(62))}}function $p(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qp=null;function dm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wp=null,vl=null,yl=null;function h2(e){if(e=Bc(e)){if(typeof Wp!="function")throw Error(je(280));var t=e.stateNode;t&&(t=wf(t),Wp(e.stateNode,e.type,t))}}function Jy(e){vl?yl?yl.push(e):yl=[e]:vl=e}function Yy(){if(vl){var e=vl,t=yl;if(yl=vl=null,h2(e),t)for(e=0;e<t.length;e++)h2(t[e])}}function Zy(e,t){return e(t)}function Xy(){}var N0=!1;function Qy(e,t,r){if(N0)return e(t,r);N0=!0;try{return Zy(e,t,r)}finally{N0=!1,(vl!==null||yl!==null)&&(Xy(),Yy())}}function cc(e,t){var r=e.stateNode;if(r===null)return null;var n=wf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(je(231,t,typeof r));return r}var Hp=!1;if(ks)try{var ku={};Object.defineProperty(ku,"passive",{get:function(){Hp=!0}}),window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{Hp=!1}function X3(e,t,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Gu=!1,Ih=null,Rh=!1,Vp=null,Q3={onError:function(e){Gu=!0,Ih=e}};function e4(e,t,r,n,i,s,a,o,l){Gu=!1,Ih=null,X3.apply(Q3,arguments)}function t4(e,t,r,n,i,s,a,o,l){if(e4.apply(this,arguments),Gu){if(Gu){var c=Ih;Gu=!1,Ih=null}else throw Error(je(198));Rh||(Rh=!0,Vp=c)}}function So(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ew(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f2(e){if(So(e)!==e)throw Error(je(188))}function r4(e){var t=e.alternate;if(!t){if(t=So(e),t===null)throw Error(je(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return f2(i),e;if(s===n)return f2(i),t;s=s.sibling}throw Error(je(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(je(189))}}if(r.alternate!==n)throw Error(je(190))}if(r.tag!==3)throw Error(je(188));return r.stateNode.current===r?e:t}function tw(e){return e=r4(e),e!==null?rw(e):null}function rw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rw(e);if(t!==null)return t;e=e.sibling}return null}var nw=Un.unstable_scheduleCallback,p2=Un.unstable_cancelCallback,n4=Un.unstable_shouldYield,i4=Un.unstable_requestPaint,fr=Un.unstable_now,s4=Un.unstable_getCurrentPriorityLevel,hm=Un.unstable_ImmediatePriority,iw=Un.unstable_UserBlockingPriority,Fh=Un.unstable_NormalPriority,a4=Un.unstable_LowPriority,sw=Un.unstable_IdlePriority,mf=null,Hi=null;function o4(e){if(Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(mf,e,void 0,(e.current.flags&128)===128)}catch{}}var xi=Math.clz32?Math.clz32:c4,l4=Math.log,u4=Math.LN2;function c4(e){return e>>>=0,e===0?32:31-(l4(e)/u4|0)|0}var Rd=64,Fd=4194304;function Uu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mh(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Uu(o):(s&=a,s!==0&&(n=Uu(s)))}else a=r&~i,a!==0?n=Uu(a):s!==0&&(n=Uu(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-xi(t),i=1<<r,n|=e[r],t&=~i;return n}function d4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h4(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-xi(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=d4(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function Gp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aw(){var e=Rd;return Rd<<=1,!(Rd&4194240)&&(Rd=64),e}function k0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xi(t),e[t]=r}function f4(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-xi(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function fm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-xi(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Rt=0;function ow(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lw,pm,uw,cw,dw,Kp=!1,Md=[],ua=null,ca=null,da=null,dc=new Map,hc=new Map,ea=[],p4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m2(e,t){switch(e){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":dc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(t.pointerId)}}function Au(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Bc(t),t!==null&&pm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function m4(e,t,r,n,i){switch(t){case"focusin":return ua=Au(ua,e,t,r,n,i),!0;case"dragenter":return ca=Au(ca,e,t,r,n,i),!0;case"mouseover":return da=Au(da,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return dc.set(s,Au(dc.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,hc.set(s,Au(hc.get(s)||null,e,t,r,n,i)),!0}return!1}function hw(e){var t=no(e.target);if(t!==null){var r=So(t);if(r!==null){if(t=r.tag,t===13){if(t=ew(r),t!==null){e.blockedOn=t,dw(e.priority,function(){uw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);qp=n,r.target.dispatchEvent(n),qp=null}else return t=Bc(r),t!==null&&pm(t),e.blockedOn=r,!1;t.shift()}return!0}function g2(e,t,r){mh(e)&&r.delete(t)}function g4(){Kp=!1,ua!==null&&mh(ua)&&(ua=null),ca!==null&&mh(ca)&&(ca=null),da!==null&&mh(da)&&(da=null),dc.forEach(g2),hc.forEach(g2)}function ju(e,t){e.blockedOn===t&&(e.blockedOn=null,Kp||(Kp=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,g4)))}function fc(e){function t(i){return ju(i,e)}if(0<Md.length){ju(Md[0],e);for(var r=1;r<Md.length;r++){var n=Md[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ua!==null&&ju(ua,e),ca!==null&&ju(ca,e),da!==null&&ju(da,e),dc.forEach(t),hc.forEach(t),r=0;r<ea.length;r++)n=ea[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ea.length&&(r=ea[0],r.blockedOn===null);)hw(r),r.blockedOn===null&&ea.shift()}var wl=Es.ReactCurrentBatchConfig,Dh=!0;function v4(e,t,r,n){var i=Rt,s=wl.transition;wl.transition=null;try{Rt=1,mm(e,t,r,n)}finally{Rt=i,wl.transition=s}}function y4(e,t,r,n){var i=Rt,s=wl.transition;wl.transition=null;try{Rt=4,mm(e,t,r,n)}finally{Rt=i,wl.transition=s}}function mm(e,t,r,n){if(Dh){var i=Jp(e,t,r,n);if(i===null)R0(e,t,n,Bh,r),m2(e,n);else if(m4(i,e,t,r,n))n.stopPropagation();else if(m2(e,n),t&4&&-1<p4.indexOf(e)){for(;i!==null;){var s=Bc(i);if(s!==null&&lw(s),s=Jp(e,t,r,n),s===null&&R0(e,t,n,Bh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else R0(e,t,n,null,r)}}var Bh=null;function Jp(e,t,r,n){if(Bh=null,e=dm(n),e=no(e),e!==null)if(t=So(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ew(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bh=e,null}function fw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s4()){case hm:return 1;case iw:return 4;case Fh:case a4:return 16;case sw:return 536870912;default:return 16}default:return 16}}var ia=null,gm=null,gh=null;function pw(){if(gh)return gh;var e,t=gm,r=t.length,n,i="value"in ia?ia.value:ia.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return gh=i.slice(e,1<n?1-n:void 0)}function vh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dd(){return!0}function v2(){return!1}function $n(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dd:v2,this.isPropagationStopped=v2,this}return nr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dd)},persist:function(){},isPersistent:Dd}),t}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vm=$n(Ul),Dc=nr({},Ul,{view:0,detail:0}),w4=$n(Dc),A0,j0,Lu,gf=nr({},Dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ym,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lu&&(Lu&&e.type==="mousemove"?(A0=e.screenX-Lu.screenX,j0=e.screenY-Lu.screenY):j0=A0=0,Lu=e),A0)},movementY:function(e){return"movementY"in e?e.movementY:j0}}),y2=$n(gf),b4=nr({},gf,{dataTransfer:0}),_4=$n(b4),x4=nr({},Dc,{relatedTarget:0}),L0=$n(x4),S4=nr({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),N4=$n(S4),k4=nr({},Ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),A4=$n(k4),j4=nr({},Ul,{data:0}),w2=$n(j4),L4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=P4[e])?!!t[e]:!1}function ym(){return C4}var T4=nr({},Dc,{key:function(e){if(e.key){var t=L4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?E4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ym,charCode:function(e){return e.type==="keypress"?vh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),O4=$n(T4),I4=nr({},gf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b2=$n(I4),R4=nr({},Dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ym}),F4=$n(R4),M4=nr({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),D4=$n(M4),B4=nr({},gf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),U4=$n(B4),z4=[9,13,27,32],wm=ks&&"CompositionEvent"in window,Ku=null;ks&&"documentMode"in document&&(Ku=document.documentMode);var $4=ks&&"TextEvent"in window&&!Ku,mw=ks&&(!wm||Ku&&8<Ku&&11>=Ku),_2=" ",x2=!1;function gw(e,t){switch(e){case"keyup":return z4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var il=!1;function q4(e,t){switch(e){case"compositionend":return vw(t);case"keypress":return t.which!==32?null:(x2=!0,_2);case"textInput":return e=t.data,e===_2&&x2?null:e;default:return null}}function W4(e,t){if(il)return e==="compositionend"||!wm&&gw(e,t)?(e=pw(),gh=gm=ia=null,il=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mw&&t.locale!=="ko"?null:t.data;default:return null}}var H4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H4[e.type]:t==="textarea"}function yw(e,t,r,n){Jy(n),t=Uh(t,"onChange"),0<t.length&&(r=new vm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ju=null,pc=null;function V4(e){Ew(e,0)}function vf(e){var t=ol(e);if($y(t))return e}function G4(e,t){if(e==="change")return t}var ww=!1;if(ks){var E0;if(ks){var P0="oninput"in document;if(!P0){var N2=document.createElement("div");N2.setAttribute("oninput","return;"),P0=typeof N2.oninput=="function"}E0=P0}else E0=!1;ww=E0&&(!document.documentMode||9<document.documentMode)}function k2(){Ju&&(Ju.detachEvent("onpropertychange",bw),pc=Ju=null)}function bw(e){if(e.propertyName==="value"&&vf(pc)){var t=[];yw(t,pc,e,dm(e)),Qy(V4,t)}}function K4(e,t,r){e==="focusin"?(k2(),Ju=t,pc=r,Ju.attachEvent("onpropertychange",bw)):e==="focusout"&&k2()}function J4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vf(pc)}function Y4(e,t){if(e==="click")return vf(t)}function Z4(e,t){if(e==="input"||e==="change")return vf(t)}function X4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ni=typeof Object.is=="function"?Object.is:X4;function mc(e,t){if(Ni(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Cp.call(t,i)||!Ni(e[i],t[i]))return!1}return!0}function A2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function j2(e,t){var r=A2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=A2(r)}}function _w(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_w(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xw(){for(var e=window,t=Oh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Oh(e.document)}return t}function bm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Q4(e){var t=xw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_w(r.ownerDocument.documentElement,r)){if(n!==null&&bm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=j2(r,s);var a=j2(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var e6=ks&&"documentMode"in document&&11>=document.documentMode,sl=null,Yp=null,Yu=null,Zp=!1;function L2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zp||sl==null||sl!==Oh(n)||(n=sl,"selectionStart"in n&&bm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yu&&mc(Yu,n)||(Yu=n,n=Uh(Yp,"onSelect"),0<n.length&&(t=new vm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=sl)))}function Bd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var al={animationend:Bd("Animation","AnimationEnd"),animationiteration:Bd("Animation","AnimationIteration"),animationstart:Bd("Animation","AnimationStart"),transitionend:Bd("Transition","TransitionEnd")},C0={},Sw={};ks&&(Sw=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function yf(e){if(C0[e])return C0[e];if(!al[e])return e;var t=al[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Sw)return C0[e]=t[r];return e}var Nw=yf("animationend"),kw=yf("animationiteration"),Aw=yf("animationstart"),jw=yf("transitionend"),Lw=new Map,E2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ka(e,t){Lw.set(e,t),xo(t,[e])}for(var T0=0;T0<E2.length;T0++){var O0=E2[T0],t6=O0.toLowerCase(),r6=O0[0].toUpperCase()+O0.slice(1);ka(t6,"on"+r6)}ka(Nw,"onAnimationEnd");ka(kw,"onAnimationIteration");ka(Aw,"onAnimationStart");ka("dblclick","onDoubleClick");ka("focusin","onFocus");ka("focusout","onBlur");ka(jw,"onTransitionEnd");jl("onMouseEnter",["mouseout","mouseover"]);jl("onMouseLeave",["mouseout","mouseover"]);jl("onPointerEnter",["pointerout","pointerover"]);jl("onPointerLeave",["pointerout","pointerover"]);xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n6=new Set("cancel close invalid load scroll toggle".split(" ").concat(zu));function P2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,t4(n,t,void 0,e),e.currentTarget=null}function Ew(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;P2(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;P2(i,o,c),s=l}}}if(Rh)throw e=Vp,Rh=!1,Vp=null,e}function Vt(e,t){var r=t[r1];r===void 0&&(r=t[r1]=new Set);var n=e+"__bubble";r.has(n)||(Pw(t,e,2,!1),r.add(n))}function I0(e,t,r){var n=0;t&&(n|=4),Pw(r,e,n,t)}var Ud="_reactListening"+Math.random().toString(36).slice(2);function gc(e){if(!e[Ud]){e[Ud]=!0,My.forEach(function(r){r!=="selectionchange"&&(n6.has(r)||I0(r,!1,e),I0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ud]||(t[Ud]=!0,I0("selectionchange",!1,t))}}function Pw(e,t,r,n){switch(fw(t)){case 1:var i=v4;break;case 4:i=y4;break;default:i=mm}r=i.bind(null,t,r,e),i=void 0,!Hp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function R0(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=no(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}Qy(function(){var c=s,d=dm(r),m=[];e:{var v=Lw.get(e);if(v!==void 0){var p=vm,_=e;switch(e){case"keypress":if(vh(r)===0)break e;case"keydown":case"keyup":p=O4;break;case"focusin":_="focus",p=L0;break;case"focusout":_="blur",p=L0;break;case"beforeblur":case"afterblur":p=L0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=y2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=F4;break;case Nw:case kw:case Aw:p=N4;break;case jw:p=D4;break;case"scroll":p=w4;break;case"wheel":p=U4;break;case"copy":case"cut":case"paste":p=A4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=b2}var S=(t&4)!==0,k=!S&&e==="scroll",w=S?v!==null?v+"Capture":null:v;S=[];for(var x=c,N;x!==null;){N=x;var E=N.stateNode;if(N.tag===5&&E!==null&&(N=E,w!==null&&(E=cc(x,w),E!=null&&S.push(vc(x,E,N)))),k)break;x=x.return}0<S.length&&(v=new p(v,_,null,r,d),m.push({event:v,listeners:S}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",v&&r!==qp&&(_=r.relatedTarget||r.fromElement)&&(no(_)||_[As]))break e;if((p||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,p?(_=r.relatedTarget||r.toElement,p=c,_=_?no(_):null,_!==null&&(k=So(_),_!==k||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=c),p!==_)){if(S=y2,E="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(S=b2,E="onPointerLeave",w="onPointerEnter",x="pointer"),k=p==null?v:ol(p),N=_==null?v:ol(_),v=new S(E,x+"leave",p,r,d),v.target=k,v.relatedTarget=N,E=null,no(d)===c&&(S=new S(w,x+"enter",_,r,d),S.target=N,S.relatedTarget=k,E=S),k=E,p&&_)t:{for(S=p,w=_,x=0,N=S;N;N=Uo(N))x++;for(N=0,E=w;E;E=Uo(E))N++;for(;0<x-N;)S=Uo(S),x--;for(;0<N-x;)w=Uo(w),N--;for(;x--;){if(S===w||w!==null&&S===w.alternate)break t;S=Uo(S),w=Uo(w)}S=null}else S=null;p!==null&&C2(m,v,p,S,!1),_!==null&&k!==null&&C2(m,k,_,S,!0)}}e:{if(v=c?ol(c):window,p=v.nodeName&&v.nodeName.toLowerCase(),p==="select"||p==="input"&&v.type==="file")var G=G4;else if(S2(v))if(ww)G=Z4;else{G=J4;var V=K4}else(p=v.nodeName)&&p.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(G=Y4);if(G&&(G=G(e,c))){yw(m,G,r,d);break e}V&&V(e,v,c),e==="focusout"&&(V=v._wrapperState)&&V.controlled&&v.type==="number"&&Dp(v,"number",v.value)}switch(V=c?ol(c):window,e){case"focusin":(S2(V)||V.contentEditable==="true")&&(sl=V,Yp=c,Yu=null);break;case"focusout":Yu=Yp=sl=null;break;case"mousedown":Zp=!0;break;case"contextmenu":case"mouseup":case"dragend":Zp=!1,L2(m,r,d);break;case"selectionchange":if(e6)break;case"keydown":case"keyup":L2(m,r,d)}var Y;if(wm)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else il?gw(e,r)&&(B="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(B="onCompositionStart");B&&(mw&&r.locale!=="ko"&&(il||B!=="onCompositionStart"?B==="onCompositionEnd"&&il&&(Y=pw()):(ia=d,gm="value"in ia?ia.value:ia.textContent,il=!0)),V=Uh(c,B),0<V.length&&(B=new w2(B,e,null,r,d),m.push({event:B,listeners:V}),Y?B.data=Y:(Y=vw(r),Y!==null&&(B.data=Y)))),(Y=$4?q4(e,r):W4(e,r))&&(c=Uh(c,"onBeforeInput"),0<c.length&&(d=new w2("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:c}),d.data=Y))}Ew(m,t)})}function vc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Uh(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=cc(e,r),s!=null&&n.unshift(vc(e,s,i)),s=cc(e,t),s!=null&&n.push(vc(e,s,i))),e=e.return}return n}function Uo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function C2(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=cc(r,s),l!=null&&a.unshift(vc(r,l,o))):i||(l=cc(r,s),l!=null&&a.push(vc(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var i6=/\r\n?/g,s6=/\u0000|\uFFFD/g;function T2(e){return(typeof e=="string"?e:""+e).replace(i6,`
`).replace(s6,"")}function zd(e,t,r){if(t=T2(t),T2(e)!==t&&r)throw Error(je(425))}function zh(){}var Xp=null,Qp=null;function e1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var t1=typeof setTimeout=="function"?setTimeout:void 0,a6=typeof clearTimeout=="function"?clearTimeout:void 0,O2=typeof Promise=="function"?Promise:void 0,o6=typeof queueMicrotask=="function"?queueMicrotask:typeof O2<"u"?function(e){return O2.resolve(null).then(e).catch(l6)}:t1;function l6(e){setTimeout(function(){throw e})}function F0(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),fc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);fc(t)}function ha(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function I2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zl=Math.random().toString(36).slice(2),$i="__reactFiber$"+zl,yc="__reactProps$"+zl,As="__reactContainer$"+zl,r1="__reactEvents$"+zl,u6="__reactListeners$"+zl,c6="__reactHandles$"+zl;function no(e){var t=e[$i];if(t)return t;for(var r=e.parentNode;r;){if(t=r[As]||r[$i]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=I2(e);e!==null;){if(r=e[$i])return r;e=I2(e)}return t}e=r,r=e.parentNode}return null}function Bc(e){return e=e[$i]||e[As],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ol(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(je(33))}function wf(e){return e[yc]||null}var n1=[],ll=-1;function Aa(e){return{current:e}}function Kt(e){0>ll||(e.current=n1[ll],n1[ll]=null,ll--)}function Wt(e,t){ll++,n1[ll]=e.current,e.current=t}var Sa={},rn=Aa(Sa),_n=Aa(!1),po=Sa;function Ll(e,t){var r=e.type.contextTypes;if(!r)return Sa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xn(e){return e=e.childContextTypes,e!=null}function $h(){Kt(_n),Kt(rn)}function R2(e,t,r){if(rn.current!==Sa)throw Error(je(168));Wt(rn,t),Wt(_n,r)}function Cw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(je(108,K3(e)||"Unknown",i));return nr({},r,n)}function qh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sa,po=rn.current,Wt(rn,e),Wt(_n,_n.current),!0}function F2(e,t,r){var n=e.stateNode;if(!n)throw Error(je(169));r?(e=Cw(e,t,po),n.__reactInternalMemoizedMergedChildContext=e,Kt(_n),Kt(rn),Wt(rn,e)):Kt(_n),Wt(_n,r)}var ws=null,bf=!1,M0=!1;function Tw(e){ws===null?ws=[e]:ws.push(e)}function d6(e){bf=!0,Tw(e)}function ja(){if(!M0&&ws!==null){M0=!0;var e=0,t=Rt;try{var r=ws;for(Rt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ws=null,bf=!1}catch(i){throw ws!==null&&(ws=ws.slice(e+1)),nw(hm,ja),i}finally{Rt=t,M0=!1}}return null}var ul=[],cl=0,Wh=null,Hh=0,Xn=[],Qn=0,mo=null,xs=1,Ss="";function Za(e,t){ul[cl++]=Hh,ul[cl++]=Wh,Wh=e,Hh=t}function Ow(e,t,r){Xn[Qn++]=xs,Xn[Qn++]=Ss,Xn[Qn++]=mo,mo=e;var n=xs;e=Ss;var i=32-xi(n)-1;n&=~(1<<i),r+=1;var s=32-xi(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,xs=1<<32-xi(t)+i|r<<i|n,Ss=s+e}else xs=1<<s|r<<i|n,Ss=e}function _m(e){e.return!==null&&(Za(e,1),Ow(e,1,0))}function xm(e){for(;e===Wh;)Wh=ul[--cl],ul[cl]=null,Hh=ul[--cl],ul[cl]=null;for(;e===mo;)mo=Xn[--Qn],Xn[Qn]=null,Ss=Xn[--Qn],Xn[Qn]=null,xs=Xn[--Qn],Xn[Qn]=null}var Bn=null,Fn=null,Xt=!1,_i=null;function Iw(e,t){var r=ti(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function M2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bn=e,Fn=ha(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bn=e,Fn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mo!==null?{id:xs,overflow:Ss}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ti(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Bn=e,Fn=null,!0):!1;default:return!1}}function i1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function s1(e){if(Xt){var t=Fn;if(t){var r=t;if(!M2(e,t)){if(i1(e))throw Error(je(418));t=ha(r.nextSibling);var n=Bn;t&&M2(e,t)?Iw(n,r):(e.flags=e.flags&-4097|2,Xt=!1,Bn=e)}}else{if(i1(e))throw Error(je(418));e.flags=e.flags&-4097|2,Xt=!1,Bn=e}}}function D2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bn=e}function $d(e){if(e!==Bn)return!1;if(!Xt)return D2(e),Xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!e1(e.type,e.memoizedProps)),t&&(t=Fn)){if(i1(e))throw Rw(),Error(je(418));for(;t;)Iw(e,t),t=ha(t.nextSibling)}if(D2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(je(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fn=ha(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fn=null}}else Fn=Bn?ha(e.stateNode.nextSibling):null;return!0}function Rw(){for(var e=Fn;e;)e=ha(e.nextSibling)}function El(){Fn=Bn=null,Xt=!1}function Sm(e){_i===null?_i=[e]:_i.push(e)}var h6=Es.ReactCurrentBatchConfig;function Eu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(je(309));var n=r.stateNode}if(!n)throw Error(je(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(je(284));if(!r._owner)throw Error(je(290,e))}return e}function qd(e,t){throw e=Object.prototype.toString.call(t),Error(je(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function B2(e){var t=e._init;return t(e._payload)}function Fw(e){function t(w,x){if(e){var N=w.deletions;N===null?(w.deletions=[x],w.flags|=16):N.push(x)}}function r(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function n(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=ga(w,x),w.index=0,w.sibling=null,w}function s(w,x,N){return w.index=N,e?(N=w.alternate,N!==null?(N=N.index,N<x?(w.flags|=2,x):N):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function o(w,x,N,E){return x===null||x.tag!==6?(x=W0(N,w.mode,E),x.return=w,x):(x=i(x,N),x.return=w,x)}function l(w,x,N,E){var G=N.type;return G===nl?d(w,x,N.props.children,E,N.key):x!==null&&(x.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Xs&&B2(G)===x.type)?(E=i(x,N.props),E.ref=Eu(w,x,N),E.return=w,E):(E=Nh(N.type,N.key,N.props,null,w.mode,E),E.ref=Eu(w,x,N),E.return=w,E)}function c(w,x,N,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=H0(N,w.mode,E),x.return=w,x):(x=i(x,N.children||[]),x.return=w,x)}function d(w,x,N,E,G){return x===null||x.tag!==7?(x=co(N,w.mode,E,G),x.return=w,x):(x=i(x,N),x.return=w,x)}function m(w,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return x=W0(""+x,w.mode,N),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Td:return N=Nh(x.type,x.key,x.props,null,w.mode,N),N.ref=Eu(w,null,x),N.return=w,N;case rl:return x=H0(x,w.mode,N),x.return=w,x;case Xs:var E=x._init;return m(w,E(x._payload),N)}if(Bu(x)||Nu(x))return x=co(x,w.mode,N,null),x.return=w,x;qd(w,x)}return null}function v(w,x,N,E){var G=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return G!==null?null:o(w,x,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Td:return N.key===G?l(w,x,N,E):null;case rl:return N.key===G?c(w,x,N,E):null;case Xs:return G=N._init,v(w,x,G(N._payload),E)}if(Bu(N)||Nu(N))return G!==null?null:d(w,x,N,E,null);qd(w,N)}return null}function p(w,x,N,E,G){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(N)||null,o(x,w,""+E,G);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Td:return w=w.get(E.key===null?N:E.key)||null,l(x,w,E,G);case rl:return w=w.get(E.key===null?N:E.key)||null,c(x,w,E,G);case Xs:var V=E._init;return p(w,x,N,V(E._payload),G)}if(Bu(E)||Nu(E))return w=w.get(N)||null,d(x,w,E,G,null);qd(x,E)}return null}function _(w,x,N,E){for(var G=null,V=null,Y=x,B=x=0,O=null;Y!==null&&B<N.length;B++){Y.index>B?(O=Y,Y=null):O=Y.sibling;var q=v(w,Y,N[B],E);if(q===null){Y===null&&(Y=O);break}e&&Y&&q.alternate===null&&t(w,Y),x=s(q,x,B),V===null?G=q:V.sibling=q,V=q,Y=O}if(B===N.length)return r(w,Y),Xt&&Za(w,B),G;if(Y===null){for(;B<N.length;B++)Y=m(w,N[B],E),Y!==null&&(x=s(Y,x,B),V===null?G=Y:V.sibling=Y,V=Y);return Xt&&Za(w,B),G}for(Y=n(w,Y);B<N.length;B++)O=p(Y,w,B,N[B],E),O!==null&&(e&&O.alternate!==null&&Y.delete(O.key===null?B:O.key),x=s(O,x,B),V===null?G=O:V.sibling=O,V=O);return e&&Y.forEach(function(C){return t(w,C)}),Xt&&Za(w,B),G}function S(w,x,N,E){var G=Nu(N);if(typeof G!="function")throw Error(je(150));if(N=G.call(N),N==null)throw Error(je(151));for(var V=G=null,Y=x,B=x=0,O=null,q=N.next();Y!==null&&!q.done;B++,q=N.next()){Y.index>B?(O=Y,Y=null):O=Y.sibling;var C=v(w,Y,q.value,E);if(C===null){Y===null&&(Y=O);break}e&&Y&&C.alternate===null&&t(w,Y),x=s(C,x,B),V===null?G=C:V.sibling=C,V=C,Y=O}if(q.done)return r(w,Y),Xt&&Za(w,B),G;if(Y===null){for(;!q.done;B++,q=N.next())q=m(w,q.value,E),q!==null&&(x=s(q,x,B),V===null?G=q:V.sibling=q,V=q);return Xt&&Za(w,B),G}for(Y=n(w,Y);!q.done;B++,q=N.next())q=p(Y,w,B,q.value,E),q!==null&&(e&&q.alternate!==null&&Y.delete(q.key===null?B:q.key),x=s(q,x,B),V===null?G=q:V.sibling=q,V=q);return e&&Y.forEach(function(M){return t(w,M)}),Xt&&Za(w,B),G}function k(w,x,N,E){if(typeof N=="object"&&N!==null&&N.type===nl&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Td:e:{for(var G=N.key,V=x;V!==null;){if(V.key===G){if(G=N.type,G===nl){if(V.tag===7){r(w,V.sibling),x=i(V,N.props.children),x.return=w,w=x;break e}}else if(V.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Xs&&B2(G)===V.type){r(w,V.sibling),x=i(V,N.props),x.ref=Eu(w,V,N),x.return=w,w=x;break e}r(w,V);break}else t(w,V);V=V.sibling}N.type===nl?(x=co(N.props.children,w.mode,E,N.key),x.return=w,w=x):(E=Nh(N.type,N.key,N.props,null,w.mode,E),E.ref=Eu(w,x,N),E.return=w,w=E)}return a(w);case rl:e:{for(V=N.key;x!==null;){if(x.key===V)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){r(w,x.sibling),x=i(x,N.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else t(w,x);x=x.sibling}x=H0(N,w.mode,E),x.return=w,w=x}return a(w);case Xs:return V=N._init,k(w,x,V(N._payload),E)}if(Bu(N))return _(w,x,N,E);if(Nu(N))return S(w,x,N,E);qd(w,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,x!==null&&x.tag===6?(r(w,x.sibling),x=i(x,N),x.return=w,w=x):(r(w,x),x=W0(N,w.mode,E),x.return=w,w=x),a(w)):r(w,x)}return k}var Pl=Fw(!0),Mw=Fw(!1),Vh=Aa(null),Gh=null,dl=null,Nm=null;function km(){Nm=dl=Gh=null}function Am(e){var t=Vh.current;Kt(Vh),e._currentValue=t}function a1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function bl(e,t){Gh=e,Nm=dl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wn=!0),e.firstContext=null)}function ii(e){var t=e._currentValue;if(Nm!==e)if(e={context:e,memoizedValue:t,next:null},dl===null){if(Gh===null)throw Error(je(308));dl=e,Gh.dependencies={lanes:0,firstContext:e}}else dl=dl.next=e;return t}var io=null;function jm(e){io===null?io=[e]:io.push(e)}function Dw(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,jm(t)):(r.next=i.next,i.next=r),t.interleaved=r,js(e,n)}function js(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Qs=!1;function Lm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ns(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,jt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,js(e,r)}return i=n.interleaved,i===null?(t.next=t,jm(n)):(t.next=i.next,i.next=t),n.interleaved=t,js(e,r)}function yh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,fm(e,r)}}function U2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Kh(e,t,r,n){var i=e.updateQueue;Qs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;a=0,d=c=l=null,o=s;do{var v=o.lane,p=o.eventTime;if((n&v)===v){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=e,S=o;switch(v=t,p=r,S.tag){case 1:if(_=S.payload,typeof _=="function"){m=_.call(p,m,v);break e}m=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,v=typeof _=="function"?_.call(p,m,v):_,v==null)break e;m=nr({},m,v);break e;case 2:Qs=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[o]:v.push(o))}else p={eventTime:p,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=m):d=d.next=p,a|=v;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;v=o,o=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(d===null&&(l=m),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);vo|=a,e.lanes=a,e.memoizedState=m}}function z2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(je(191,i));i.call(n)}}}var Uc={},Vi=Aa(Uc),wc=Aa(Uc),bc=Aa(Uc);function so(e){if(e===Uc)throw Error(je(174));return e}function Em(e,t){switch(Wt(bc,t),Wt(wc,e),Wt(Vi,Uc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Up(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Up(t,e)}Kt(Vi),Wt(Vi,t)}function Cl(){Kt(Vi),Kt(wc),Kt(bc)}function Uw(e){so(bc.current);var t=so(Vi.current),r=Up(t,e.type);t!==r&&(Wt(wc,e),Wt(Vi,r))}function Pm(e){wc.current===e&&(Kt(Vi),Kt(wc))}var er=Aa(0);function Jh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var D0=[];function Cm(){for(var e=0;e<D0.length;e++)D0[e]._workInProgressVersionPrimary=null;D0.length=0}var wh=Es.ReactCurrentDispatcher,B0=Es.ReactCurrentBatchConfig,go=0,rr=null,Pr=null,Ir=null,Yh=!1,Zu=!1,_c=0,f6=0;function Jr(){throw Error(je(321))}function Tm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ni(e[r],t[r]))return!1;return!0}function Om(e,t,r,n,i,s){if(go=s,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wh.current=e===null||e.memoizedState===null?v6:y6,e=r(n,i),Zu){s=0;do{if(Zu=!1,_c=0,25<=s)throw Error(je(301));s+=1,Ir=Pr=null,t.updateQueue=null,wh.current=w6,e=r(n,i)}while(Zu)}if(wh.current=Zh,t=Pr!==null&&Pr.next!==null,go=0,Ir=Pr=rr=null,Yh=!1,t)throw Error(je(300));return e}function Im(){var e=_c!==0;return _c=0,e}function Ui(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ir===null?rr.memoizedState=Ir=e:Ir=Ir.next=e,Ir}function si(){if(Pr===null){var e=rr.alternate;e=e!==null?e.memoizedState:null}else e=Pr.next;var t=Ir===null?rr.memoizedState:Ir.next;if(t!==null)Ir=t,Pr=e;else{if(e===null)throw Error(je(310));Pr=e,e={memoizedState:Pr.memoizedState,baseState:Pr.baseState,baseQueue:Pr.baseQueue,queue:Pr.queue,next:null},Ir===null?rr.memoizedState=Ir=e:Ir=Ir.next=e}return Ir}function xc(e,t){return typeof t=="function"?t(e):t}function U0(e){var t=si(),r=t.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=e;var n=Pr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((go&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=m,a=n):l=l.next=m,rr.lanes|=d,vo|=d}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,Ni(n,t.memoizedState)||(wn=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,rr.lanes|=s,vo|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function z0(e){var t=si(),r=t.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Ni(s,t.memoizedState)||(wn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function zw(){}function $w(e,t){var r=rr,n=si(),i=t(),s=!Ni(n.memoizedState,i);if(s&&(n.memoizedState=i,wn=!0),n=n.queue,Rm(Hw.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ir!==null&&Ir.memoizedState.tag&1){if(r.flags|=2048,Sc(9,Ww.bind(null,r,n,i,t),void 0,null),Fr===null)throw Error(je(349));go&30||qw(r,t,i)}return i}function qw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=rr.updateQueue,t===null?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ww(e,t,r,n){t.value=r,t.getSnapshot=n,Vw(t)&&Gw(e)}function Hw(e,t,r){return r(function(){Vw(t)&&Gw(e)})}function Vw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ni(e,r)}catch{return!0}}function Gw(e){var t=js(e,1);t!==null&&Si(t,e,1,-1)}function $2(e){var t=Ui();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:e},t.queue=e,e=e.dispatch=g6.bind(null,rr,e),[t.memoizedState,e]}function Sc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=rr.updateQueue,t===null?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Kw(){return si().memoizedState}function bh(e,t,r,n){var i=Ui();rr.flags|=e,i.memoizedState=Sc(1|t,r,void 0,n===void 0?null:n)}function _f(e,t,r,n){var i=si();n=n===void 0?null:n;var s=void 0;if(Pr!==null){var a=Pr.memoizedState;if(s=a.destroy,n!==null&&Tm(n,a.deps)){i.memoizedState=Sc(t,r,s,n);return}}rr.flags|=e,i.memoizedState=Sc(1|t,r,s,n)}function q2(e,t){return bh(8390656,8,e,t)}function Rm(e,t){return _f(2048,8,e,t)}function Jw(e,t){return _f(4,2,e,t)}function Yw(e,t){return _f(4,4,e,t)}function Zw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xw(e,t,r){return r=r!=null?r.concat([e]):null,_f(4,4,Zw.bind(null,t,e),r)}function Fm(){}function Qw(e,t){var r=si();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Tm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function eb(e,t){var r=si();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Tm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function tb(e,t,r){return go&21?(Ni(r,t)||(r=aw(),rr.lanes|=r,vo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wn=!0),e.memoizedState=r)}function p6(e,t){var r=Rt;Rt=r!==0&&4>r?r:4,e(!0);var n=B0.transition;B0.transition={};try{e(!1),t()}finally{Rt=r,B0.transition=n}}function rb(){return si().memoizedState}function m6(e,t,r){var n=ma(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nb(e))ib(t,r);else if(r=Dw(e,t,r,n),r!==null){var i=hn();Si(r,e,n,i),sb(r,t,n)}}function g6(e,t,r){var n=ma(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nb(e))ib(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Ni(o,a)){var l=t.interleaved;l===null?(i.next=i,jm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=Dw(e,t,i,n),r!==null&&(i=hn(),Si(r,e,n,i),sb(r,t,n))}}function nb(e){var t=e.alternate;return e===rr||t!==null&&t===rr}function ib(e,t){Zu=Yh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sb(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,fm(e,r)}}var Zh={readContext:ii,useCallback:Jr,useContext:Jr,useEffect:Jr,useImperativeHandle:Jr,useInsertionEffect:Jr,useLayoutEffect:Jr,useMemo:Jr,useReducer:Jr,useRef:Jr,useState:Jr,useDebugValue:Jr,useDeferredValue:Jr,useTransition:Jr,useMutableSource:Jr,useSyncExternalStore:Jr,useId:Jr,unstable_isNewReconciler:!1},v6={readContext:ii,useCallback:function(e,t){return Ui().memoizedState=[e,t===void 0?null:t],e},useContext:ii,useEffect:q2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,bh(4194308,4,Zw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return bh(4194308,4,e,t)},useInsertionEffect:function(e,t){return bh(4,2,e,t)},useMemo:function(e,t){var r=Ui();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ui();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=m6.bind(null,rr,e),[n.memoizedState,e]},useRef:function(e){var t=Ui();return e={current:e},t.memoizedState=e},useState:$2,useDebugValue:Fm,useDeferredValue:function(e){return Ui().memoizedState=e},useTransition:function(){var e=$2(!1),t=e[0];return e=p6.bind(null,e[1]),Ui().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=rr,i=Ui();if(Xt){if(r===void 0)throw Error(je(407));r=r()}else{if(r=t(),Fr===null)throw Error(je(349));go&30||qw(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,q2(Hw.bind(null,n,s,e),[e]),n.flags|=2048,Sc(9,Ww.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Ui(),t=Fr.identifierPrefix;if(Xt){var r=Ss,n=xs;r=(n&~(1<<32-xi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=_c++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=f6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},y6={readContext:ii,useCallback:Qw,useContext:ii,useEffect:Rm,useImperativeHandle:Xw,useInsertionEffect:Jw,useLayoutEffect:Yw,useMemo:eb,useReducer:U0,useRef:Kw,useState:function(){return U0(xc)},useDebugValue:Fm,useDeferredValue:function(e){var t=si();return tb(t,Pr.memoizedState,e)},useTransition:function(){var e=U0(xc)[0],t=si().memoizedState;return[e,t]},useMutableSource:zw,useSyncExternalStore:$w,useId:rb,unstable_isNewReconciler:!1},w6={readContext:ii,useCallback:Qw,useContext:ii,useEffect:Rm,useImperativeHandle:Xw,useInsertionEffect:Jw,useLayoutEffect:Yw,useMemo:eb,useReducer:z0,useRef:Kw,useState:function(){return z0(xc)},useDebugValue:Fm,useDeferredValue:function(e){var t=si();return Pr===null?t.memoizedState=e:tb(t,Pr.memoizedState,e)},useTransition:function(){var e=z0(xc)[0],t=si().memoizedState;return[e,t]},useMutableSource:zw,useSyncExternalStore:$w,useId:rb,unstable_isNewReconciler:!1};function yi(e,t){if(e&&e.defaultProps){t=nr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function o1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:nr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var xf={isMounted:function(e){return(e=e._reactInternals)?So(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hn(),i=ma(e),s=Ns(n,i);s.payload=t,r!=null&&(s.callback=r),t=fa(e,s,i),t!==null&&(Si(t,e,i,n),yh(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hn(),i=ma(e),s=Ns(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=fa(e,s,i),t!==null&&(Si(t,e,i,n),yh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hn(),n=ma(e),i=Ns(r,n);i.tag=2,t!=null&&(i.callback=t),t=fa(e,i,n),t!==null&&(Si(t,e,n,r),yh(t,e,n))}};function W2(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!mc(r,n)||!mc(i,s):!0}function ab(e,t,r){var n=!1,i=Sa,s=t.contextType;return typeof s=="object"&&s!==null?s=ii(s):(i=xn(t)?po:rn.current,n=t.contextTypes,s=(n=n!=null)?Ll(e,i):Sa),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function H2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&xf.enqueueReplaceState(t,t.state,null)}function l1(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Lm(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ii(s):(s=xn(t)?po:rn.current,i.context=Ll(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(o1(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&xf.enqueueReplaceState(i,i.state,null),Kh(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Tl(e,t){try{var r="",n=t;do r+=G3(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function $0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function u1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var b6=typeof WeakMap=="function"?WeakMap:Map;function ob(e,t,r){r=Ns(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Qh||(Qh=!0,w1=n),u1(e,t)},r}function lb(e,t,r){r=Ns(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){u1(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){u1(e,t),typeof n!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function V2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new b6;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=I6.bind(null,e,t,r),t.then(e,e))}function G2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function K2(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ns(-1,1),t.tag=2,fa(r,t,1))),r.lanes|=1),e)}var _6=Es.ReactCurrentOwner,wn=!1;function cn(e,t,r,n){t.child=e===null?Mw(t,null,r,n):Pl(t,e.child,r,n)}function J2(e,t,r,n,i){r=r.render;var s=t.ref;return bl(t,i),n=Om(e,t,r,n,s,i),r=Im(),e!==null&&!wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ls(e,t,i)):(Xt&&r&&_m(t),t.flags|=1,cn(e,t,n,i),t.child)}function Y2(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Wm(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,ub(e,t,s,n,i)):(e=Nh(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:mc,r(a,n)&&e.ref===t.ref)return Ls(e,t,i)}return t.flags|=1,e=ga(s,n),e.ref=t.ref,e.return=t,t.child=e}function ub(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(mc(s,n)&&e.ref===t.ref)if(wn=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(wn=!0);else return t.lanes=e.lanes,Ls(e,t,i)}return c1(e,t,r,n,i)}function cb(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(fl,Rn),Rn|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wt(fl,Rn),Rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Wt(fl,Rn),Rn|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Wt(fl,Rn),Rn|=n;return cn(e,t,i,r),t.child}function db(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function c1(e,t,r,n,i){var s=xn(r)?po:rn.current;return s=Ll(t,s),bl(t,i),r=Om(e,t,r,n,s,i),n=Im(),e!==null&&!wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ls(e,t,i)):(Xt&&n&&_m(t),t.flags|=1,cn(e,t,r,i),t.child)}function Z2(e,t,r,n,i){if(xn(r)){var s=!0;qh(t)}else s=!1;if(bl(t,i),t.stateNode===null)_h(e,t),ab(t,r,n),l1(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=ii(c):(c=xn(r)?po:rn.current,c=Ll(t,c));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&H2(t,a,n,c),Qs=!1;var v=t.memoizedState;a.state=v,Kh(t,n,a,i),l=t.memoizedState,o!==n||v!==l||_n.current||Qs?(typeof d=="function"&&(o1(t,r,d,n),l=t.memoizedState),(o=Qs||W2(t,r,o,n,v,l,c))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Bw(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:yi(t.type,o),a.props=c,m=t.pendingProps,v=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=ii(l):(l=xn(r)?po:rn.current,l=Ll(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||v!==l)&&H2(t,a,n,l),Qs=!1,v=t.memoizedState,a.state=v,Kh(t,n,a,i);var _=t.memoizedState;o!==m||v!==_||_n.current||Qs?(typeof p=="function"&&(o1(t,r,p,n),_=t.memoizedState),(c=Qs||W2(t,r,c,n,v,_,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=_),a.props=n,a.state=_,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return d1(e,t,r,n,s,i)}function d1(e,t,r,n,i,s){db(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&F2(t,r,!1),Ls(e,t,s);n=t.stateNode,_6.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Pl(t,e.child,null,s),t.child=Pl(t,null,o,s)):cn(e,t,o,s),t.memoizedState=n.state,i&&F2(t,r,!0),t.child}function hb(e){var t=e.stateNode;t.pendingContext?R2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&R2(e,t.context,!1),Em(e,t.containerInfo)}function X2(e,t,r,n,i){return El(),Sm(i),t.flags|=256,cn(e,t,r,n),t.child}var h1={dehydrated:null,treeContext:null,retryLane:0};function f1(e){return{baseLanes:e,cachePool:null,transitions:null}}function fb(e,t,r){var n=t.pendingProps,i=er.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Wt(er,i&1),e===null)return s1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=kf(a,n,0,null),e=co(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=f1(r),t.memoizedState=h1,e):Mm(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return x6(e,t,a,n,o,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ga(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ga(o,s):(s=co(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?f1(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=h1,n}return s=e.child,e=s.sibling,n=ga(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Mm(e,t){return t=kf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wd(e,t,r,n){return n!==null&&Sm(n),Pl(t,e.child,null,r),e=Mm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x6(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=$0(Error(je(422))),Wd(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=kf({mode:"visible",children:n.children},i,0,null),s=co(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Pl(t,e.child,null,a),t.child.memoizedState=f1(a),t.memoizedState=h1,s);if(!(t.mode&1))return Wd(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(je(419)),n=$0(s,n,void 0),Wd(e,t,a,n)}if(o=(a&e.childLanes)!==0,wn||o){if(n=Fr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,js(e,i),Si(n,e,i,-1))}return qm(),n=$0(Error(je(421))),Wd(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=R6.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Fn=ha(i.nextSibling),Bn=t,Xt=!0,_i=null,e!==null&&(Xn[Qn++]=xs,Xn[Qn++]=Ss,Xn[Qn++]=mo,xs=e.id,Ss=e.overflow,mo=t),t=Mm(t,n.children),t.flags|=4096,t)}function Q2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),a1(e.return,t,r)}function q0(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function pb(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(cn(e,t,n.children,r),n=er.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Q2(e,r,t);else if(e.tag===19)Q2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Wt(er,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Jh(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),q0(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Jh(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}q0(t,!0,r,null,s);break;case"together":q0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _h(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ls(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(je(153));if(t.child!==null){for(e=t.child,r=ga(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ga(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function S6(e,t,r){switch(t.tag){case 3:hb(t),El();break;case 5:Uw(t);break;case 1:xn(t.type)&&qh(t);break;case 4:Em(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Wt(Vh,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Wt(er,er.current&1),t.flags|=128,null):r&t.child.childLanes?fb(e,t,r):(Wt(er,er.current&1),e=Ls(e,t,r),e!==null?e.sibling:null);Wt(er,er.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return pb(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wt(er,er.current),n)break;return null;case 22:case 23:return t.lanes=0,cb(e,t,r)}return Ls(e,t,r)}var mb,p1,gb,vb;mb=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};p1=function(){};gb=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,so(Vi.current);var s=null;switch(r){case"input":i=Fp(e,i),n=Fp(e,n),s=[];break;case"select":i=nr({},i,{value:void 0}),n=nr({},n,{value:void 0}),s=[];break;case"textarea":i=Bp(e,i),n=Bp(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=zh)}zp(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(lc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(lc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Vt("scroll",e),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};vb=function(e,t,r,n){r!==n&&(t.flags|=4)};function Pu(e,t){if(!Xt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Yr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function N6(e,t,r){var n=t.pendingProps;switch(xm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(t),null;case 1:return xn(t.type)&&$h(),Yr(t),null;case 3:return n=t.stateNode,Cl(),Kt(_n),Kt(rn),Cm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($d(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_i!==null&&(x1(_i),_i=null))),p1(e,t),Yr(t),null;case 5:Pm(t);var i=so(bc.current);if(r=t.type,e!==null&&t.stateNode!=null)gb(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(je(166));return Yr(t),null}if(e=so(Vi.current),$d(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[$i]=t,n[yc]=s,e=(t.mode&1)!==0,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(i=0;i<zu.length;i++)Vt(zu[i],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":l2(n,s),Vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Vt("invalid",n);break;case"textarea":c2(n,s),Vt("invalid",n)}zp(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&zd(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&zd(n.textContent,o,e),i=["children",""+o]):lc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Vt("scroll",n)}switch(r){case"input":Od(n),u2(n,s,!0);break;case"textarea":Od(n),d2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=zh)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[$i]=t,e[yc]=n,mb(e,t,!1,!1),t.stateNode=e;e:{switch(a=$p(r,n),r){case"dialog":Vt("cancel",e),Vt("close",e),i=n;break;case"iframe":case"object":case"embed":Vt("load",e),i=n;break;case"video":case"audio":for(i=0;i<zu.length;i++)Vt(zu[i],e);i=n;break;case"source":Vt("error",e),i=n;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),i=n;break;case"details":Vt("toggle",e),i=n;break;case"input":l2(e,n),i=Fp(e,n),Vt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=nr({},n,{value:void 0}),Vt("invalid",e);break;case"textarea":c2(e,n),i=Bp(e,n),Vt("invalid",e);break;default:i=n}zp(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Ky(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vy(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&uc(e,l):typeof l=="number"&&uc(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(lc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Vt("scroll",e):l!=null&&om(e,s,l,a))}switch(r){case"input":Od(e),u2(e,n,!1);break;case"textarea":Od(e),d2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+xa(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?gl(e,!!n.multiple,s,!1):n.defaultValue!=null&&gl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=zh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yr(t),null;case 6:if(e&&t.stateNode!=null)vb(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(je(166));if(r=so(bc.current),so(Vi.current),$d(t)){if(n=t.stateNode,r=t.memoizedProps,n[$i]=t,(s=n.nodeValue!==r)&&(e=Bn,e!==null))switch(e.tag){case 3:zd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zd(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$i]=t,t.stateNode=n}return Yr(t),null;case 13:if(Kt(er),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xt&&Fn!==null&&t.mode&1&&!(t.flags&128))Rw(),El(),t.flags|=98560,s=!1;else if(s=$d(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(je(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(je(317));s[$i]=t}else El(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yr(t),s=!1}else _i!==null&&(x1(_i),_i=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||er.current&1?Cr===0&&(Cr=3):qm())),t.updateQueue!==null&&(t.flags|=4),Yr(t),null);case 4:return Cl(),p1(e,t),e===null&&gc(t.stateNode.containerInfo),Yr(t),null;case 10:return Am(t.type._context),Yr(t),null;case 17:return xn(t.type)&&$h(),Yr(t),null;case 19:if(Kt(er),s=t.memoizedState,s===null)return Yr(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)Pu(s,!1);else{if(Cr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Jh(e),a!==null){for(t.flags|=128,Pu(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Wt(er,er.current&1|2),t.child}e=e.sibling}s.tail!==null&&fr()>Ol&&(t.flags|=128,n=!0,Pu(s,!1),t.lanes=4194304)}else{if(!n)if(e=Jh(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Pu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Xt)return Yr(t),null}else 2*fr()-s.renderingStartTime>Ol&&r!==1073741824&&(t.flags|=128,n=!0,Pu(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=fr(),t.sibling=null,r=er.current,Wt(er,n?r&1|2:r&1),t):(Yr(t),null);case 22:case 23:return $m(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Rn&1073741824&&(Yr(t),t.subtreeFlags&6&&(t.flags|=8192)):Yr(t),null;case 24:return null;case 25:return null}throw Error(je(156,t.tag))}function k6(e,t){switch(xm(t),t.tag){case 1:return xn(t.type)&&$h(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cl(),Kt(_n),Kt(rn),Cm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pm(t),null;case 13:if(Kt(er),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(je(340));El()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kt(er),null;case 4:return Cl(),null;case 10:return Am(t.type._context),null;case 22:case 23:return $m(),null;case 24:return null;default:return null}}var Hd=!1,tn=!1,A6=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function hl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){lr(e,t,n)}else r.current=null}function m1(e,t,r){try{r()}catch(n){lr(e,t,n)}}var ev=!1;function j6(e,t){if(Xp=Dh,e=xw(),bm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,m=e,v=null;t:for(;;){for(var p;m!==r||i!==0&&m.nodeType!==3||(o=a+i),m!==s||n!==0&&m.nodeType!==3||(l=a+n),m.nodeType===3&&(a+=m.nodeValue.length),(p=m.firstChild)!==null;)v=m,m=p;for(;;){if(m===e)break t;if(v===r&&++c===i&&(o=a),v===s&&++d===n&&(l=a),(p=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qp={focusedElem:e,selectionRange:r},Dh=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){t=Fe;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,k=_.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?S:yi(t.type,S),k);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(E){lr(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}return _=ev,ev=!1,_}function Xu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&m1(t,r,s)}i=i.next}while(i!==n)}}function Sf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function g1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function yb(e){var t=e.alternate;t!==null&&(e.alternate=null,yb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$i],delete t[yc],delete t[r1],delete t[u6],delete t[c6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wb(e){return e.tag===5||e.tag===3||e.tag===4}function tv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function v1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=zh));else if(n!==4&&(e=e.child,e!==null))for(v1(e,t,r),e=e.sibling;e!==null;)v1(e,t,r),e=e.sibling}function y1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(y1(e,t,r),e=e.sibling;e!==null;)y1(e,t,r),e=e.sibling}var qr=null,wi=!1;function Vs(e,t,r){for(r=r.child;r!==null;)bb(e,t,r),r=r.sibling}function bb(e,t,r){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(mf,r)}catch{}switch(r.tag){case 5:tn||hl(r,t);case 6:var n=qr,i=wi;qr=null,Vs(e,t,r),qr=n,wi=i,qr!==null&&(wi?(e=qr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qr.removeChild(r.stateNode));break;case 18:qr!==null&&(wi?(e=qr,r=r.stateNode,e.nodeType===8?F0(e.parentNode,r):e.nodeType===1&&F0(e,r),fc(e)):F0(qr,r.stateNode));break;case 4:n=qr,i=wi,qr=r.stateNode.containerInfo,wi=!0,Vs(e,t,r),qr=n,wi=i;break;case 0:case 11:case 14:case 15:if(!tn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&m1(r,t,a),i=i.next}while(i!==n)}Vs(e,t,r);break;case 1:if(!tn&&(hl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){lr(r,t,o)}Vs(e,t,r);break;case 21:Vs(e,t,r);break;case 22:r.mode&1?(tn=(n=tn)||r.memoizedState!==null,Vs(e,t,r),tn=n):Vs(e,t,r);break;default:Vs(e,t,r)}}function rv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new A6),t.forEach(function(n){var i=F6.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function mi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:qr=o.stateNode,wi=!1;break e;case 3:qr=o.stateNode.containerInfo,wi=!0;break e;case 4:qr=o.stateNode.containerInfo,wi=!0;break e}o=o.return}if(qr===null)throw Error(je(160));bb(s,a,i),qr=null,wi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){lr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_b(t,e),t=t.sibling}function _b(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mi(t,e),Mi(e),n&4){try{Xu(3,e,e.return),Sf(3,e)}catch(S){lr(e,e.return,S)}try{Xu(5,e,e.return)}catch(S){lr(e,e.return,S)}}break;case 1:mi(t,e),Mi(e),n&512&&r!==null&&hl(r,r.return);break;case 5:if(mi(t,e),Mi(e),n&512&&r!==null&&hl(r,r.return),e.flags&32){var i=e.stateNode;try{uc(i,"")}catch(S){lr(e,e.return,S)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&qy(i,s),$p(o,a);var c=$p(o,s);for(a=0;a<l.length;a+=2){var d=l[a],m=l[a+1];d==="style"?Ky(i,m):d==="dangerouslySetInnerHTML"?Vy(i,m):d==="children"?uc(i,m):om(i,d,m,c)}switch(o){case"input":Mp(i,s);break;case"textarea":Wy(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?gl(i,!!s.multiple,p,!1):v!==!!s.multiple&&(s.defaultValue!=null?gl(i,!!s.multiple,s.defaultValue,!0):gl(i,!!s.multiple,s.multiple?[]:"",!1))}i[yc]=s}catch(S){lr(e,e.return,S)}}break;case 6:if(mi(t,e),Mi(e),n&4){if(e.stateNode===null)throw Error(je(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(S){lr(e,e.return,S)}}break;case 3:if(mi(t,e),Mi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fc(t.containerInfo)}catch(S){lr(e,e.return,S)}break;case 4:mi(t,e),Mi(e);break;case 13:mi(t,e),Mi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Um=fr())),n&4&&rv(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(tn=(c=tn)||d,mi(t,e),tn=c):mi(t,e),Mi(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Fe=e,d=e.child;d!==null;){for(m=Fe=d;Fe!==null;){switch(v=Fe,p=v.child,v.tag){case 0:case 11:case 14:case 15:Xu(4,v,v.return);break;case 1:hl(v,v.return);var _=v.stateNode;if(typeof _.componentWillUnmount=="function"){n=v,r=v.return;try{t=n,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(S){lr(n,r,S)}}break;case 5:hl(v,v.return);break;case 22:if(v.memoizedState!==null){iv(m);continue}}p!==null?(p.return=v,Fe=p):iv(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=m.stateNode,l=m.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Gy("display",a))}catch(S){lr(e,e.return,S)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(S){lr(e,e.return,S)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:mi(t,e),Mi(e),n&4&&rv(e);break;case 21:break;default:mi(t,e),Mi(e)}}function Mi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(wb(r)){var n=r;break e}r=r.return}throw Error(je(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(uc(i,""),n.flags&=-33);var s=tv(e);y1(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=tv(e);v1(e,o,a);break;default:throw Error(je(161))}}catch(l){lr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function L6(e,t,r){Fe=e,xb(e)}function xb(e,t,r){for(var n=(e.mode&1)!==0;Fe!==null;){var i=Fe,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Hd;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||tn;o=Hd;var c=tn;if(Hd=a,(tn=l)&&!c)for(Fe=i;Fe!==null;)a=Fe,l=a.child,a.tag===22&&a.memoizedState!==null?sv(i):l!==null?(l.return=a,Fe=l):sv(i);for(;s!==null;)Fe=s,xb(s),s=s.sibling;Fe=i,Hd=o,tn=c}nv(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Fe=s):nv(e)}}function nv(e){for(;Fe!==null;){var t=Fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tn||Sf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!tn)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:yi(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&z2(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}z2(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&fc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}tn||t.flags&512&&g1(t)}catch(v){lr(t,t.return,v)}}if(t===e){Fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Fe=r;break}Fe=t.return}}function iv(e){for(;Fe!==null;){var t=Fe;if(t===e){Fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Fe=r;break}Fe=t.return}}function sv(e){for(;Fe!==null;){var t=Fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Sf(4,t)}catch(l){lr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){lr(t,i,l)}}var s=t.return;try{g1(t)}catch(l){lr(t,s,l)}break;case 5:var a=t.return;try{g1(t)}catch(l){lr(t,a,l)}}}catch(l){lr(t,t.return,l)}if(t===e){Fe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Fe=o;break}Fe=t.return}}var E6=Math.ceil,Xh=Es.ReactCurrentDispatcher,Dm=Es.ReactCurrentOwner,ri=Es.ReactCurrentBatchConfig,jt=0,Fr=null,_r=null,Hr=0,Rn=0,fl=Aa(0),Cr=0,Nc=null,vo=0,Nf=0,Bm=0,Qu=null,vn=null,Um=0,Ol=1/0,vs=null,Qh=!1,w1=null,pa=null,Vd=!1,sa=null,ef=0,ec=0,b1=null,xh=-1,Sh=0;function hn(){return jt&6?fr():xh!==-1?xh:xh=fr()}function ma(e){return e.mode&1?jt&2&&Hr!==0?Hr&-Hr:h6.transition!==null?(Sh===0&&(Sh=aw()),Sh):(e=Rt,e!==0||(e=window.event,e=e===void 0?16:fw(e.type)),e):1}function Si(e,t,r,n){if(50<ec)throw ec=0,b1=null,Error(je(185));Mc(e,r,n),(!(jt&2)||e!==Fr)&&(e===Fr&&(!(jt&2)&&(Nf|=r),Cr===4&&ta(e,Hr)),Sn(e,n),r===1&&jt===0&&!(t.mode&1)&&(Ol=fr()+500,bf&&ja()))}function Sn(e,t){var r=e.callbackNode;h4(e,t);var n=Mh(e,e===Fr?Hr:0);if(n===0)r!==null&&p2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&p2(r),t===1)e.tag===0?d6(av.bind(null,e)):Tw(av.bind(null,e)),o6(function(){!(jt&6)&&ja()}),r=null;else{switch(ow(n)){case 1:r=hm;break;case 4:r=iw;break;case 16:r=Fh;break;case 536870912:r=sw;break;default:r=Fh}r=Pb(r,Sb.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Sb(e,t){if(xh=-1,Sh=0,jt&6)throw Error(je(327));var r=e.callbackNode;if(_l()&&e.callbackNode!==r)return null;var n=Mh(e,e===Fr?Hr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=tf(e,n);else{t=n;var i=jt;jt|=2;var s=kb();(Fr!==e||Hr!==t)&&(vs=null,Ol=fr()+500,uo(e,t));do try{T6();break}catch(o){Nb(e,o)}while(!0);km(),Xh.current=s,jt=i,_r!==null?t=0:(Fr=null,Hr=0,t=Cr)}if(t!==0){if(t===2&&(i=Gp(e),i!==0&&(n=i,t=_1(e,i))),t===1)throw r=Nc,uo(e,0),ta(e,n),Sn(e,fr()),r;if(t===6)ta(e,n);else{if(i=e.current.alternate,!(n&30)&&!P6(i)&&(t=tf(e,n),t===2&&(s=Gp(e),s!==0&&(n=s,t=_1(e,s))),t===1))throw r=Nc,uo(e,0),ta(e,n),Sn(e,fr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(je(345));case 2:Xa(e,vn,vs);break;case 3:if(ta(e,n),(n&130023424)===n&&(t=Um+500-fr(),10<t)){if(Mh(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){hn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=t1(Xa.bind(null,e,vn,vs),t);break}Xa(e,vn,vs);break;case 4:if(ta(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-xi(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=fr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*E6(n/1960))-n,10<n){e.timeoutHandle=t1(Xa.bind(null,e,vn,vs),n);break}Xa(e,vn,vs);break;case 5:Xa(e,vn,vs);break;default:throw Error(je(329))}}}return Sn(e,fr()),e.callbackNode===r?Sb.bind(null,e):null}function _1(e,t){var r=Qu;return e.current.memoizedState.isDehydrated&&(uo(e,t).flags|=256),e=tf(e,t),e!==2&&(t=vn,vn=r,t!==null&&x1(t)),e}function x1(e){vn===null?vn=e:vn.push.apply(vn,e)}function P6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ni(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ta(e,t){for(t&=~Bm,t&=~Nf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xi(t),n=1<<r;e[r]=-1,t&=~n}}function av(e){if(jt&6)throw Error(je(327));_l();var t=Mh(e,0);if(!(t&1))return Sn(e,fr()),null;var r=tf(e,t);if(e.tag!==0&&r===2){var n=Gp(e);n!==0&&(t=n,r=_1(e,n))}if(r===1)throw r=Nc,uo(e,0),ta(e,t),Sn(e,fr()),r;if(r===6)throw Error(je(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xa(e,vn,vs),Sn(e,fr()),null}function zm(e,t){var r=jt;jt|=1;try{return e(t)}finally{jt=r,jt===0&&(Ol=fr()+500,bf&&ja())}}function yo(e){sa!==null&&sa.tag===0&&!(jt&6)&&_l();var t=jt;jt|=1;var r=ri.transition,n=Rt;try{if(ri.transition=null,Rt=1,e)return e()}finally{Rt=n,ri.transition=r,jt=t,!(jt&6)&&ja()}}function $m(){Rn=fl.current,Kt(fl)}function uo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,a6(r)),_r!==null)for(r=_r.return;r!==null;){var n=r;switch(xm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$h();break;case 3:Cl(),Kt(_n),Kt(rn),Cm();break;case 5:Pm(n);break;case 4:Cl();break;case 13:Kt(er);break;case 19:Kt(er);break;case 10:Am(n.type._context);break;case 22:case 23:$m()}r=r.return}if(Fr=e,_r=e=ga(e.current,null),Hr=Rn=t,Cr=0,Nc=null,Bm=Nf=vo=0,vn=Qu=null,io!==null){for(t=0;t<io.length;t++)if(r=io[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}io=null}return e}function Nb(e,t){do{var r=_r;try{if(km(),wh.current=Zh,Yh){for(var n=rr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Yh=!1}if(go=0,Ir=Pr=rr=null,Zu=!1,_c=0,Dm.current=null,r===null||r.return===null){Cr=1,Nc=t,_r=null;break}e:{var s=e,a=r.return,o=r,l=t;if(t=Hr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=G2(a);if(p!==null){p.flags&=-257,K2(p,a,o,s,t),p.mode&1&&V2(s,c,t),t=p,l=c;var _=t.updateQueue;if(_===null){var S=new Set;S.add(l),t.updateQueue=S}else _.add(l);break e}else{if(!(t&1)){V2(s,c,t),qm();break e}l=Error(je(426))}}else if(Xt&&o.mode&1){var k=G2(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),K2(k,a,o,s,t),Sm(Tl(l,o));break e}}s=l=Tl(l,o),Cr!==4&&(Cr=2),Qu===null?Qu=[s]:Qu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var w=ob(s,l,t);U2(s,w);break e;case 1:o=l;var x=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(pa===null||!pa.has(N)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=lb(s,o,t);U2(s,E);break e}}s=s.return}while(s!==null)}jb(r)}catch(G){t=G,_r===r&&r!==null&&(_r=r=r.return);continue}break}while(!0)}function kb(){var e=Xh.current;return Xh.current=Zh,e===null?Zh:e}function qm(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),Fr===null||!(vo&268435455)&&!(Nf&268435455)||ta(Fr,Hr)}function tf(e,t){var r=jt;jt|=2;var n=kb();(Fr!==e||Hr!==t)&&(vs=null,uo(e,t));do try{C6();break}catch(i){Nb(e,i)}while(!0);if(km(),jt=r,Xh.current=n,_r!==null)throw Error(je(261));return Fr=null,Hr=0,Cr}function C6(){for(;_r!==null;)Ab(_r)}function T6(){for(;_r!==null&&!n4();)Ab(_r)}function Ab(e){var t=Eb(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?jb(e):_r=t,Dm.current=null}function jb(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=k6(r,t),r!==null){r.flags&=32767,_r=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Cr=6,_r=null;return}}else if(r=N6(r,t,Rn),r!==null){_r=r;return}if(t=t.sibling,t!==null){_r=t;return}_r=t=e}while(t!==null);Cr===0&&(Cr=5)}function Xa(e,t,r){var n=Rt,i=ri.transition;try{ri.transition=null,Rt=1,O6(e,t,r,n)}finally{ri.transition=i,Rt=n}return null}function O6(e,t,r,n){do _l();while(sa!==null);if(jt&6)throw Error(je(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(je(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(f4(e,s),e===Fr&&(_r=Fr=null,Hr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Vd||(Vd=!0,Pb(Fh,function(){return _l(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ri.transition,ri.transition=null;var a=Rt;Rt=1;var o=jt;jt|=4,Dm.current=null,j6(e,r),_b(r,e),Q4(Qp),Dh=!!Xp,Qp=Xp=null,e.current=r,L6(r),i4(),jt=o,Rt=a,ri.transition=s}else e.current=r;if(Vd&&(Vd=!1,sa=e,ef=i),s=e.pendingLanes,s===0&&(pa=null),o4(r.stateNode),Sn(e,fr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Qh)throw Qh=!1,e=w1,w1=null,e;return ef&1&&e.tag!==0&&_l(),s=e.pendingLanes,s&1?e===b1?ec++:(ec=0,b1=e):ec=0,ja(),null}function _l(){if(sa!==null){var e=ow(ef),t=ri.transition,r=Rt;try{if(ri.transition=null,Rt=16>e?16:e,sa===null)var n=!1;else{if(e=sa,sa=null,ef=0,jt&6)throw Error(je(331));var i=jt;for(jt|=4,Fe=e.current;Fe!==null;){var s=Fe,a=s.child;if(Fe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Fe=c;Fe!==null;){var d=Fe;switch(d.tag){case 0:case 11:case 15:Xu(8,d,s)}var m=d.child;if(m!==null)m.return=d,Fe=m;else for(;Fe!==null;){d=Fe;var v=d.sibling,p=d.return;if(yb(d),d===c){Fe=null;break}if(v!==null){v.return=p,Fe=v;break}Fe=p}}}var _=s.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}Fe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Fe=a;else e:for(;Fe!==null;){if(s=Fe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xu(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Fe=w;break e}Fe=s.return}}var x=e.current;for(Fe=x;Fe!==null;){a=Fe;var N=a.child;if(a.subtreeFlags&2064&&N!==null)N.return=a,Fe=N;else e:for(a=x;Fe!==null;){if(o=Fe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Sf(9,o)}}catch(G){lr(o,o.return,G)}if(o===a){Fe=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Fe=E;break e}Fe=o.return}}if(jt=i,ja(),Hi&&typeof Hi.onPostCommitFiberRoot=="function")try{Hi.onPostCommitFiberRoot(mf,e)}catch{}n=!0}return n}finally{Rt=r,ri.transition=t}}return!1}function ov(e,t,r){t=Tl(r,t),t=ob(e,t,1),e=fa(e,t,1),t=hn(),e!==null&&(Mc(e,1,t),Sn(e,t))}function lr(e,t,r){if(e.tag===3)ov(e,e,r);else for(;t!==null;){if(t.tag===3){ov(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pa===null||!pa.has(n))){e=Tl(r,e),e=lb(t,e,1),t=fa(t,e,1),e=hn(),t!==null&&(Mc(t,1,e),Sn(t,e));break}}t=t.return}}function I6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=hn(),e.pingedLanes|=e.suspendedLanes&r,Fr===e&&(Hr&r)===r&&(Cr===4||Cr===3&&(Hr&130023424)===Hr&&500>fr()-Um?uo(e,0):Bm|=r),Sn(e,t)}function Lb(e,t){t===0&&(e.mode&1?(t=Fd,Fd<<=1,!(Fd&130023424)&&(Fd=4194304)):t=1);var r=hn();e=js(e,t),e!==null&&(Mc(e,t,r),Sn(e,r))}function R6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Lb(e,r)}function F6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(je(314))}n!==null&&n.delete(t),Lb(e,r)}var Eb;Eb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_n.current)wn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return wn=!1,S6(e,t,r);wn=!!(e.flags&131072)}else wn=!1,Xt&&t.flags&1048576&&Ow(t,Hh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;_h(e,t),e=t.pendingProps;var i=Ll(t,rn.current);bl(t,r),i=Om(null,t,n,e,i,r);var s=Im();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xn(n)?(s=!0,qh(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Lm(t),i.updater=xf,t.stateNode=i,i._reactInternals=t,l1(t,n,e,r),t=d1(null,t,n,!0,s,r)):(t.tag=0,Xt&&s&&_m(t),cn(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(_h(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=D6(n),e=yi(n,e),i){case 0:t=c1(null,t,n,e,r);break e;case 1:t=Z2(null,t,n,e,r);break e;case 11:t=J2(null,t,n,e,r);break e;case 14:t=Y2(null,t,n,yi(n.type,e),r);break e}throw Error(je(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:yi(n,i),c1(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:yi(n,i),Z2(e,t,n,i,r);case 3:e:{if(hb(t),e===null)throw Error(je(387));n=t.pendingProps,s=t.memoizedState,i=s.element,Bw(e,t),Kh(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Tl(Error(je(423)),t),t=X2(e,t,n,r,i);break e}else if(n!==i){i=Tl(Error(je(424)),t),t=X2(e,t,n,r,i);break e}else for(Fn=ha(t.stateNode.containerInfo.firstChild),Bn=t,Xt=!0,_i=null,r=Mw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(El(),n===i){t=Ls(e,t,r);break e}cn(e,t,n,r)}t=t.child}return t;case 5:return Uw(t),e===null&&s1(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,e1(n,i)?a=null:s!==null&&e1(n,s)&&(t.flags|=32),db(e,t),cn(e,t,a,r),t.child;case 6:return e===null&&s1(t),null;case 13:return fb(e,t,r);case 4:return Em(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Pl(t,null,n,r):cn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:yi(n,i),J2(e,t,n,i,r);case 7:return cn(e,t,t.pendingProps,r),t.child;case 8:return cn(e,t,t.pendingProps.children,r),t.child;case 12:return cn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Wt(Vh,n._currentValue),n._currentValue=a,s!==null)if(Ni(s.value,a)){if(s.children===i.children&&!_n.current){t=Ls(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Ns(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),a1(s.return,r,t),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(je(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),a1(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}cn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,bl(t,r),i=ii(i),n=n(i),t.flags|=1,cn(e,t,n,r),t.child;case 14:return n=t.type,i=yi(n,t.pendingProps),i=yi(n.type,i),Y2(e,t,n,i,r);case 15:return ub(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:yi(n,i),_h(e,t),t.tag=1,xn(n)?(e=!0,qh(t)):e=!1,bl(t,r),ab(t,n,i),l1(t,n,i,r),d1(null,t,n,!0,e,r);case 19:return pb(e,t,r);case 22:return cb(e,t,r)}throw Error(je(156,t.tag))};function Pb(e,t){return nw(e,t)}function M6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(e,t,r,n){return new M6(e,t,r,n)}function Wm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D6(e){if(typeof e=="function")return Wm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===um)return 11;if(e===cm)return 14}return 2}function ga(e,t){var r=e.alternate;return r===null?(r=ti(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Nh(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")Wm(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case nl:return co(r.children,i,s,t);case lm:a=8,i|=8;break;case Tp:return e=ti(12,r,t,i|2),e.elementType=Tp,e.lanes=s,e;case Op:return e=ti(13,r,t,i),e.elementType=Op,e.lanes=s,e;case Ip:return e=ti(19,r,t,i),e.elementType=Ip,e.lanes=s,e;case Uy:return kf(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dy:a=10;break e;case By:a=9;break e;case um:a=11;break e;case cm:a=14;break e;case Xs:a=16,n=null;break e}throw Error(je(130,e==null?e:typeof e,""))}return t=ti(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function co(e,t,r,n){return e=ti(7,e,n,t),e.lanes=r,e}function kf(e,t,r,n){return e=ti(22,e,n,t),e.elementType=Uy,e.lanes=r,e.stateNode={isHidden:!1},e}function W0(e,t,r){return e=ti(6,e,null,t),e.lanes=r,e}function H0(e,t,r){return t=ti(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function B6(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=k0(0),this.expirationTimes=k0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hm(e,t,r,n,i,s,a,o,l){return e=new B6(e,t,r,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ti(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lm(s),e}function U6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Cb(e){if(!e)return Sa;e=e._reactInternals;e:{if(So(e)!==e||e.tag!==1)throw Error(je(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(je(171))}if(e.tag===1){var r=e.type;if(xn(r))return Cw(e,r,t)}return t}function Tb(e,t,r,n,i,s,a,o,l){return e=Hm(r,n,!0,e,i,s,a,o,l),e.context=Cb(null),r=e.current,n=hn(),i=ma(r),s=Ns(n,i),s.callback=t??null,fa(r,s,i),e.current.lanes=i,Mc(e,i,n),Sn(e,n),e}function Af(e,t,r,n){var i=t.current,s=hn(),a=ma(i);return r=Cb(r),t.context===null?t.context=r:t.pendingContext=r,t=Ns(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fa(i,t,a),e!==null&&(Si(e,i,a,s),yh(e,i,a)),a}function rf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Vm(e,t){lv(e,t),(e=e.alternate)&&lv(e,t)}function z6(){return null}var Ob=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gm(e){this._internalRoot=e}jf.prototype.render=Gm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(je(409));Af(e,t,null,null)};jf.prototype.unmount=Gm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yo(function(){Af(null,e,null,null)}),t[As]=null}};function jf(e){this._internalRoot=e}jf.prototype.unstable_scheduleHydration=function(e){if(e){var t=cw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ea.length&&t!==0&&t<ea[r].priority;r++);ea.splice(r,0,e),r===0&&hw(e)}};function Km(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uv(){}function $6(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=rf(a);s.call(c)}}var a=Tb(t,n,e,0,null,!1,!1,"",uv);return e._reactRootContainer=a,e[As]=a.current,gc(e.nodeType===8?e.parentNode:e),yo(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=rf(l);o.call(c)}}var l=Hm(e,0,!1,null,null,!1,!1,"",uv);return e._reactRootContainer=l,e[As]=l.current,gc(e.nodeType===8?e.parentNode:e),yo(function(){Af(t,l,r,n)}),l}function Ef(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=rf(a);o.call(l)}}Af(t,a,e,i)}else a=$6(r,t,e,i,n);return rf(a)}lw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Uu(t.pendingLanes);r!==0&&(fm(t,r|1),Sn(t,fr()),!(jt&6)&&(Ol=fr()+500,ja()))}break;case 13:yo(function(){var n=js(e,1);if(n!==null){var i=hn();Si(n,e,1,i)}}),Vm(e,1)}};pm=function(e){if(e.tag===13){var t=js(e,134217728);if(t!==null){var r=hn();Si(t,e,134217728,r)}Vm(e,134217728)}};uw=function(e){if(e.tag===13){var t=ma(e),r=js(e,t);if(r!==null){var n=hn();Si(r,e,t,n)}Vm(e,t)}};cw=function(){return Rt};dw=function(e,t){var r=Rt;try{return Rt=e,t()}finally{Rt=r}};Wp=function(e,t,r){switch(t){case"input":if(Mp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=wf(n);if(!i)throw Error(je(90));$y(n),Mp(n,i)}}}break;case"textarea":Wy(e,r);break;case"select":t=r.value,t!=null&&gl(e,!!r.multiple,t,!1)}};Zy=zm;Xy=yo;var q6={usingClientEntryPoint:!1,Events:[Bc,ol,wf,Jy,Yy,zm]},Cu={findFiberByHostInstance:no,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W6={bundleType:Cu.bundleType,version:Cu.version,rendererPackageName:Cu.rendererPackageName,rendererConfig:Cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tw(e),e===null?null:e.stateNode},findFiberByHostInstance:Cu.findFiberByHostInstance||z6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gd.isDisabled&&Gd.supportsFiber)try{mf=Gd.inject(W6),Hi=Gd}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q6;zn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Km(t))throw Error(je(200));return U6(e,t,null,r)};zn.createRoot=function(e,t){if(!Km(e))throw Error(je(299));var r=!1,n="",i=Ob;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Hm(e,1,!1,null,null,r,!1,n,i),e[As]=t.current,gc(e.nodeType===8?e.parentNode:e),new Gm(t)};zn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(je(188)):(e=Object.keys(e).join(","),Error(je(268,e)));return e=tw(t),e=e===null?null:e.stateNode,e};zn.flushSync=function(e){return yo(e)};zn.hydrate=function(e,t,r){if(!Lf(t))throw Error(je(200));return Ef(null,e,t,!0,r)};zn.hydrateRoot=function(e,t,r){if(!Km(e))throw Error(je(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Ob;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Tb(t,null,e,1,r??null,i,!1,s,a),e[As]=t.current,gc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new jf(t)};zn.render=function(e,t,r){if(!Lf(t))throw Error(je(200));return Ef(null,e,t,!1,r)};zn.unmountComponentAtNode=function(e){if(!Lf(e))throw Error(je(40));return e._reactRootContainer?(yo(function(){Ef(null,null,e,!1,function(){e._reactRootContainer=null,e[As]=null})}),!0):!1};zn.unstable_batchedUpdates=zm;zn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Lf(r))throw Error(je(200));if(e==null||e._reactInternals===void 0)throw Error(je(38));return Ef(e,t,r,!1,n)};zn.version="18.3.1-next-f1338f8080-20240426";function Ib(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ib)}catch(e){console.error(e)}}Ib(),Iy.exports=zn;var H6=Iy.exports,Rb,cv=H6;Rb=cv.createRoot,cv.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),nn=(e,t)=>{const r=pe.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>pe.createElement("svg",{ref:d,...V6,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${G6(e)}`,o].join(" "),...c},[...t.map(([m,v])=>pe.createElement(m,v)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=nn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=nn("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=nn("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=nn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=nn("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=nn("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=nn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=nn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=nn("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=nn("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=nn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=nn("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=nn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=nn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=nn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=nn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kc.apply(this,arguments)}var aa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(aa||(aa={}));const gv="popstate";function eS(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:a,hash:o}=n.location;return S1("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:nf(i)}return rS(t,r,null,e)}function vr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ym(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tS(){return Math.random().toString(36).substr(2,8)}function vv(e,t){return{usr:e.state,key:e.key,idx:t}}function S1(e,t,r,n){return r===void 0&&(r=null),kc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$l(t):t,{state:r,key:t&&t.key||n||tS()})}function nf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $l(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function rS(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=aa.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(kc({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function m(){o=aa.Pop;let k=d(),w=k==null?null:k-c;c=k,l&&l({action:o,location:S.location,delta:w})}function v(k,w){o=aa.Push;let x=S1(S.location,k,w);c=d()+1;let N=vv(x,c),E=S.createHref(x);try{a.pushState(N,"",E)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;i.location.assign(E)}s&&l&&l({action:o,location:S.location,delta:1})}function p(k,w){o=aa.Replace;let x=S1(S.location,k,w);c=d();let N=vv(x,c),E=S.createHref(x);a.replaceState(N,"",E),s&&l&&l({action:o,location:S.location,delta:0})}function _(k){let w=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof k=="string"?k:nf(k);return x=x.replace(/ $/,"%20"),vr(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let S={get action(){return o},get location(){return e(i,a)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gv,m),l=k,()=>{i.removeEventListener(gv,m),l=null}},createHref(k){return t(i,k)},createURL:_,encodeLocation(k){let w=_(k);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:p,go(k){return a.go(k)}};return S}var yv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(yv||(yv={}));function nS(e,t,r){return r===void 0&&(r="/"),iS(e,t,r,!1)}function iS(e,t,r,n){let i=typeof t=="string"?$l(t):t,s=Zm(i.pathname||"/",r);if(s==null)return null;let a=Mb(e);sS(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=gS(s);o=pS(a[l],c,n)}return o}function Mb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(vr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=va([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(vr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Mb(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:hS(c,s.index),routesMeta:d})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of Db(s.path))i(s,a,l)}),t}function Db(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=Db(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function sS(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fS(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const aS=/^:[\w-]+$/,oS=3,lS=2,uS=1,cS=10,dS=-2,wv=e=>e==="*";function hS(e,t){let r=e.split("/"),n=r.length;return r.some(wv)&&(n+=dS),t&&(n+=lS),r.filter(i=>!wv(i)).reduce((i,s)=>i+(aS.test(s)?oS:s===""?uS:cS),n)}function fS(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function pS(e,t,r){let{routesMeta:n}=e,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",m=bv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),v=l.route;if(!m&&c&&r&&!n[n.length-1].route.index&&(m=bv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:va([s,m.pathname]),pathnameBase:_S(va([s,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(s=va([s,m.pathnameBase]))}return a}function bv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=mS(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,d,m)=>{let{paramName:v,isOptional:p}=d;if(v==="*"){let S=o[m]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const _=o[m];return p&&!_?c[v]=void 0:c[v]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function mS(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ym(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function gS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ym(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const vS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yS=e=>vS.test(e);function wS(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?$l(e):e,s;if(r)if(yS(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Ym(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=_v(r.substring(1),"/"):s=_v(r,t)}else s=t;return{pathname:s,search:xS(n),hash:SS(i)}}function _v(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function V0(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bS(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Xm(e,t){let r=bS(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Qm(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=$l(e):(i=kc({},e),vr(!i.pathname||!i.pathname.includes("?"),V0("?","pathname","search",i)),vr(!i.pathname||!i.pathname.includes("#"),V0("#","pathname","hash",i)),vr(!i.search||!i.search.includes("#"),V0("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let m=t.length-1;if(!n&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}o=m>=0?t[m]:"/"}let l=wS(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const va=e=>e.join("/").replace(/\/\/+/g,"/"),_S=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function NS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Bb=["post","put","patch","delete"];new Set(Bb);const kS=["get",...Bb];new Set(kS);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ac.apply(this,arguments)}const eg=pe.createContext(null),AS=pe.createContext(null),La=pe.createContext(null),Pf=pe.createContext(null),Ea=pe.createContext({outlet:null,matches:[],isDataRoute:!1}),Ub=pe.createContext(null);function jS(e,t){let{relative:r}=t===void 0?{}:t;ql()||vr(!1);let{basename:n,navigator:i}=pe.useContext(La),{hash:s,pathname:a,search:o}=$b(e,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:va([n,a])),i.createHref({pathname:l,search:o,hash:s})}function ql(){return pe.useContext(Pf)!=null}function Wl(){return ql()||vr(!1),pe.useContext(Pf).location}function zb(e){pe.useContext(La).static||pe.useLayoutEffect(e)}function zc(){let{isDataRoute:e}=pe.useContext(Ea);return e?US():LS()}function LS(){ql()||vr(!1);let e=pe.useContext(eg),{basename:t,future:r,navigator:n}=pe.useContext(La),{matches:i}=pe.useContext(Ea),{pathname:s}=Wl(),a=JSON.stringify(Xm(i,r.v7_relativeSplatPath)),o=pe.useRef(!1);return zb(()=>{o.current=!0}),pe.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let m=Qm(c,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:va([t,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[t,n,a,s,e])}function $b(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=pe.useContext(La),{matches:i}=pe.useContext(Ea),{pathname:s}=Wl(),a=JSON.stringify(Xm(i,n.v7_relativeSplatPath));return pe.useMemo(()=>Qm(e,JSON.parse(a),s,r==="path"),[e,a,s,r])}function ES(e,t){return PS(e,t)}function PS(e,t,r,n){ql()||vr(!1);let{navigator:i}=pe.useContext(La),{matches:s}=pe.useContext(Ea),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Wl(),d;if(t){var m;let k=typeof t=="string"?$l(t):t;l==="/"||(m=k.pathname)!=null&&m.startsWith(l)||vr(!1),d=k}else d=c;let v=d.pathname||"/",p=v;if(l!=="/"){let k=l.replace(/^\//,"").split("/");p="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=nS(e,{pathname:p}),S=RS(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},o,k.params),pathname:va([l,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:va([l,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,r,n);return t&&S?pe.createElement(Pf.Provider,{value:{location:Ac({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:aa.Pop}},S):S}function CS(){let e=BS(),t=NS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return pe.createElement(pe.Fragment,null,pe.createElement("h2",null,"Unexpected Application Error!"),pe.createElement("h3",{style:{fontStyle:"italic"}},t),r?pe.createElement("pre",{style:i},r):null,null)}const TS=pe.createElement(CS,null);class OS extends pe.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?pe.createElement(Ea.Provider,{value:this.props.routeContext},pe.createElement(Ub.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function IS(e){let{routeContext:t,match:r,children:n}=e,i=pe.useContext(eg);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),pe.createElement(Ea.Provider,{value:t},n)}function RS(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);d>=0||vr(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:v,errors:p}=r,_=m.route.loader&&v[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||_){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,m,v)=>{let p,_=!1,S=null,k=null;r&&(p=o&&m.route.id?o[m.route.id]:void 0,S=m.route.errorElement||TS,l&&(c<0&&v===0?(_=!0,k=null):c===v&&(_=!0,k=m.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,v+1)),x=()=>{let N;return p?N=S:_?N=k:m.route.Component?N=pe.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=d,pe.createElement(IS,{match:m,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:N})};return r&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?pe.createElement(OS,{location:r.location,revalidation:r.revalidation,component:S,error:p,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var qb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qb||{}),sf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sf||{});function FS(e){let t=pe.useContext(eg);return t||vr(!1),t}function MS(e){let t=pe.useContext(AS);return t||vr(!1),t}function DS(e){let t=pe.useContext(Ea);return t||vr(!1),t}function Wb(e){let t=DS(),r=t.matches[t.matches.length-1];return r.route.id||vr(!1),r.route.id}function BS(){var e;let t=pe.useContext(Ub),r=MS(sf.UseRouteError),n=Wb(sf.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function US(){let{router:e}=FS(qb.UseNavigateStable),t=Wb(sf.UseNavigateStable),r=pe.useRef(!1);return zb(()=>{r.current=!0}),pe.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ac({fromRouteId:t},s)))},[e,t])}function zS(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Hb(e){let{to:t,replace:r,state:n,relative:i}=e;ql()||vr(!1);let{future:s,static:a}=pe.useContext(La),{matches:o}=pe.useContext(Ea),{pathname:l}=Wl(),c=zc(),d=Qm(t,Xm(o,s.v7_relativeSplatPath),l,i==="path"),m=JSON.stringify(d);return pe.useEffect(()=>c(JSON.parse(m),{replace:r,state:n,relative:i}),[c,m,i,r,n]),null}function $u(e){vr(!1)}function $S(e){let{basename:t="/",children:r=null,location:n,navigationType:i=aa.Pop,navigator:s,static:a=!1,future:o}=e;ql()&&vr(!1);let l=t.replace(/^\/*/,"/"),c=pe.useMemo(()=>({basename:l,navigator:s,static:a,future:Ac({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=$l(n));let{pathname:d="/",search:m="",hash:v="",state:p=null,key:_="default"}=n,S=pe.useMemo(()=>{let k=Zm(d,l);return k==null?null:{location:{pathname:k,search:m,hash:v,state:p,key:_},navigationType:i}},[l,d,m,v,p,_,i]);return S==null?null:pe.createElement(La.Provider,{value:c},pe.createElement(Pf.Provider,{children:r,value:S}))}function qS(e){let{children:t,location:r}=e;return ES(N1(t),r)}new Promise(()=>{});function N1(e,t){t===void 0&&(t=[]);let r=[];return pe.Children.forEach(e,(n,i)=>{if(!pe.isValidElement(n))return;let s=[...t,i];if(n.type===pe.Fragment){r.push.apply(r,N1(n.props.children,s));return}n.type!==$u&&vr(!1),!n.props.index||!n.props.children||vr(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=N1(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function k1(){return k1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k1.apply(this,arguments)}function WS(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function HS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VS(e,t){return e.button===0&&(!t||t==="_self")&&!HS(e)}const GS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KS="6";try{window.__reactRouterVersion=KS}catch{}const JS="startTransition",xv=I3[JS];function YS(e){let{basename:t,children:r,future:n,window:i}=e,s=pe.useRef();s.current==null&&(s.current=eS({window:i,v5Compat:!0}));let a=s.current,[o,l]=pe.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=pe.useCallback(m=>{c&&xv?xv(()=>l(m)):l(m)},[l,c]);return pe.useLayoutEffect(()=>a.listen(d),[a,d]),pe.useEffect(()=>zS(n),[n]),pe.createElement($S,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const ZS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vb=pe.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:m}=t,v=WS(t,GS),{basename:p}=pe.useContext(La),_,S=!1;if(typeof c=="string"&&XS.test(c)&&(_=c,ZS))try{let N=new URL(window.location.href),E=c.startsWith("//")?new URL(N.protocol+c):new URL(c),G=Zm(E.pathname,p);E.origin===N.origin&&G!=null?c=G+E.search+E.hash:S=!0}catch{}let k=jS(c,{relative:i}),w=QS(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:m});function x(N){n&&n(N),N.defaultPrevented||w(N)}return pe.createElement("a",k1({},v,{href:_||k,onClick:S||s?n:x,ref:r,target:l}))});var Sv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Sv||(Sv={}));var Nv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Nv||(Nv={}));function QS(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,l=zc(),c=Wl(),d=$b(e,{relative:a});return pe.useCallback(m=>{if(VS(m,r)){m.preventDefault();let v=n!==void 0?n:nf(c)===nf(d);l(e,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,n,i,r,e,s,a,o])}const eN="modulepreload",tN=function(e){return"/demo-termopane/"+e},kv={},ya=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=tN(l),l in kv)return;kv[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":eN,c||(m.as="script"),m.crossOrigin="",m.href=l,o&&m.setAttribute("nonce",o),document.head.appendChild(m),c)return new Promise((v,p)=>{m.addEventListener("load",v),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},rN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ya(async()=>{const{default:n}=await Promise.resolve().then(()=>Hl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class tg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class nN extends tg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Av extends tg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jv extends tg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var A1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(A1||(A1={}));var iN=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(m){a(m)}}function l(d){try{c(n.throw(d))}catch(m){a(m)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class sN{constructor(t,{headers:r={},customFetch:n,region:i=A1.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=rN(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return iN(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let o={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const m=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(S=>{throw new nN(S)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new Av(m);if(!m.ok)throw new jv(m);let p=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield m.json():p==="application/octet-stream"?_=yield m.blob():p==="text/event-stream"?_=m:p==="multipart/form-data"?_=yield m.formData():_=yield m.text(),{data:_,error:null,response:m}}catch(i){return{data:null,error:i,response:i instanceof jv||i instanceof Av?i.context:void 0}}})}}var yn={},rg={},Cf={},$c={},Tf={},Of={},aN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Il=aN();const oN=Il.fetch,Gb=Il.fetch.bind(Il),Kb=Il.Headers,lN=Il.Request,uN=Il.Response,Hl=Object.freeze(Object.defineProperty({__proto__:null,Headers:Kb,Request:lN,Response:uN,default:Gb,fetch:oN},Symbol.toStringTag,{value:"Module"})),cN=y3(Hl);var If={};Object.defineProperty(If,"__esModule",{value:!0});let dN=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};If.default=dN;var Jb=ni&&ni.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Of,"__esModule",{value:!0});const hN=Jb(cN),fN=Jb(If);let pN=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=hN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,l,c;let d=null,m=null,v=null,p=s.status,_=s.statusText;if(s.ok){if(this.method!=="HEAD"){const x=await s.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?m=x:m=JSON.parse(x))}const k=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");k&&w&&w.length>1&&(v=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(d={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,v=null,p=406,_="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const k=await s.text();try{d=JSON.parse(k),Array.isArray(d)&&s.status===404&&(m=[],d=null,p=200,_="OK")}catch{s.status===404&&k===""?(p=204,_="No Content"):d={message:k}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,p=200,_="OK"),d&&this.shouldThrowOnError)throw new fN.default(d)}return{error:d,data:m,count:v,status:p,statusText:_}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,l;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Of.default=pN;var mN=ni&&ni.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tf,"__esModule",{value:!0});const gN=mN(Of);let vN=class extends gN.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Tf.default=vN;var yN=ni&&ni.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($c,"__esModule",{value:!0});const wN=yN(Tf);let bN=class extends wN.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};$c.default=bN;var _N=ni&&ni.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cf,"__esModule",{value:!0});const Ou=_N($c);let xN=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new Ou.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const s="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Ou.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ou.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Ou.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Ou.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Cf.default=xN;var Yb=ni&&ni.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rg,"__esModule",{value:!0});const SN=Yb(Cf),NN=Yb($c);let kN=class Zb{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new SN.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Zb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{l.searchParams.append(m,v)})):(o="POST",c=r);const d=new Headers(this.headers);return s&&d.set("Prefer",`count=${s}`),new NN.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};rg.default=kN;var Vl=ni&&ni.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yn,"__esModule",{value:!0});yn.PostgrestError=yn.PostgrestBuilder=yn.PostgrestTransformBuilder=yn.PostgrestFilterBuilder=yn.PostgrestQueryBuilder=yn.PostgrestClient=void 0;const Xb=Vl(rg);yn.PostgrestClient=Xb.default;const Qb=Vl(Cf);yn.PostgrestQueryBuilder=Qb.default;const e_=Vl($c);yn.PostgrestFilterBuilder=e_.default;const t_=Vl(Tf);yn.PostgrestTransformBuilder=t_.default;const r_=Vl(Of);yn.PostgrestBuilder=r_.default;const n_=Vl(If);yn.PostgrestError=n_.default;var AN=yn.default={PostgrestClient:Xb.default,PostgrestQueryBuilder:Qb.default,PostgrestFilterBuilder:e_.default,PostgrestTransformBuilder:t_.default,PostgrestBuilder:r_.default,PostgrestError:n_.default};const{PostgrestClient:jN,PostgrestQueryBuilder:wE,PostgrestFilterBuilder:bE,PostgrestTransformBuilder:_E,PostgrestBuilder:xE,PostgrestError:SE}=AN;class LN{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const EN="2.15.5",PN=`realtime-js/${EN}`,CN="1.0.0",j1=1e4,TN=1e3,ON=100;var tc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(tc||(tc={}));var Lr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Lr||(Lr={}));var bi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(bi||(bi={}));var L1;(function(e){e.websocket="websocket"})(L1||(L1={}));var to;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(to||(to={}));class IN{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+i));a=a+i;const l=n.decode(t.slice(a,a+s));a=a+s;const c=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class i_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(qt||(qt={}));const Lv=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,a)=>(s[a]=RN(a,e,t,i),s),{})},RN=(e,t,r,n)=>{const i=t.find(o=>o.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?s_(s,a):E1(a)},s_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return BN(t,r)}switch(e){case qt.bool:return FN(t);case qt.float4:case qt.float8:case qt.int2:case qt.int4:case qt.int8:case qt.numeric:case qt.oid:return MN(t);case qt.json:case qt.jsonb:return DN(t);case qt.timestamp:return UN(t);case qt.abstime:case qt.date:case qt.daterange:case qt.int4range:case qt.int8range:case qt.money:case qt.reltime:case qt.text:case qt.time:case qt.timestamptz:case qt.timetz:case qt.tsrange:case qt.tstzrange:return E1(t);default:return E1(t)}},E1=e=>e,FN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},MN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},DN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},BN=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>s_(t,o))}return e},UN=e=>typeof e=="string"?e.replace(" ","T"):e,a_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class G0{constructor(t,r,n={},i=j1){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ev;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ev||(Ev={}));class rc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rc.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=rc.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=rc.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(s,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const m=s[c];if(m){const v=d.map(k=>k.presence_ref),p=m.map(k=>k.presence_ref),_=d.filter(k=>p.indexOf(k.presence_ref)<0),S=m.filter(k=>v.indexOf(k.presence_ref)<0);_.length>0&&(o[c]=_),S.length>0&&(l[c]=S)}else o[c]=d}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),d.length>0){const m=t[o].map(p=>p.presence_ref),v=d.filter(p=>m.indexOf(p.presence_ref)<0);t[o].unshift(...v)}n(o,d,l)}),this.map(a,(o,l)=>{let c=t[o];if(!c)return;const d=l.map(m=>m.presence_ref);c=c.filter(m=>d.indexOf(m.presence_ref)<0),t[o]=c,i(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Pv||(Pv={}));var nc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(nc||(nc={}));var ys;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ys||(ys={}));class ng{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Lr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new G0(this,bi.join,this.params,this.timeout),this.rejoinTimer=new i_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Lr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bi.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new rc(this),this.broadcastEndpointURL=a_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Lr.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[nc.PRESENCE]&&this.bindings[nc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},v={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(ys.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(ys.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var _;if(this.socket.setAuth(),p===void 0){t==null||t(ys.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,k=(_=S==null?void 0:S.length)!==null&&_!==void 0?_:0,w=[];for(let x=0;x<k;x++){const N=S[x],{filter:{event:E,schema:G,table:V,filter:Y}}=N,B=p&&p[x];if(B&&B.event===E&&B.schema===G&&B.table===V&&B.filter===Y)w.push(Object.assign(Object.assign({},N),{id:B.id}));else{this.unsubscribe(),this.state=Lr.errored,t==null||t(ys.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(ys.SUBSCRIBED);return}}).receive("error",p=>{this.state=Lr.errored,t==null||t(ys.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ys.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Lr.joined&&t===nc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Lr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new G0(this,bi.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Lr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new G0(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ON){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=bi;if(n&&[o,l,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let v=this._onMessage(a,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var _,S,k;return((_=p.filter)===null||_===void 0?void 0:_.event)==="*"||((k=(S=p.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(p=>p.callback(v,n)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var _,S,k,w,x,N;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const E=p.id,G=(_=p.filter)===null||_===void 0?void 0:_.event;return E&&((S=r.ids)===null||S===void 0?void 0:S.includes(E))&&(G==="*"||(G==null?void 0:G.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const E=(x=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return E==="*"||E===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:S,table:k,commit_timestamp:w,type:x,errors:N}=_;v=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:w,eventType:x,new:{},old:{},errors:N}),this._getPayloadRecords(_))}p.callback(v,n)})}_isClosed(){return this.state===Lr.closed}_isJoined(){return this.state===Lr.joined}_isJoining(){return this.state===Lr.joining}_isLeaving(){return this.state===Lr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&ng.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bi.close,{},t)}_onError(t){this._on(bi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Lv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Lv(t.columns,t.old_record)),r}}const K0=()=>{},Kd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zN=[1e3,2e3,5e3,1e4],$N=1e4,qN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WN{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=j1,this.transport=null,this.heartbeatIntervalMs=Kd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=K0,this.ref=0,this.reconnectTimer=null,this.logger=K0,this.conn=null,this.sendBuffer=[],this.serializer=new IN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>ya(async()=>{const{default:o}=await Promise.resolve().then(()=>Hl);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${L1.websocket}`,this.httpEndpoint=a_(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=LN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:CN}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case tc.connecting:return to.Connecting;case tc.open:return to.Open;case tc.closing:return to.Closing;default:return to.Closed}}isConnected(){return this.connectionState()===to.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new ng(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(TN,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Kd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(bi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([qN],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:PN};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(bi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new i_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,a,o,l,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:j1,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Kd.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:K0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:m=>zN[m-1]||$N,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(m,v)=>v(JSON.stringify(m)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ig extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Er(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class HN extends ig{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class P1 extends ig{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var VN=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(m){a(m)}}function l(d){try{c(n.throw(d))}catch(m){a(m)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const o_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ya(async()=>{const{default:n}=await Promise.resolve().then(()=>Hl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},GN=()=>VN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ya(()=>Promise.resolve().then(()=>Hl),void 0)).Response:Response}),C1=e=>{if(Array.isArray(e))return e.map(r=>C1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=C1(n)}),t},KN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var No=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(m){a(m)}}function l(d){try{c(n.throw(d))}catch(m){a(m)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const J0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JN=(e,t,r)=>No(void 0,void 0,void 0,function*(){const n=yield GN();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new HN(J0(i),s,a))}).catch(i=>{t(new P1(J0(i),i))}):t(new P1(J0(e),e))}),YN=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(KN(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function qc(e,t,r,n,i,s){return No(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,YN(t,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>JN(l,o,n))})})}function af(e,t,r,n){return No(this,void 0,void 0,function*(){return qc(e,"GET",t,r,n)})}function zi(e,t,r,n,i){return No(this,void 0,void 0,function*(){return qc(e,"POST",t,n,i,r)})}function T1(e,t,r,n,i){return No(this,void 0,void 0,function*(){return qc(e,"PUT",t,n,i,r)})}function ZN(e,t,r,n){return No(this,void 0,void 0,function*(){return qc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function l_(e,t,r,n,i){return No(this,void 0,void 0,function*(){return qc(e,"DELETE",t,n,i,r)})}var un=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(m){a(m)}}function l(d){try{c(n.throw(d))}catch(m){a(m)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const XN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QN{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=o_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return un(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Cv),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),m=yield(t=="PUT"?T1:zi)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}upload(t,r,n){return un(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return un(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Cv.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const m=yield T1(this.fetch,o.toString(),l,{headers:d});return{data:{path:s,fullPath:m.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Er(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return un(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield zi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new ig("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}update(t,r,n){return un(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return un(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}copy(t,r,n){return un(this,void 0,void 0,function*(){try{return{data:{path:(yield zi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return un(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield zi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return un(this,void 0,void 0,function*(){try{const i=yield zi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}download(t,r){return un(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield af(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Er(o))return{data:null,error:o};throw o}})}info(t){return un(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield af(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:C1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}exists(t){return un(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield ZN(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n)&&n instanceof P1){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return un(this,void 0,void 0,function*(){try{return{data:yield l_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}list(t,r,n){return un(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},XN),r),{prefix:t||""});return{data:yield zi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}listV2(t,r){return un(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield zi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const ek="2.12.1",tk={"X-Client-Info":`storage-js/${ek}`};var zo=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(m){a(m)}}function l(d){try{c(n.throw(d))}catch(m){a(m)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class rk{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},tk),r),this.fetch=o_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return zo(this,void 0,void 0,function*(){try{return{data:yield af(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Er(t))return{data:null,error:t};throw t}})}getBucket(t){return zo(this,void 0,void 0,function*(){try{return{data:yield af(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return zo(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return zo(this,void 0,void 0,function*(){try{return{data:yield T1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}emptyBucket(t){return zo(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}deleteBucket(t){return zo(this,void 0,void 0,function*(){try{return{data:yield l_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}}class nk extends rk{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new QN(this.url,this.headers,t,this.fetch)}}const ik="2.57.4";let qu="";typeof Deno<"u"?qu="deno":typeof document<"u"?qu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qu="react-native":qu="node";const sk={"X-Client-Info":`supabase-js-${qu}/${ik}`},ak={headers:sk},ok={schema:"public"},lk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uk={};var ck=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(m){a(m)}}function l(d){try{c(n.throw(d))}catch(m){a(m)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const dk=e=>{let t;return e?t=e:typeof fetch>"u"?t=Gb:t=fetch,(...r)=>t(...r)},hk=()=>typeof Headers>"u"?Kb:Headers,fk=(e,t,r)=>{const n=dk(r),i=hk();return(s,a)=>ck(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},a),{headers:c}))})};var pk=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(m){a(m)}}function l(d){try{c(n.throw(d))}catch(m){a(m)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};function mk(e){return e.endsWith("/")?e:e+"/"}function gk(e,t){var r,n;const{db:i,auth:s,realtime:a,global:o}=e,{db:l,auth:c,realtime:d,global:m}=t,v={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),o),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>pk(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function vk(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mk(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const u_="2.71.1",Xo=30*1e3,O1=3,Y0=O1*Xo,yk="http://localhost:9999",wk="supabase.auth.token",bk={"X-Client-Info":`gotrue-js/${u_}`},I1="X-Supabase-Api-Version",c_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_k=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xk=10*60*1e3;class sg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ht(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Sk extends sg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Nk(e){return ht(e)&&e.name==="AuthApiError"}class d_ extends sg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Pa extends sg{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Zs extends Pa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kk(e){return ht(e)&&e.name==="AuthSessionMissingError"}class Jd extends Pa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yd extends Pa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zd extends Pa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ak(e){return ht(e)&&e.name==="AuthImplicitGrantRedirectError"}class Tv extends Pa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class R1 extends Pa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Z0(e){return ht(e)&&e.name==="AuthRetryableFetchError"}class Ov extends Pa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class F1 extends Pa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Iv=` 	
\r=`.split(""),jk=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Iv.length;t+=1)e[Iv[t].charCodeAt(0)]=-2;for(let t=0;t<of.length;t+=1)e[of[t].charCodeAt(0)]=t;return e})();function Rv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(of[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(of[n]),t.queuedBits-=6}}function h_(e,t,r){const n=jk[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Fv(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{Pk(a,n,r)};for(let a=0;a<e.length;a+=1)h_(e.charCodeAt(a),i,s);return t.join("")}function Lk(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ek(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Lk(n,t)}}function Pk(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ck(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)h_(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Tk(e){const t=[];return Ek(e,r=>t.push(r)),new Uint8Array(t)}function Ok(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Rv(i,r,n)),Rv(null,r,n),t.join("")}function Ik(e){return Math.round(Date.now()/1e3)+e}function Rk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const vi=()=>typeof window<"u"&&typeof document<"u",Ja={tested:!1,writable:!1},f_=()=>{if(!vi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ja.tested)return Ja.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ja.tested=!0,Ja.writable=!0}catch{Ja.tested=!0,Ja.writable=!1}return Ja.writable};function Fk(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const p_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ya(async()=>{const{default:n}=await Promise.resolve().then(()=>Hl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Mk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ya=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gs=async(e,t)=>{await e.removeItem(t)};class Rf{constructor(){this.promise=new Rf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Rf.promiseConstructor=Promise;function X0(e){const t=e.split(".");if(t.length!==3)throw new F1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!_k.test(t[n]))throw new F1("JWT not in base64url format");return{header:JSON.parse(Fv(t[0])),payload:JSON.parse(Fv(t[1])),signature:Ck(t[2]),raw:{header:t[0],payload:t[1]}}}async function Dk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Bk(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function Uk(e){return("0"+e.toString(16)).substr(-2)}function zk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Uk).join("")}async function $k(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function qk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $k(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $o(e,t,r=!1){const n=zk();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Qo(e,`${t}-code-verifier`,i);const s=await qk(n);return[s,n===s?"plain":"s256"]}const Wk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hk(e){const t=e.headers.get(I1);if(!t||!t.match(Wk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Vk(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Gk(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Kk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qo(e){if(!Kk.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Q0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mv(e){return JSON.parse(JSON.stringify(e))}var Jk=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yk=[502,503,504];async function Dv(e){var t;if(!Mk(e))throw new R1(Qa(e),0);if(Yk.includes(e.status))throw new R1(Qa(e),e.status);let r;try{r=await e.json()}catch(s){throw new d_(Qa(s),s)}let n;const i=Hk(e);if(i&&i.getTime()>=c_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ov(Qa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Zs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new Ov(Qa(r),e.status,r.weak_password.reasons);throw new Sk(Qa(r),e.status||500,n)}const Zk=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function bt(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[I1]||(s[I1]=c_["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Xk(e,t,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Xk(e,t,r,n,i,s){const a=Zk(t,n,i,s);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new R1(Qa(l),0)}if(o.ok||await Dv(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Dv(l)}}function gs(e){var t;let r=null;r8(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ik(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Bv(e){const t=gs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ra(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Qk(e){return{data:e,error:null}}function e8(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=Jk(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function t8(e){return e}function r8(e){return e.access_token&&e.refresh_token&&e.expires_in}const ep=["global","local","others"];var n8=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class i8{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=p_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=ep[0]){if(ep.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ep.join(", ")}`);try{return await bt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ra})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=n8(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:e8,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ht(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await bt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ra})}catch(r){if(ht(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:t8});if(d.error)throw d.error;const m=await d.json(),v=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(_.split(";")[1].split("=")[1]);c[`${k}Page`]=S}),c.total=parseInt(v)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(ht(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){qo(t);try{return await bt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ra})}catch(r){if(ht(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){qo(t);try{return await bt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ra})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){qo(t);try{return await bt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ra})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){qo(t.userId);try{const{data:r,error:n}=await bt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ht(r))return{data:null,error:r};throw r}}async _deleteFactor(t){qo(t.userId),qo(t.id);try{return{data:await bt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}}}function Uv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function s8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wo={debug:!!(globalThis&&f_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class m_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class a8 extends m_{}async function o8(e,t,r){Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new a8(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}s8();const l8={url:yk,storageKey:wk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zv(e,t,r){return await r()}const Ho={};class jc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=jc.nextInstanceID,jc.nextInstanceID+=1,this.instanceID>0&&vi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},l8),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new i8({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=p_(i.fetch),this.lock=i.lock||zv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:vi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=o8:this.lock=zv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:f_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Uv(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Uv(this.memoryStorage)),vi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Ho[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ho[this.storageKey]=Object.assign(Object.assign({},Ho[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ho[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ho[this.storageKey]=Object.assign(Object.assign({},Ho[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${u_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Fk(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),vi()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Ak(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ht(r)?{error:r}:{error:new d_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:gs}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ht(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:d,password:m,options:v}=t;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await $o(this.storage,this.storageKey)),s=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:d,password:m,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:p,code_challenge_method:_},xform:gs})}else if("phone"in t){const{phone:d,password:m,options:v}=t;s=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:gs})}else throw new Yd("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ht(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:o}=t;r=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Bv})}else if("phone"in t){const{phone:s,password:a,options:o}=t;r=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Bv})}else throw new Yd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Jd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ht(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,a,o,l,c,d,m,v,p;let _,S;if("message"in t)_=t.message,S=t.signature;else{const{chain:k,wallet:w,statement:x,options:N}=t;let E;if(vi())if(typeof w=="object")E=w;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))E=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const G=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const V=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),x?{statement:x}:null));let Y;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")Y=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)Y=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)_=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),S=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${G.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(i=(n=N==null?void 0:N.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=N==null?void 0:N.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((a=N==null?void 0:N.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((o=N==null?void 0:N.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((m=(d=N==null?void 0:N.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...N.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const V=await E.signMessage(new TextEncoder().encode(_),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=V}}try{const{data:k,error:w}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Ok(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:gs});if(w)throw w;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Jd}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:w})}catch(k){if(ht(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const r=await Ya(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:gs});if(await Gs(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Jd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(ht(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,o=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gs}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Jd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(ht(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:o,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await $o(this.storage,this.storageKey));const{error:m}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:d}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Yd("You must provide either an email or phone number.")}catch(o){if(ht(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:gs});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ht(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await $o(this.storage,this.storageKey)),await bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Qk})}catch(s){if(ht(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Zs;const{error:i}=await bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ht(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await bt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:o}=await bt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Yd("You must provide either an email or phone number and a type")}catch(r){if(ht(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ya(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Y0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Ya(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Q0()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ra}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zs}:await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ra})})}catch(r){if(ht(r))return kk(r)&&(await this._removeSession(),await Gs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Zs;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await $o(this.storage,this.storageKey));const{data:c,error:d}=await bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:ra});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zs;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=X0(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(ht(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Zs;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ht(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!vi())throw new Zd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Tv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Tv("No code detected.");const{data:x,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=t;if(!s||!o||!a||!c)throw new Zd("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(o);let v=d+m;l&&(v=parseInt(l));const p=v-d;p*1e3<=Xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const _=v-m;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,d);const{data:S,error:k}=await this._getUser(s);if(k)throw k;const w={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:v,refresh_token:a,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(ht(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ya(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Nk(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Gs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Rk(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await $o(this.storage,this.storageKey,!0));try{return await bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(ht(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,c,d;const{data:m,error:v}=s;if(v)throw v;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await bt(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=m.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return vi()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ht(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await bt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ht(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Bk(async i=>(i>0&&await Dk(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gs})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Z0(s)&&Date.now()+a-n<Xo})}catch(n){if(this._debug(r,"error",n),ht(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),vi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ya(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ya(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Qo(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Q0()}else if(i&&!i.user&&!i.user){const a=await Ya(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Gs(this.storage,this.storageKey+"-user"),await Qo(this.storage,this.storageKey,i)):i.user=Q0()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Y0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Y0}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Z0(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Zs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Rf;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Zs;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),ht(s)){const a={session:null,error:s};return Z0(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Qo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=Mv(i);await Qo(this.storage,this.storageKey,s)}else{const i=Mv(r);await Qo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Gs(this.storage,this.storageKey),await Gs(this.storage,this.storageKey+"-code-verifier"),await Gs(this.storage,this.storageKey+"-user"),this.userStorage&&await Gs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Xo}ms, refresh threshold is ${O1} ticks`),i<=O1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof m_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await $o(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await bt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ht(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await bt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ht(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:o}=await bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(ht(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ht(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=X0(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+xk>i)return n;const{data:s,error:a}=await bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:_}=await this.getSession();if(_||!p.session)return{data:null,error:_};n=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=X0(n);r!=null&&r.allowExpired||Vk(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const d=Gk(i.alg),m=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,a,Tk(`${o}.${l}`)))throw new F1("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}}jc.nextInstanceID=0;const u8=jc;class c8 extends u8{constructor(t){super(t)}}var d8=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(m){a(m)}}function l(d){try{c(n.throw(d))}catch(m){a(m)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class h8{constructor(t,r,n){var i,s,a;this.supabaseUrl=t,this.supabaseKey=r;const o=vk(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:ok,realtime:uk,auth:Object.assign(Object.assign({},lk),{storageKey:l}),global:ak},d=gk(n??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=fk(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new jN(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new nk(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new sN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return d8(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:o,lock:l,debug:c},d,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c8({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),d),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:o,lock:l,debug:c,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new WN(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const f8=(e,t,r)=>new h8(e,t,r);function p8(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}p8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const m8="https://ncrnhxosahzxybzhorsm.supabase.co",g8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5jcm5oeG9zYWh6eHliemhvcnNtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0MjI4MjksImV4cCI6MjA3OTk5ODgyOX0.C1fsPXVD3khfhlUV6zCHTz_VthOYbbfu6_5CLyrkNow",tr=f8(m8,g8),g_=pe.createContext(void 0);function v8({children:e}){const[t,r]=pe.useState(null),[n,i]=pe.useState(null),[s,a]=pe.useState(!0);pe.useEffect(()=>{(async()=>{const{data:{session:v}}=await tr.auth.getSession();r(v),i((v==null?void 0:v.user)??null),a(!1)})();const{data:{subscription:m}}=tr.auth.onAuthStateChange((v,p)=>{r(p),i((p==null?void 0:p.user)??null)});return()=>{m.unsubscribe()}},[]);const o=async({email:d,password:m})=>{const{error:v}=await tr.auth.signInWithPassword({email:d,password:m});return v?{error:v.message}:{error:null}},l=async({email:d,password:m})=>{const{error:v}=await tr.auth.signUp({email:d,password:m});return v?{error:v.message}:{error:null}},c=async()=>{await tr.auth.signOut()};return f.jsx(g_.Provider,{value:{user:n,session:t,loading:s,signIn:o,signUp:l,signOut:c},children:e})}function Wc(){const e=pe.useContext(g_);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function y8({children:e,currentPage:t,onNavigate:r}){const n=zc(),{signOut:i}=Wc(),[s,a]=pe.useState(!1),o=[{id:"quotes",label:"Oferte",icon:Fb},{id:"new-quote",label:"Ofert Nou",icon:Y6},{id:"settings",label:"Setri",icon:Q6}],l=c=>{r(c),a(!1)};return f.jsxs("div",{className:"flex h-screen bg-gray-50",children:[f.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[f.jsx("h1",{className:"text-lg font-bold text-gray-800",children:"Termopane Manager"}),f.jsx("button",{onClick:()=>a(!s),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Toggle menu",children:s?f.jsx(Jm,{className:"w-6 h-6"}):f.jsx(X6,{className:"w-6 h-6"})})]}),s&&f.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>a(!1)}),f.jsxs("aside",{className:`fixed md:static inset-y-0 left-0 z-40 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out ${s?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[f.jsxs("div",{className:"p-6 border-b border-gray-200 md:block hidden md:block",children:[f.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Termopane Manager"}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configurator & Ofertare"})]}),f.jsx("nav",{className:"p-4",children:f.jsx("ul",{className:"space-y-2",children:o.map(c=>{const d=c.icon,m=t===c.id;return f.jsx("li",{children:f.jsxs("button",{onClick:()=>l(c.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[f.jsx(d,{className:"w-5 h-5"}),f.jsx("span",{children:c.label})]})},c.id)})})}),f.jsx("div",{className:"mt-auto p-4 border-t border-gray-200",children:f.jsxs("button",{onClick:async()=>{await i(),n("/login",{replace:!0})},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm text-gray-600 hover:bg-gray-50 transition-colors",children:[f.jsx(Z6,{className:"w-4 h-4"}),f.jsx("span",{children:"Logout"})]})})]}),f.jsx("main",{className:"flex-1 overflow-auto md:ml-0 pt-14 md:pt-0",children:e})]})}const w8={BASE_URL:"/demo-termopane/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5jcm5oeG9zYWh6eHliemhvcnNtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0MjI4MjksImV4cCI6MjA3OTk5ODgyOX0.C1fsPXVD3khfhlUV6zCHTz_VthOYbbfu6_5CLyrkNow",VITE_SUPABASE_URL:"https://ncrnhxosahzxybzhorsm.supabase.co"},$v=e=>{let t;const r=new Set,n=(d,m)=>{const v=typeof d=="function"?d(t):d;if(!Object.is(v,t)){const p=t;t=m??(typeof v!="object"||v===null)?v:Object.assign({},t,v),r.forEach(_=>_(t,p))}},i=()=>t,l={setState:n,getState:i,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(w8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(n,i,l);return l},b8=e=>e?$v(e):$v;var v_={exports:{}},y_={},w_={exports:{}},b_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rl=pe;function _8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var x8=typeof Object.is=="function"?Object.is:_8,S8=Rl.useState,N8=Rl.useEffect,k8=Rl.useLayoutEffect,A8=Rl.useDebugValue;function j8(e,t){var r=t(),n=S8({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return k8(function(){i.value=r,i.getSnapshot=t,tp(i)&&s({inst:i})},[e,r,t]),N8(function(){return tp(i)&&s({inst:i}),e(function(){tp(i)&&s({inst:i})})},[e]),A8(r),r}function tp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!x8(e,r)}catch{return!0}}function L8(e,t){return t()}var E8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?L8:j8;b_.useSyncExternalStore=Rl.useSyncExternalStore!==void 0?Rl.useSyncExternalStore:E8;w_.exports=b_;var P8=w_.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff=pe,C8=P8;function T8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var O8=typeof Object.is=="function"?Object.is:T8,I8=C8.useSyncExternalStore,R8=Ff.useRef,F8=Ff.useEffect,M8=Ff.useMemo,D8=Ff.useDebugValue;y_.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=R8(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=M8(function(){function l(p){if(!c){if(c=!0,d=p,p=n(p),i!==void 0&&a.hasValue){var _=a.value;if(i(_,p))return m=_}return m=p}if(_=m,O8(d,p))return _;var S=n(p);return i!==void 0&&i(_,S)?(d=p,_):(d=p,m=S)}var c=!1,d,m,v=r===void 0?null:r;return[function(){return l(t())},v===null?void 0:function(){return l(v())}]},[t,r,n,i]);var o=I8(e,s[0],s[1]);return F8(function(){a.hasValue=!0,a.value=o},[o]),D8(o),o};v_.exports=y_;var B8=v_.exports;const U8=_y(B8),__={BASE_URL:"/demo-termopane/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5jcm5oeG9zYWh6eHliemhvcnNtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0MjI4MjksImV4cCI6MjA3OTk5ODgyOX0.C1fsPXVD3khfhlUV6zCHTz_VthOYbbfu6_5CLyrkNow",VITE_SUPABASE_URL:"https://ncrnhxosahzxybzhorsm.supabase.co"},{useDebugValue:z8}=Ty,{useSyncExternalStoreWithSelector:$8}=U8;let qv=!1;const q8=e=>e;function W8(e,t=q8,r){(__?"production":void 0)!=="production"&&r&&!qv&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),qv=!0);const n=$8(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return z8(n),n}const Wv=e=>{(__?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?b8(e):e,r=(n,i)=>W8(t,n,i);return Object.assign(r,t),r},H8=e=>e?Wv(e):Wv,Hv=e=>({name:e.name,manufacturer:e.manufacturer??null,profile_type:e.profile_type??null,color_name:e.color_name??null,price_per_meter:e.pricePerMeter,color_category:e.colorCategory,chambers:e.chambers??5,glass_width_deduction_mm:e.glass_width_deduction_mm,glass_height_deduction_mm:e.glass_height_deduction_mm}),Xd=e=>({id:e.id,name:e.name,manufacturer:e.manufacturer??null,profile_type:e.profile_type??null,color_name:e.color_name??null,pricePerMeter:parseFloat(e.price_per_meter),colorCategory:e.color_category||e.color_name||"",chambers:e.chambers||5,glass_width_deduction_mm:e.glass_width_deduction_mm??24,glass_height_deduction_mm:e.glass_height_deduction_mm??24,user_id:e.user_id??void 0}),V8=[{name:"Rehau 70mm",pricePerMeter:45,colorCategory:"Alb",chambers:5,glass_width_deduction_mm:24,glass_height_deduction_mm:24},{name:"Rehau Synego",pricePerMeter:58,colorCategory:"Alb",chambers:7,glass_width_deduction_mm:24,glass_height_deduction_mm:24},{name:"Salamander Bluevolution 82",pricePerMeter:62,colorCategory:"Alb",chambers:7,glass_width_deduction_mm:24,glass_height_deduction_mm:24},{name:"Veka Softline 70",pricePerMeter:50,colorCategory:"Alb",chambers:5,glass_width_deduction_mm:24,glass_height_deduction_mm:24}],Iu={async getAll(){const{data:e,error:t}=await tr.from("profile_series").select("*").order("manufacturer").order("name");if(t)throw console.error("Error fetching profile series:",t),t;return(e||[]).map(Xd)},async create(e){const{data:t,error:r}=await tr.from("profile_series").insert([Hv(e)]).select().single();if(r)throw console.error("Error creating profile series:",r),r;return Xd(t)},async update(e,t){const r={};t.name!==void 0&&(r.name=t.name),t.manufacturer!==void 0&&(r.manufacturer=t.manufacturer??null),t.profile_type!==void 0&&(r.profile_type=t.profile_type??null),t.color_name!==void 0&&(r.color_name=t.color_name??null),t.pricePerMeter!==void 0&&(r.price_per_meter=t.pricePerMeter),t.colorCategory!==void 0&&(r.color_category=t.colorCategory),t.chambers!==void 0&&(r.chambers=t.chambers),t.glass_width_deduction_mm!==void 0&&(r.glass_width_deduction_mm=t.glass_width_deduction_mm),t.glass_height_deduction_mm!==void 0&&(r.glass_height_deduction_mm=t.glass_height_deduction_mm);const{data:n,error:i}=await tr.from("profile_series").update(r).eq("id",e).select().single();if(i)throw console.error("Error updating profile series:",i),i;return Xd(n)},async isInUse(e){const{data:t,error:r}=await tr.from("quote_items").select("id").eq("profile_series_id",e).limit(1);return r?(console.error("Error checking if profile series is in use:",r),!0):((t==null?void 0:t.length)??0)>0},async delete(e){if(await this.isInUse(e)){const n=new Error("Nu poi terge aceast serie de profil deoarece este folosit n una sau mai multe oferte. Te rugm s tergi sau s modifici ofertele care o folosesc nainte.");throw n.code="PROFILE_IN_USE",n}const{error:r}=await tr.from("profile_series").delete().eq("id",e);if(r){if(console.error("Error deleting profile series:",r),r.code==="23503"){const n=new Error("Nu poi terge aceast serie de profil deoarece este folosit n una sau mai multe oferte. Te rugm s tergi sau s modifici ofertele care o folosesc nainte.");throw n.code="PROFILE_IN_USE",n}throw r}},async createDefaultTemplates(){const{data:e,error:t}=await tr.from("profile_series").insert(V8.map(Hv)).select("*");if(t)throw console.error("Error creating default profile templates:",t),t;return(e||[]).map(Xd)}},G8={profileSeries:[],glassTypes:[{id:"1",name:"Tripan 44mm",pricePerSqMeter:180},{id:"2",name:"Dublu 24mm",pricePerSqMeter:120}],hardwareOptions:[{id:"1",name:"Roto NT",pricePerTurn:85,pricePerTiltTurn:145},{id:"2",name:"Siegenia",pricePerTurn:95,pricePerTiltTurn:165}],defaultLaborPercentage:15,defaultMarginPercentage:25},Mf=H8(e=>({settings:G8,quotes:[],isLoading:!1,updateSettings:t=>e(r=>({settings:{...r.settings,...t}})),loadProfileSeries:async()=>{try{e({isLoading:!0});const t=await Iu.getAll();e(r=>({settings:{...r.settings,profileSeries:t},isLoading:!1}))}catch(t){console.error("Failed to load profile series:",t),e({isLoading:!1})}},addProfileSeries:async t=>{try{const r=await Iu.create(t);e(n=>({settings:{...n.settings,profileSeries:[...n.settings.profileSeries,r]}}))}catch(r){throw console.error("Failed to add profile series:",r),r}},updateProfileSeries:async(t,r)=>{try{const n=await Iu.update(t,r);e(i=>({settings:{...i.settings,profileSeries:i.settings.profileSeries.map(s=>s.id===t?n:s)}}))}catch(n){throw console.error("Failed to update profile series:",n),n}},deleteProfileSeries:async t=>{try{await Iu.delete(t),e(r=>({settings:{...r.settings,profileSeries:r.settings.profileSeries.filter(n=>n.id!==t)}}))}catch(r){throw console.error("Failed to delete profile series:",r),r}},loadDefaultProfileTemplates:async()=>{try{e({isLoading:!0});const t=await Iu.createDefaultTemplates();e(r=>({settings:{...r.settings,profileSeries:[...r.settings.profileSeries,...t]},isLoading:!1}))}catch(t){throw console.error("Failed to load default profile templates:",t),e({isLoading:!1}),t}},addGlassType:t=>e(r=>({settings:{...r.settings,glassTypes:[...r.settings.glassTypes,t]}})),updateGlassType:(t,r)=>e(n=>({settings:{...n.settings,glassTypes:n.settings.glassTypes.map(i=>i.id===t?{...i,...r}:i)}})),deleteGlassType:t=>e(r=>({settings:{...r.settings,glassTypes:r.settings.glassTypes.filter(n=>n.id!==t)}})),addHardware:t=>e(r=>({settings:{...r.settings,hardwareOptions:[...r.settings.hardwareOptions,t]}})),updateHardware:(t,r)=>e(n=>({settings:{...n.settings,hardwareOptions:n.settings.hardwareOptions.map(i=>i.id===t?{...i,...r}:i)}})),deleteHardware:t=>e(r=>({settings:{...r.settings,hardwareOptions:r.settings.hardwareOptions.filter(n=>n.id!==t)}})),addQuote:t=>e(r=>({quotes:[...r.quotes,t]}))})),Vv=e=>({company_name:e.company_name,logo_url:e.logo_url??null,address:e.address??null,phone:e.phone??null,email:e.email??null,registration_number:e.registration_number??null,tax_id:e.tax_id??null,default_profile_series_id:e.default_profile_series_id??null,default_glass_type_id:e.default_glass_id??null,default_hardware_package_id:e.default_hardware_id??null}),rp=e=>({id:e.id,company_name:e.company_name||"",logo_url:e.logo_url??void 0,address:e.address??void 0,phone:e.phone??void 0,email:e.email??void 0,registration_number:e.registration_number??void 0,tax_id:e.tax_id??void 0,default_profile_series_id:e.default_profile_series_id??null,default_glass_id:e.default_glass_type_id??null,default_hardware_id:e.default_hardware_package_id??null}),M1={async get(){var e,t;try{const{data:r,error:n}=await tr.from("company_settings").select("*").maybeSingle();if(n){if(n.code==="PGRST116"||(e=n.message)!=null&&e.includes("does not exist"))return console.warn("company_settings table does not exist yet. Skipping fetch."),null;throw console.error("Error fetching company settings:",n),n}return r?rp(r):null}catch(r){if(r instanceof Error&&((t=r.message)!=null&&t.includes("does not exist")))return console.warn("company_settings table does not exist yet. Skipping fetch."),null;throw r}},async save(e){var t,r;try{const n=await this.get();if(n){const{data:i,error:s}=await tr.from("company_settings").update(Vv(e)).eq("id",n.id).select().single();if(s)throw console.error("Error updating company settings:",s),s;return rp(i)}else{const{data:i,error:s}=await tr.from("company_settings").insert([Vv(e)]).select().single();if(s)throw s.code==="PGRST116"||(t=s.message)!=null&&t.includes("does not exist")?(console.warn("company_settings table does not exist yet. Cannot save settings."),new Error("company_settings table does not exist. Please create it in Supabase first.")):(console.error("Error creating company settings:",s),s);return rp(i)}}catch(n){throw n instanceof Error&&((r=n.message)!=null&&r.includes("does not exist"))?(console.warn("company_settings table does not exist yet. Cannot save settings."),new Error("company_settings table does not exist. Please create it in Supabase first.")):n}}},Qd=["Rehau","Salamander","Veka Softline","Veka","Schco","Aluplast","Gealan","KBE","Deceuninck","Internorm","Profilco","Wicona","Reynaers","Aluprof","Aluk","Alumil","Alcoa","Other"],eh=["toc","cercevea","bagheta","traverse","impost","montant","toc exterior","toc interior","cercevea exterioar","cercevea interioar"],Gv=["Alb","Negru","Maro","Antracit","Alb mat","Negru mat","Maro mat","Antracit mat","Alb satinat","Negru satinat","Maro satinat","Antracit satinat","Alb lucios","Negru lucios","Maro lucios","Antracit lucios","Ral 9010","Ral 9005","Ral 8017","Ral 7016","Ral 9006","Ral 7005","Ral 6005","Ral 5002","Ral 5005","Ral 6009","Ral 7004","Ral 8019","Ral 9007","Ral 7035"];function Kv(){const{user:e}=Wc(),{settings:t,isLoading:r,updateSettings:n,loadProfileSeries:i,addProfileSeries:s,updateProfileSeries:a,deleteProfileSeries:o,loadDefaultProfileTemplates:l,addGlassType:c,updateGlassType:d,deleteGlassType:m,addHardware:v,updateHardware:p,deleteHardware:_}=Mf();pe.useEffect(()=>{i(),N()},[]);const[S,k]=pe.useState({company_name:"",logo_url:"",address:"",phone:"",email:"",registration_number:"",tax_id:"",default_profile_series_id:null,default_glass_id:null,default_hardware_id:null}),[w,x]=pe.useState(!1),N=async()=>{try{const R=await M1.get();R&&k({company_name:R.company_name,logo_url:R.logo_url||"",address:R.address||"",phone:R.phone||"",email:R.email||"",registration_number:R.registration_number||"",tax_id:R.tax_id||"",default_profile_series_id:R.default_profile_series_id,default_glass_id:R.default_glass_id,default_hardware_id:R.default_hardware_id})}catch(R){console.error("Failed to load company settings:",R)}},E=async()=>{if(!S.company_name.trim()){J("error","Numele firmei este obligatoriu.");return}x(!0);try{await M1.save(S),J("success","Informaiile firmei au fost salvate cu succes.")}catch(R){console.error("Failed to save company settings:",R),J("error","Eroare la salvarea informaiilor firmei. Te rugm s ncerci din nou.")}finally{x(!1)}},G=pe.useMemo(()=>{const R={};return t.profileSeries.forEach(oe=>{const se=oe.manufacturer||"Fr productor";R[se]||(R[se]=[]),R[se].push(oe)}),Object.keys(R).sort().reduce((oe,se)=>(oe[se]=R[se],oe),{})},[t.profileSeries]),[V,Y]=pe.useState({profile_type:"",manufacturer:"",color_name:"",pricePerMeter:"",custom_profile_type:"",chambers:"5",glass_width_deduction_mm:"24",glass_height_deduction_mm:"24"}),[B,O]=pe.useState({name:"",thickness_mm:"",pricePerSqMeter:""}),[q,C]=pe.useState({manufacturer:"",name:"",pricePerPack:""}),[M,K]=pe.useState(null),J=(R,oe)=>{K({type:R,message:oe}),setTimeout(()=>K(null),3e3)},he=async()=>{const R=V.profile_type==="custom"?V.custom_profile_type:V.profile_type;if(!R||!V.manufacturer||!V.color_name||!V.pricePerMeter){J("error","Te rugm s completezi toate cmpurile obligatorii: Tip Profil, Productor, Culoare i Pre.");return}const oe=`${R} > ${V.manufacturer} > ${V.color_name}`;try{await s({name:oe,manufacturer:V.manufacturer||null,profile_type:R||null,color_name:V.color_name||null,pricePerMeter:parseFloat(V.pricePerMeter),colorCategory:V.color_name||"",chambers:parseInt(V.chambers),glass_width_deduction_mm:parseInt(V.glass_width_deduction_mm)||24,glass_height_deduction_mm:parseInt(V.glass_height_deduction_mm)||24}),Y({profile_type:"",manufacturer:"",color_name:"",pricePerMeter:"",custom_profile_type:"",chambers:"5",glass_width_deduction_mm:"24",glass_height_deduction_mm:"24"}),J("success","Seria de profil a fost adugat cu succes.")}catch(se){console.error("Failed to add profile series:",se),J("error","Eroare la adugarea seriei de profil. Te rugm s ncerci din nou.")}},me=()=>{B.name&&B.pricePerSqMeter&&(c({id:Date.now().toString(),name:B.name,pricePerSqMeter:parseFloat(B.pricePerSqMeter)}),O({name:"",thickness_mm:"",pricePerSqMeter:""}))},ue=()=>{q.manufacturer&&q.name&&q.pricePerPack&&(v({id:Date.now().toString(),name:`${q.manufacturer} - ${q.name}`,pricePerTurn:parseFloat(q.pricePerPack),pricePerTiltTurn:parseFloat(q.pricePerPack)}),C({manufacturer:"",name:"",pricePerPack:""}))},Z=async()=>{try{await l(),J("success","abloanele implicite de profile au fost ncrcate.")}catch(R){console.error("Failed to load default templates:",R),J("error","Eroare la ncrcarea abloanelor implicite. Te rugm s ncerci din nou.")}};return f.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-6xl mx-auto",children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-2",children:"Setri Materiale"}),f.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6 sm:mb-8",children:"Configureaz preurile pentru profiluri, geamuri i feronerie"}),f.jsxs("div",{className:"space-y-8",children:[M&&f.jsx("div",{className:`rounded-lg px-4 py-3 text-sm ${M.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:M.message}),r&&f.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:f.jsx("p",{className:"text-blue-700",children:"Se ncarc datele..."})}),f.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 mb-4",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800",children:"Serii Profile"}),f.jsx("button",{type:"button",onClick:Z,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 px-3 py-2 text-sm border border-blue-200 rounded-md text-blue-700 hover:bg-blue-50",children:"ncarc abloane implicite"})]}),Object.entries(G).map(([R,oe])=>f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-300",children:R}),f.jsxs("div",{className:"hidden sm:grid sm:grid-cols-[1fr_10rem_8rem_7rem_6rem_7rem_7rem_auto] gap-2 px-3 py-2 mb-2 bg-gray-100 rounded-lg border border-gray-200",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Nume Serie"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Productor"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Tip Profil"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Culoare"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Pre (RON/m)"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Ded. L. (mm)"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Ded. nl. (mm)"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700 text-center",children:"Aciuni"})]}),f.jsx("div",{className:"space-y-3 mb-4",children:oe.map(se=>f.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-[1fr_10rem_8rem_7rem_6rem_7rem_7rem_auto] items-stretch sm:items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Nume Serie"}),f.jsx("div",{className:"w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-sm text-gray-700",children:se.name||`${se.profile_type||"N/A"} > ${se.manufacturer||"N/A"} > ${se.color_name||se.colorCategory||"N/A"}`})]}),f.jsxs("div",{className:"w-full sm:w-auto",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Productor"}),f.jsxs("select",{value:se.manufacturer&&Qd.includes(se.manufacturer)?se.manufacturer:"",onChange:A=>{a(se.id,{manufacturer:A.target.value||null}).catch(D=>{console.error("Failed to update profile series:",D),J("error","Eroare la actualizarea seriei de profil.")})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[f.jsx("option",{value:"",children:"Selecteaz..."}),Qd.map(A=>f.jsx("option",{value:A,children:A},A))]}),se.manufacturer&&!Qd.includes(se.manufacturer)&&f.jsx("input",{type:"text",value:se.manufacturer,onChange:A=>{a(se.id,{manufacturer:A.target.value||null}).catch(D=>{console.error("Failed to update profile series:",D),J("error","Eroare la actualizarea seriei de profil.")})},className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Productor personalizat"})]}),f.jsxs("div",{className:"w-full sm:w-auto",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Tip Profil"}),f.jsxs("select",{value:se.profile_type&&eh.includes(se.profile_type)?se.profile_type:"",onChange:A=>{a(se.id,{profile_type:A.target.value||null}).catch(D=>{console.error("Failed to update profile series:",D),J("error","Eroare la actualizarea seriei de profil.")})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[f.jsx("option",{value:"",children:"Selecteaz..."}),eh.map(A=>f.jsx("option",{value:A,children:A},A))]}),se.profile_type&&!eh.includes(se.profile_type)&&f.jsx("input",{type:"text",value:se.profile_type,onChange:A=>{a(se.id,{profile_type:A.target.value||null}).catch(D=>{console.error("Failed to update profile series:",D),J("error","Eroare la actualizarea seriei de profil.")})},className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Tip profil personalizat"})]}),f.jsxs("div",{className:"w-full sm:w-auto",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Culoare"}),f.jsxs("select",{value:se.color_name||se.colorCategory||"",onChange:A=>{const D=A.target.value;a(se.id,{color_name:D||null,colorCategory:D||""}).catch(H=>{console.error("Failed to update profile series:",H),J("error","Eroare la actualizarea seriei de profil.")})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[f.jsx("option",{value:"",children:"Selecteaz..."}),Gv.map(A=>f.jsx("option",{value:A,children:A},A))]})]}),f.jsxs("div",{className:"w-full sm:w-auto",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Pre (RON/m)"}),f.jsx("input",{type:"number",value:se.pricePerMeter,onChange:A=>{a(se.id,{pricePerMeter:parseFloat(A.target.value)}).catch(D=>{console.error("Failed to update profile series:",D),J("error","Eroare la actualizarea seriei de profil.")})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"RON/metru"})]}),f.jsxs("div",{className:"w-full sm:w-auto",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Ded. L. (mm)"}),f.jsx("input",{type:"number",value:se.glass_width_deduction_mm,onChange:A=>{a(se.id,{glass_width_deduction_mm:parseInt(A.target.value)||24}).catch(D=>{console.error("Failed to update profile series:",D),J("error","Eroare la actualizarea seriei de profil.")})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-xs",placeholder:"L. (mm)",title:"Deducere lime sticl (mm)"})]}),f.jsxs("div",{className:"w-full sm:w-auto",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Ded. nl. (mm)"}),f.jsx("input",{type:"number",value:se.glass_height_deduction_mm,onChange:A=>{a(se.id,{glass_height_deduction_mm:parseInt(A.target.value)||24}).catch(D=>{console.error("Failed to update profile series:",D),J("error","Eroare la actualizarea seriei de profil.")})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-xs",placeholder:"nl. (mm)",title:"Deducere nlime sticl (mm)"})]}),f.jsx("div",{className:"flex justify-center sm:justify-start",children:f.jsx("button",{onClick:async()=>{var A;if(confirm("Eti sigur c vrei s tergi aceast serie de profil?"))try{await o(se.id),J("success","Seria de profil a fost tears.")}catch(D){console.error("Failed to delete profile series:",D),(D==null?void 0:D.code)==="23503"||(D==null?void 0:D.code)==="PROFILE_IN_USE"||(A=D==null?void 0:D.message)!=null&&A.includes("folosit")?J("error",D.message||"Nu poi terge aceast serie de profil deoarece este folosit n una sau mai multe oferte. Te rugm s tergi sau s modifici ofertele care o folosesc nainte."):J("error",(D==null?void 0:D.message)||"Eroare la tergerea seriei de profil.")}},className:"p-2.5 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"terge",children:f.jsx(ho,{className:"w-5 h-5"})})})]},se.id))})]},R)),f.jsxs("div",{className:"bg-blue-50 rounded-lg border-2 border-blue-200 p-4 sm:p-6",children:[f.jsx("h3",{className:"text-base font-semibold text-gray-800 mb-4",children:"Adaug Profil Nou"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tip Profil ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsxs("select",{value:V.profile_type,onChange:R=>Y({...V,profile_type:R.target.value,custom_profile_type:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"Selecteaz tip profil..."}),eh.map(R=>f.jsx("option",{value:R,children:R},R)),f.jsx("option",{value:"custom",children:"Alt tip (introdu manual)"})]}),V.profile_type==="custom"&&f.jsx("input",{type:"text",value:V.custom_profile_type,onChange:R=>Y({...V,custom_profile_type:R.target.value}),className:"w-full mt-2 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Introdu tip profil..."})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Productor ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsxs("select",{value:V.manufacturer,onChange:R=>Y({...V,manufacturer:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"Selecteaz productor..."}),Qd.map(R=>f.jsx("option",{value:R,children:R},R))]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Culoare ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsxs("select",{value:V.color_name,onChange:R=>Y({...V,color_name:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"Selecteaz culoare..."}),Gv.map(R=>f.jsx("option",{value:R,children:R},R))]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Pre (RON/m) ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{type:"number",step:"0.01",value:V.pricePerMeter,onChange:R=>Y({...V,pricePerMeter:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"13.00"})]})]}),f.jsxs("details",{className:"mt-4",children:[f.jsx("summary",{className:"cursor-pointer text-sm text-gray-600 hover:text-gray-800 font-medium",children:"Opiuni avansate (Deduceri sticl, Camere)"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4 pt-4 border-t border-gray-200",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deducere Lime (mm)"}),f.jsx("input",{type:"number",value:V.glass_width_deduction_mm,onChange:R=>Y({...V,glass_width_deduction_mm:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"24"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deducere nlime (mm)"}),f.jsx("input",{type:"number",value:V.glass_height_deduction_mm,onChange:R=>Y({...V,glass_height_deduction_mm:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"24"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Camere"}),f.jsx("input",{type:"number",value:V.chambers,onChange:R=>Y({...V,chambers:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"5"})]})]})]}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[V.profile_type&&V.manufacturer&&V.color_name&&f.jsxs("div",{className:"text-sm text-gray-600",children:[f.jsx("span",{className:"font-medium",children:"Nume generat:"})," ",f.jsxs("span",{className:"text-blue-700 font-semibold",children:[V.profile_type==="custom"?V.custom_profile_type:V.profile_type," > ",V.manufacturer," > ",V.color_name]})]}),f.jsxs("button",{onClick:he,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors font-medium",children:[f.jsx(kh,{className:"w-5 h-5"}),"Adaug Profil"]})]})]})]}),f.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4",children:"Tipuri Geam"}),f.jsxs("div",{className:"hidden sm:grid sm:grid-cols-[1fr_10rem_12rem_auto] gap-3 px-3 py-2 mb-2 bg-gray-100 rounded-lg border border-gray-200",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Nume Tip Geam"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Grosime (mm)"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Pre (RON/m)"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700 text-center",children:"Aciuni"})]}),f.jsx("div",{className:"space-y-3 mb-4",children:t.glassTypes.map(R=>f.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-[1fr_10rem_12rem_auto] items-stretch sm:items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Nume Tip Geam"}),f.jsx("input",{type:"text",value:R.name,onChange:oe=>d(R.id,{name:oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"Tip geam"})]}),f.jsxs("div",{className:"w-full sm:w-auto",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Grosime (mm)"}),f.jsx("input",{type:"number",value:R.thickness_mm||"",onChange:oe=>d(R.id,{thickness_mm:parseFloat(oe.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"44, 24..."})]}),f.jsxs("div",{className:"w-full sm:w-auto",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Pre (RON/m)"}),f.jsx("input",{type:"number",value:R.pricePerSqMeter,onChange:oe=>d(R.id,{pricePerSqMeter:parseFloat(oe.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"RON/m"})]}),f.jsx("div",{className:"flex justify-center sm:justify-start",children:f.jsx("button",{onClick:()=>m(R.id),className:"p-2.5 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"terge",children:f.jsx(ho,{className:"w-5 h-5"})})})]},R.id))}),f.jsxs("div",{className:"hidden sm:grid sm:grid-cols-[1fr_10rem_12rem_auto] gap-3 px-3 py-2 mb-2 bg-blue-100 rounded-lg border border-blue-200",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Nume Tip Geam"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Grosime (mm)"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Pre (RON/m)"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700 text-center",children:"Aciuni"})]}),f.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-[1fr_10rem_12rem_auto] items-stretch sm:items-center gap-3 p-3 bg-blue-50 rounded-lg border-2 border-blue-200",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Nume Tip Geam"}),f.jsx("input",{type:"text",value:B.name,onChange:R=>O({...B,name:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"Tip geam nou"})]}),f.jsxs("div",{className:"w-full sm:w-auto",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Grosime (mm)"}),f.jsx("input",{type:"number",value:B.thickness_mm,onChange:R=>O({...B,thickness_mm:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"44, 24..."})]}),f.jsxs("div",{className:"w-full sm:w-auto",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Pre (RON/m)"}),f.jsx("input",{type:"number",value:B.pricePerSqMeter,onChange:R=>O({...B,pricePerSqMeter:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"RON/m"})]}),f.jsx("div",{className:"flex justify-center sm:justify-start",children:f.jsx("button",{onClick:me,className:"p-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Adaug",children:f.jsx(kh,{className:"w-5 h-5"})})})]})]}),f.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4",children:"Feronerie"}),f.jsxs("div",{className:"hidden sm:grid sm:grid-cols-[1fr_12rem_12rem_auto] gap-3 px-3 py-2 mb-2 bg-gray-100 rounded-lg border border-gray-200",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Productor / Nume"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Pre Deschidere (RON)"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Pre Oscilobatant (RON)"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700 text-center",children:"Aciuni"})]}),f.jsx("div",{className:"space-y-3 mb-4",children:t.hardwareOptions.map(R=>f.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-[1fr_12rem_12rem_auto] items-stretch sm:items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Productor / Nume"}),f.jsx("input",{type:"text",value:R.name,onChange:oe=>p(R.id,{name:oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"Productor"})]}),f.jsxs("div",{className:"w-full sm:w-auto",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Pre Deschidere (RON)"}),f.jsx("input",{type:"number",value:R.pricePerTurn,onChange:oe=>p(R.id,{pricePerTurn:parseFloat(oe.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"RON/Deschidere"})]}),f.jsxs("div",{className:"w-full sm:w-auto",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Pre Oscilobatant (RON)"}),f.jsx("input",{type:"number",value:R.pricePerTiltTurn,onChange:oe=>p(R.id,{pricePerTiltTurn:parseFloat(oe.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"RON/Oscilobatant"})]}),f.jsx("div",{className:"flex justify-center sm:justify-start",children:f.jsx("button",{onClick:()=>_(R.id),className:"p-2.5 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"terge",children:f.jsx(ho,{className:"w-5 h-5"})})})]},R.id))}),f.jsxs("div",{className:"hidden sm:grid sm:grid-cols-[1fr_12rem_12rem_auto] gap-3 px-3 py-2 mb-2 bg-blue-100 rounded-lg border border-blue-200",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Productor / Nume"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Pre Deschidere (RON)"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Pre Oscilobatant (RON)"}),f.jsx("div",{className:"text-xs font-semibold text-gray-700 text-center",children:"Aciuni"})]}),f.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-[1fr_12rem_12rem_auto] items-stretch sm:items-center gap-3 p-3 bg-blue-50 rounded-lg border-2 border-blue-200",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Productor / Nume"}),f.jsx("input",{type:"text",value:q.manufacturer&&q.name?`${q.manufacturer} - ${q.name}`:"",onChange:R=>{const oe=R.target.value.split(" - ");C({manufacturer:oe[0]||"",name:oe.slice(1).join(" - ")||"",pricePerPack:q.pricePerPack})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"Productor - Nume"})]}),f.jsxs("div",{className:"w-full sm:w-auto",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Pre Deschidere (RON)"}),f.jsx("input",{type:"number",value:q.pricePerPack,onChange:R=>C({...q,pricePerPack:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"RON/Pachet"})]}),f.jsxs("div",{className:"w-full sm:w-auto",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Pre Oscilobatant (RON)"}),f.jsx("input",{type:"number",value:q.pricePerPack,onChange:R=>C({...q,pricePerPack:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"RON/Pachet"})]}),f.jsx("div",{className:"flex justify-center sm:justify-start",children:f.jsx("button",{onClick:ue,className:"p-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Adaug",children:f.jsx(kh,{className:"w-5 h-5"})})})]})]}),f.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4",children:"Informaii Firm"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-6",children:[f.jsxs("div",{className:"sm:col-span-2",children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nume Firm ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{type:"text",value:S.company_name,onChange:R=>k({...S,company_name:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Numele firmei",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo Firm"}),f.jsx("input",{type:"file",accept:"image/*",onChange:async R=>{var se;const oe=(se=R.target.files)==null?void 0:se[0];if(!(!oe||!e))try{const A=oe.name.split(".").pop(),D=`${e.id}/${Date.now()}.${A}`,{error:H}=await tr.storage.from("company-logos").upload(D,oe,{cacheControl:"3600",upsert:!1});if(H){console.error("Error uploading logo:",H),J("error","Eroare la ncrcarea logo-ului. Te rugm s ncerci din nou.");return}const{data:X}=tr.storage.from("company-logos").getPublicUrl(D),ee=X==null?void 0:X.publicUrl;ee&&(k(ie=>({...ie,logo_url:ee})),J("success","Logo-ul a fost ncrcat cu succes."))}catch(A){console.error("Error handling logo upload:",A),J("error","Eroare la ncrcarea logo-ului. Te rugm s ncerci din nou.")}},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),S.logo_url&&f.jsxs("div",{className:"mt-3",children:[f.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Preview logo curent:"}),f.jsx("img",{src:S.logo_url,alt:"Logo firm",className:"h-16 border border-gray-200 rounded",onError:R=>{R.target.style.display="none"}})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adres"}),f.jsx("input",{type:"text",value:S.address,onChange:R=>k({...S,address:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Adresa firmei"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon"}),f.jsx("input",{type:"tel",value:S.phone,onChange:R=>k({...S,phone:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+40..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),f.jsx("input",{type:"email",value:S.email,onChange:R=>k({...S,email:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"contact@firma.ro"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nr. Reg. Com."}),f.jsx("input",{type:"text",value:S.registration_number,onChange:R=>k({...S,registration_number:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"J40/1234/2020"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CUI"}),f.jsx("input",{type:"text",value:S.tax_id,onChange:R=>k({...S,tax_id:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"RO12345678"})]})]}),f.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[f.jsx("h3",{className:"text-base font-semibold text-gray-800 mb-4",children:"Setri Implicite"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profil Implicit"}),f.jsxs("select",{value:S.default_profile_series_id||"",onChange:R=>k({...S,default_profile_series_id:R.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"Niciunul"}),t.profileSeries.map(R=>f.jsxs("option",{value:R.id,children:[R.manufacturer?`${R.manufacturer} - `:"",R.name]},R.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sticl Implicit"}),f.jsxs("select",{value:S.default_glass_id||"",onChange:R=>k({...S,default_glass_id:R.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"Niciuna"}),t.glassTypes.map(R=>f.jsx("option",{value:R.id,children:R.name},R.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feronerie Implicit"}),f.jsxs("select",{value:S.default_hardware_id||"",onChange:R=>k({...S,default_hardware_id:R.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"Niciuna"}),t.hardwareOptions.map(R=>f.jsx("option",{value:R.id,children:R.name},R.id))]})]})]})]}),f.jsx("div",{className:"mt-6 flex justify-end",children:f.jsxs("button",{onClick:E,disabled:w,className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:bg-gray-400 disabled:cursor-not-allowed",children:[f.jsx(pv,{className:"w-5 h-5"}),w?"Se salveaz...":"Salveaz Informaiile Firmei"]})})]}),f.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4",children:"Procente Implicite"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Manoper (%)"}),f.jsx("input",{type:"number",value:t.defaultLaborPercentage,onChange:R=>n({defaultLaborPercentage:parseFloat(R.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marj Profit (%)"}),f.jsx("input",{type:"number",value:t.defaultMarginPercentage,onChange:R=>n({defaultMarginPercentage:parseFloat(R.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-base",children:[f.jsx(pv,{className:"w-5 h-5"}),"Salveaz Setrile"]})})]})]})}const K8=e=>{const t={};return e.client_name!==void 0&&(t.client_name=e.client_name),e.client_phone!==void 0&&(t.client_phone=e.client_phone),e.client_email!==void 0&&(t.client_email=e.client_email),e.client_address!==void 0&&(t.client_address=e.client_address),e.reference!==void 0&&(t.reference=e.reference),e.status!==void 0&&(t.status=e.status),e.subtotal!==void 0&&(t.subtotal=e.subtotal),e.discount_total!==void 0&&(t.discount_total=e.discount_total),e.vat_rate!==void 0&&(t.vat_rate=e.vat_rate),e.vat_amount!==void 0&&(t.vat_amount=e.vat_amount),e.total!==void 0&&(t.total=e.total),t},np=e=>({id:e.id,user_id:e.user_id,client_name:e.client_name??void 0,client_phone:e.client_phone??void 0,client_email:e.client_email??void 0,client_address:e.client_address??void 0,reference:e.reference??void 0,status:e.status,subtotal:parseFloat(e.subtotal||0),discount_total:parseFloat(e.discount_total||0),vat_rate:parseFloat(e.vat_rate||0),vat_amount:parseFloat(e.vat_amount||0),total:parseFloat(e.total||0),created_at:e.created_at,updated_at:e.updated_at}),J8=(e,t)=>({quote_id:t,item_type:e.item_type,label:e.label??null,width_mm:e.width_mm,height_mm:e.height_mm,quantity:e.quantity,configuration:e.configuration,base_cost:e.base_cost,price_without_vat:e.price_without_vat,vat_rate:e.vat_rate,total_with_vat:e.total_with_vat,profile_series_id:e.profile_series_id??null,profile_length_m:e.profile_length_m??null,glass_area_sqm:e.glass_area_sqm??null}),Jv=e=>({id:e.id,quote_id:e.quote_id,user_id:e.user_id,item_type:e.item_type,label:e.label??void 0,width_mm:parseInt(e.width_mm,10),height_mm:parseInt(e.height_mm,10),quantity:parseInt(e.quantity,10),configuration:e.configuration,base_cost:parseFloat(e.base_cost||0),price_without_vat:parseFloat(e.price_without_vat||0),vat_rate:parseFloat(e.vat_rate||0),total_with_vat:parseFloat(e.total_with_vat||0),profile_series_id:e.profile_series_id??void 0,profile_length_m:e.profile_length_m?parseFloat(e.profile_length_m):void 0,glass_area_sqm:e.glass_area_sqm?parseFloat(e.glass_area_sqm):void 0,created_at:e.created_at}),pl={async createQuoteWithItems(e){const t=e.items.reduce((m,v)=>m+v.price_without_vat*v.quantity,0),r=e.header.discount_total??0,n=e.header.vat_rate??.19,i=t-r,s=i*n,a=i+s,o=K8({...e.header,status:e.header.status??"draft",subtotal:t,discount_total:r,vat_rate:n,vat_amount:s,total:a}),{data:l,error:c}=await tr.from("quotes").insert([o]).select().single();if(c)throw console.error("Error creating quote:",c),c;const d=np(l);if(e.items.length>0){const m=e.items.map(_=>J8(_,d.id)),{data:v,error:p}=await tr.from("quote_items").insert(m).select();if(p)throw console.error("Error creating quote items:",p),await tr.from("quotes").delete().eq("id",d.id),p;return{...d,items:(v||[]).map(Jv)}}return{...d,items:[]}},async fetchQuotes(){const{data:e,error:t}=await tr.from("quotes").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching quotes:",t),t;return(e||[]).map(np)},async fetchQuoteWithItems(e){const{data:t,error:r}=await tr.from("quotes").select("*").eq("id",e).single();if(r)throw console.error("Error fetching quote:",r),r;if(!t)return null;const{data:n,error:i}=await tr.from("quote_items").select("*").eq("quote_id",e).order("created_at",{ascending:!0});if(i)throw console.error("Error fetching quote items:",i),i;const s=(n||[]).map(Jv),a={};let o=0;return s.forEach(l=>{if(l.glass_area_sqm&&(o+=l.glass_area_sqm*l.quantity),l.profile_series_id&&l.profile_length_m){const c=l.profile_series_id;a[c]||(a[c]=0),a[c]+=l.profile_length_m*l.quantity}}),{...np(t),items:s,totalProfileLengthBySeries:a,totalGlassAreaSqm:o}},async deleteQuote(e){const{error:t}=await tr.from("quotes").delete().eq("id",e);if(t)throw console.error("Error deleting quote:",t),t}};function It(e){"@babel/helpers - typeof";return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(e)}var ki=Uint8Array,Mn=Uint16Array,ag=Int32Array,og=new ki([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),lg=new ki([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Yv=new ki([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x_=function(e,t){for(var r=new Mn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new ag(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},S_=x_(og,2),Y8=S_.b,D1=S_.r;Y8[28]=258,D1[258]=28;var Z8=x_(lg,0),Zv=Z8.r,B1=new Mn(32768);for(var Gt=0;Gt<32768;++Gt){var Ks=(Gt&43690)>>1|(Gt&21845)<<1;Ks=(Ks&52428)>>2|(Ks&13107)<<2,Ks=(Ks&61680)>>4|(Ks&3855)<<4,B1[Gt]=((Ks&65280)>>8|(Ks&255)<<8)>>1}var ic=function(e,t,r){for(var n=e.length,i=0,s=new Mn(t);i<n;++i)e[i]&&++s[e[i]-1];var a=new Mn(t);for(i=1;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Mn(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],d=t-e[i],m=a[e[i]-1]++<<d,v=m|(1<<d)-1;m<=v;++m)o[B1[m]>>l]=c}else for(o=new Mn(n),i=0;i<n;++i)e[i]&&(o[i]=B1[a[e[i]-1]++]>>15-e[i]);return o},wo=new ki(288);for(var Gt=0;Gt<144;++Gt)wo[Gt]=8;for(var Gt=144;Gt<256;++Gt)wo[Gt]=9;for(var Gt=256;Gt<280;++Gt)wo[Gt]=7;for(var Gt=280;Gt<288;++Gt)wo[Gt]=8;var lf=new ki(32);for(var Gt=0;Gt<32;++Gt)lf[Gt]=5;var X8=ic(wo,9,0),Q8=ic(lf,5,0),N_=function(e){return(e+7)/8|0},eA=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ki(e.subarray(t,r))},ps=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Ru=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},ip=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return{t:A_,l:0};if(i==1){var a=new ki(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(G,V){return G.f-V.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,d=1,m=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=r[r[c].f<r[m].f?c++:m++],l=r[c!=d&&r[c].f<r[m].f?c++:m++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var v=s[0].s,n=1;n<i;++n)s[n].s>v&&(v=s[n].s);var p=new Mn(v+1),_=U1(r[d-1],p,0);if(_>t){var n=0,S=0,k=_-t,w=1<<k;for(s.sort(function(V,Y){return p[Y.s]-p[V.s]||V.f-Y.f});n<i;++n){var x=s[n].s;if(p[x]>t)S+=w-(1<<_-p[x]),p[x]=t;else break}for(S>>=k;S>0;){var N=s[n].s;p[N]<t?S-=1<<t-p[N]++-1:++n}for(;n>=0&&S;--n){var E=s[n].s;p[E]==t&&(--p[E],++S)}_=t}return{t:new ki(p),l:_}},U1=function(e,t,r){return e.s==-1?Math.max(U1(e.l,t,r+1),U1(e.r,t,r+1)):t[e.s]=r},Xv=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Mn(++t),n=0,i=e[0],s=1,a=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return{c:r.subarray(0,n),n:t}},Fu=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},k_=function(e,t,r){var n=r.length,i=N_(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<n;++s)e[i+s+4]=r[s];return(i+4+n)*8},Qv=function(e,t,r,n,i,s,a,o,l,c,d){ps(t,d++,r),++i[256];for(var m=ip(i,15),v=m.t,p=m.l,_=ip(s,15),S=_.t,k=_.l,w=Xv(v),x=w.c,N=w.n,E=Xv(S),G=E.c,V=E.n,Y=new Mn(19),B=0;B<x.length;++B)++Y[x[B]&31];for(var B=0;B<G.length;++B)++Y[G[B]&31];for(var O=ip(Y,7),q=O.t,C=O.l,M=19;M>4&&!q[Yv[M-1]];--M);var K=c+5<<3,J=Fu(i,wo)+Fu(s,lf)+a,he=Fu(i,v)+Fu(s,S)+a+14+3*M+Fu(Y,q)+2*Y[16]+3*Y[17]+7*Y[18];if(l>=0&&K<=J&&K<=he)return k_(t,d,e.subarray(l,l+c));var me,ue,Z,R;if(ps(t,d,1+(he<J)),d+=2,he<J){me=ic(v,p,0),ue=v,Z=ic(S,k,0),R=S;var oe=ic(q,C,0);ps(t,d,N-257),ps(t,d+5,V-1),ps(t,d+10,M-4),d+=14;for(var B=0;B<M;++B)ps(t,d+3*B,q[Yv[B]]);d+=3*M;for(var se=[x,G],A=0;A<2;++A)for(var D=se[A],B=0;B<D.length;++B){var H=D[B]&31;ps(t,d,oe[H]),d+=q[H],H>15&&(ps(t,d,D[B]>>5&127),d+=D[B]>>12)}}else me=X8,ue=wo,Z=Q8,R=lf;for(var B=0;B<o;++B){var X=n[B];if(X>255){var H=X>>18&31;Ru(t,d,me[H+257]),d+=ue[H+257],H>7&&(ps(t,d,X>>23&31),d+=og[H]);var ee=X&31;Ru(t,d,Z[ee]),d+=R[ee],ee>3&&(Ru(t,d,X>>5&8191),d+=lg[ee])}else Ru(t,d,me[X]),d+=ue[X]}return Ru(t,d,me[256]),d+ue[256]},tA=new ag([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),A_=new ki(0),rA=function(e,t,r,n,i,s){var a=s.z||e.length,o=new ki(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),c=s.l,d=(s.r||0)&7;if(t){d&&(l[0]=s.r>>3);for(var m=tA[t-1],v=m>>13,p=m&8191,_=(1<<r)-1,S=s.p||new Mn(32768),k=s.h||new Mn(_+1),w=Math.ceil(r/3),x=2*w,N=function(He){return(e[He]^e[He+1]<<w^e[He+2]<<x)&_},E=new ag(25e3),G=new Mn(288),V=new Mn(32),Y=0,B=0,O=s.i||0,q=0,C=s.w||0,M=0;O+2<a;++O){var K=N(O),J=O&32767,he=k[K];if(S[J]=he,k[K]=J,C<=O){var me=a-O;if((Y>7e3||q>24576)&&(me>423||!c)){d=Qv(e,l,0,E,G,V,B,q,M,O-M,d),q=Y=B=0,M=O;for(var ue=0;ue<286;++ue)G[ue]=0;for(var ue=0;ue<30;++ue)V[ue]=0}var Z=2,R=0,oe=p,se=J-he&32767;if(me>2&&K==N(O-se))for(var A=Math.min(v,me)-1,D=Math.min(32767,O),H=Math.min(258,me);se<=D&&--oe&&J!=he;){if(e[O+Z]==e[O+Z-se]){for(var X=0;X<H&&e[O+X]==e[O+X-se];++X);if(X>Z){if(Z=X,R=se,X>A)break;for(var ee=Math.min(se,X-2),ie=0,ue=0;ue<ee;++ue){var ge=O-se+ue&32767,te=S[ge],fe=ge-te&32767;fe>ie&&(ie=fe,he=ge)}}}J=he,he=S[J],se+=J-he&32767}if(R){E[q++]=268435456|D1[Z]<<18|Zv[R];var xe=D1[Z]&31,Le=Zv[R]&31;B+=og[xe]+lg[Le],++G[257+xe],++V[Le],C=O+Z,++Y}else E[q++]=e[O],++G[e[O]]}}for(O=Math.max(O,C);O<a;++O)E[q++]=e[O],++G[e[O]];d=Qv(e,l,c,E,G,V,B,q,M,O-M,d),c||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=k,s.p=S,s.i=O,s.w=C)}else{for(var O=s.w||0;O<a+c;O+=65535){var Pe=O+65535;Pe>=a&&(l[d/8|0]=c,Pe=a),d=k_(l,d+1,e.subarray(O,Pe))}s.i=a}return eA(o,0,n+N_(d)+i)},j_=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},nA=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new ki(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return rA(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},L_=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},iA=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=j_();i.p(t.dictionary),L_(e,2,i.d())}};function z1(e,t){t||(t={});var r=j_();r.p(e);var n=nA(e,t,t.dictionary?6:2,4);return iA(n,t),L_(n,n.length-4,r.d()),n}var sA=typeof TextDecoder<"u"&&new TextDecoder,aA=0;try{sA.decode(A_,{stream:!0}),aA=1}catch{}function oA(e){if(Array.isArray(e))return e}function lA(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function e5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function uA(e,t){if(e){if(typeof e=="string")return e5(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e5(e,t):void 0}}function cA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t5(e,t){return oA(e)||lA(e,t)||uA(e,t)||cA()}function r5(e,t="utf8"){return new TextDecoder(t).decode(e)}const dA=new TextEncoder;function hA(e){return dA.encode(e)}const fA=1024*8,pA=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),sp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ug{constructor(t=fA,r={}){Ot(this,"buffer");Ot(this,"byteLength");Ot(this,"byteOffset");Ot(this,"length");Ot(this,"offset");Ot(this,"lastWrittenByte");Ot(this,"littleEndian");Ot(this,"_data");Ot(this,"_mark");Ot(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,s=t.byteLength-i;let a=i;(ArrayBuffer.isView(t)||t instanceof ug)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=sp[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===pA&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new sp[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new sp[r](s);return this.offset+=n,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return r5(this.readBytes(t))}decodeText(t=1,r="utf8"){return r5(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(hA(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const mA=4,n5=0,i5=1,gA=2;function Gl(e){let t=e.length;for(;--t>=0;)e[t]=0}const vA=0,E_=1,yA=2,wA=3,bA=258,cg=29,Hc=256,Lc=Hc+1+cg,xl=30,dg=19,P_=2*Lc+1,ao=15,ap=16,_A=7,hg=256,C_=16,T_=17,O_=18,$1=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ah=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),xA=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),I_=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),SA=512,bs=new Array((Lc+2)*2);Gl(bs);const sc=new Array(xl*2);Gl(sc);const Ec=new Array(SA);Gl(Ec);const Pc=new Array(bA-wA+1);Gl(Pc);const fg=new Array(cg);Gl(fg);const uf=new Array(xl);Gl(uf);function op(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let R_,F_,M_;function lp(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const D_=e=>e<256?Ec[e]:Ec[256+(e>>>7)],Cc=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},bn=(e,t,r)=>{e.bi_valid>ap-r?(e.bi_buf|=t<<e.bi_valid&65535,Cc(e,e.bi_buf),e.bi_buf=t>>ap-e.bi_valid,e.bi_valid+=r-ap):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},qi=(e,t,r)=>{bn(e,r[t*2],r[t*2+1])},B_=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},NA=e=>{e.bi_valid===16?(Cc(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},kA=(e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,d,m,v,p,_,S=0;for(v=0;v<=ao;v++)e.bl_count[v]=0;for(r[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<P_;c++)d=e.heap[c],v=r[r[d*2+1]*2+1]+1,v>l&&(v=l,S++),r[d*2+1]=v,!(d>n)&&(e.bl_count[v]++,p=0,d>=o&&(p=a[d-o]),_=r[d*2],e.opt_len+=_*(v+p),s&&(e.static_len+=_*(i[d*2+1]+p)));if(S!==0){do{for(v=l-1;e.bl_count[v]===0;)v--;e.bl_count[v]--,e.bl_count[v+1]+=2,e.bl_count[l]--,S-=2}while(S>0);for(v=l;v!==0;v--)for(d=e.bl_count[v];d!==0;)m=e.heap[--c],!(m>n)&&(r[m*2+1]!==v&&(e.opt_len+=(v-r[m*2+1])*r[m*2],r[m*2+1]=v),d--)}},U_=(e,t,r)=>{const n=new Array(ao+1);let i=0,s,a;for(s=1;s<=ao;s++)i=i+r[s-1]<<1,n[s]=i;for(a=0;a<=t;a++){let o=e[a*2+1];o!==0&&(e[a*2]=B_(n[o]++,o))}},AA=()=>{let e,t,r,n,i;const s=new Array(ao+1);for(r=0,n=0;n<cg-1;n++)for(fg[n]=r,e=0;e<1<<$1[n];e++)Pc[r++]=n;for(Pc[r-1]=n,i=0,n=0;n<16;n++)for(uf[n]=i,e=0;e<1<<Ah[n];e++)Ec[i++]=n;for(i>>=7;n<xl;n++)for(uf[n]=i<<7,e=0;e<1<<Ah[n]-7;e++)Ec[256+i++]=n;for(t=0;t<=ao;t++)s[t]=0;for(e=0;e<=143;)bs[e*2+1]=8,e++,s[8]++;for(;e<=255;)bs[e*2+1]=9,e++,s[9]++;for(;e<=279;)bs[e*2+1]=7,e++,s[7]++;for(;e<=287;)bs[e*2+1]=8,e++,s[8]++;for(U_(bs,Lc+1,s),e=0;e<xl;e++)sc[e*2+1]=5,sc[e*2]=B_(e,5);R_=new op(bs,$1,Hc+1,Lc,ao),F_=new op(sc,Ah,0,xl,ao),M_=new op(new Array(0),xA,0,dg,_A)},z_=e=>{let t;for(t=0;t<Lc;t++)e.dyn_ltree[t*2]=0;for(t=0;t<xl;t++)e.dyn_dtree[t*2]=0;for(t=0;t<dg;t++)e.bl_tree[t*2]=0;e.dyn_ltree[hg*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},$_=e=>{e.bi_valid>8?Cc(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},s5=(e,t,r,n)=>{const i=t*2,s=r*2;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]},up=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&s5(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!s5(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},a5=(e,t,r)=>{let n,i,s=0,a,o;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+s++]&255,n+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],n===0?qi(e,i,t):(a=Pc[i],qi(e,a+Hc+1,t),o=$1[a],o!==0&&(i-=fg[a],bn(e,i,o)),n--,a=D_(n),qi(e,a,r),o=Ah[a],o!==0&&(n-=uf[a],bn(e,n,o)));while(s<e.sym_next);qi(e,hg,t)},q1=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let a,o,l=-1,c;for(e.heap_len=0,e.heap_max=P_,a=0;a<s;a++)r[a*2]!==0?(e.heap[++e.heap_len]=l=a,e.depth[a]=0):r[a*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,r[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=n[c*2+1]);for(t.max_code=l,a=e.heap_len>>1;a>=1;a--)up(e,r,a);c=s;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],up(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,r[c*2]=r[a*2]+r[o*2],e.depth[c]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,r[a*2+1]=r[o*2+1]=c,e.heap[1]=c++,up(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],kA(e,t),U_(r,l,e.bl_count)},o5=(e,t,r)=>{let n,i=-1,s,a=t[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)s=a,a=t[(n+1)*2+1],!(++o<l&&s===a)&&(o<c?e.bl_tree[s*2]+=o:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[C_*2]++):o<=10?e.bl_tree[T_*2]++:e.bl_tree[O_*2]++,o=0,i=s,a===0?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4))},l5=(e,t,r)=>{let n,i=-1,s,a=t[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),n=0;n<=r;n++)if(s=a,a=t[(n+1)*2+1],!(++o<l&&s===a)){if(o<c)do qi(e,s,e.bl_tree);while(--o!==0);else s!==0?(s!==i&&(qi(e,s,e.bl_tree),o--),qi(e,C_,e.bl_tree),bn(e,o-3,2)):o<=10?(qi(e,T_,e.bl_tree),bn(e,o-3,3)):(qi(e,O_,e.bl_tree),bn(e,o-11,7));o=0,i=s,a===0?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4)}},jA=e=>{let t;for(o5(e,e.dyn_ltree,e.l_desc.max_code),o5(e,e.dyn_dtree,e.d_desc.max_code),q1(e,e.bl_desc),t=dg-1;t>=3&&e.bl_tree[I_[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},LA=(e,t,r,n)=>{let i;for(bn(e,t-257,5),bn(e,r-1,5),bn(e,n-4,4),i=0;i<n;i++)bn(e,e.bl_tree[I_[i]*2+1],3);l5(e,e.dyn_ltree,t-1),l5(e,e.dyn_dtree,r-1)},EA=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return n5;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return i5;for(r=32;r<Hc;r++)if(e.dyn_ltree[r*2]!==0)return i5;return n5};let u5=!1;const PA=e=>{u5||(AA(),u5=!0),e.l_desc=new lp(e.dyn_ltree,R_),e.d_desc=new lp(e.dyn_dtree,F_),e.bl_desc=new lp(e.bl_tree,M_),e.bi_buf=0,e.bi_valid=0,z_(e)},q_=(e,t,r,n)=>{bn(e,(vA<<1)+(n?1:0),3),$_(e),Cc(e,r),Cc(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},CA=e=>{bn(e,E_<<1,3),qi(e,hg,bs),NA(e)},TA=(e,t,r,n)=>{let i,s,a=0;e.level>0?(e.strm.data_type===gA&&(e.strm.data_type=EA(e)),q1(e,e.l_desc),q1(e,e.d_desc),a=jA(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&t!==-1?q_(e,t,r,n):e.strategy===mA||s===i?(bn(e,(E_<<1)+(n?1:0),3),a5(e,bs,sc)):(bn(e,(yA<<1)+(n?1:0),3),LA(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),a5(e,e.dyn_ltree,e.dyn_dtree)),z_(e),n&&$_(e)},OA=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(Pc[r]+Hc+1)*2]++,e.dyn_dtree[D_(t)*2]++),e.sym_next===e.sym_end);var IA=PA,RA=q_,FA=TA,MA=OA,DA=CA,BA={_tr_init:IA,_tr_stored_block:RA,_tr_flush_block:FA,_tr_tally:MA,_tr_align:DA};const UA=(e,t,r,n)=>{let i=e&65535|0,s=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+t[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var Tc=UA;const zA=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},$A=new Uint32Array(zA()),qA=(e,t,r,n)=>{const i=$A,s=n+r;e^=-1;for(let a=n;a<s;a++)e=e>>>8^i[(e^t[a])&255];return e^-1};var Or=qA,Fl={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Vc={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:WA,_tr_stored_block:W1,_tr_flush_block:HA,_tr_tally:wa,_tr_align:VA}=BA,{Z_NO_FLUSH:ba,Z_PARTIAL_FLUSH:GA,Z_FULL_FLUSH:KA,Z_FINISH:ei,Z_BLOCK:c5,Z_OK:Wr,Z_STREAM_END:d5,Z_STREAM_ERROR:Gi,Z_DATA_ERROR:JA,Z_BUF_ERROR:cp,Z_DEFAULT_COMPRESSION:YA,Z_FILTERED:ZA,Z_HUFFMAN_ONLY:th,Z_RLE:XA,Z_FIXED:QA,Z_DEFAULT_STRATEGY:ej,Z_UNKNOWN:tj,Z_DEFLATED:Df}=Vc,rj=9,nj=15,ij=8,sj=29,aj=256,H1=aj+1+sj,oj=30,lj=19,uj=2*H1+1,cj=15,St=3,oa=258,Ki=oa+St+1,dj=32,Ml=42,pg=57,V1=69,G1=73,K1=91,J1=103,oo=113,Wu=666,dn=1,Kl=2,bo=3,Jl=4,hj=3,lo=(e,t)=>(e.msg=Fl[t],t),h5=e=>e*2-(e>4?9:0),na=e=>{let t=e.length;for(;--t>=0;)e[t]=0},fj=e=>{let t,r,n,i=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t);t=i,n=t;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)};let pj=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,_a=pj;const In=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},Dn=(e,t)=>{HA(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,In(e.strm)},Lt=(e,t)=>{e.pending_buf[e.pending++]=t},Mu=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},Y1=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),e.state.wrap===1?e.adler=Tc(e.adler,t,i,r):e.state.wrap===2&&(e.adler=Or(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},W_=(e,t)=>{let r=e.max_chain_length,n=e.strstart,i,s,a=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-Ki?e.strstart-(e.w_size-Ki):0,c=e.window,d=e.w_mask,m=e.prev,v=e.strstart+oa;let p=c[n+a-1],_=c[n+a];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=t,!(c[i+a]!==_||c[i+a-1]!==p||c[i]!==c[n]||c[++i]!==c[n+1])){n+=2,i++;do;while(c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&n<v);if(s=oa-(v-n),n=v-oa,s>a){if(e.match_start=t,a=s,s>=o)break;p=c[n+a-1],_=c[n+a]}}while((t=m[t&d])>l&&--r!==0);return a<=e.lookahead?a:e.lookahead},Dl=e=>{const t=e.w_size;let r,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ki)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),fj(e),n+=t),e.strm.avail_in===0)break;if(r=Y1(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=St)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=_a(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=_a(e,e.ins_h,e.window[i+St-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<St)););}while(e.lookahead<Ki&&e.strm.avail_in!==0)},H_=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,s,a=0,o=e.strm.avail_in;do{if(n=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>s&&(n=s),n<r&&(n===0&&t!==ei||t===ba||n!==i+e.strm.avail_in)))break;a=t===ei&&n===i+e.strm.avail_in?1:0,W1(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,In(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(Y1(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(a===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?Jl:t!==ba&&t!==ei&&e.strm.avail_in===0&&e.strstart===e.block_start?Kl:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(Y1(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,r=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=r||(i||t===ei)&&t!==ba&&e.strm.avail_in===0&&i<=s)&&(n=i>s?s:i,a=t===ei&&e.strm.avail_in===0&&n===i?1:0,W1(e,e.block_start,n,a),e.block_start+=n,In(e.strm)),a?bo:dn)},dp=(e,t)=>{let r,n;for(;;){if(e.lookahead<Ki){if(Dl(e),e.lookahead<Ki&&t===ba)return dn;if(e.lookahead===0)break}if(r=0,e.lookahead>=St&&(e.ins_h=_a(e,e.ins_h,e.window[e.strstart+St-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-Ki&&(e.match_length=W_(e,r)),e.match_length>=St)if(n=wa(e,e.strstart-e.match_start,e.match_length-St),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=St){e.match_length--;do e.strstart++,e.ins_h=_a(e,e.ins_h,e.window[e.strstart+St-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=_a(e,e.ins_h,e.window[e.strstart+1]);else n=wa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Dn(e,!1),e.strm.avail_out===0))return dn}return e.insert=e.strstart<St-1?e.strstart:St-1,t===ei?(Dn(e,!0),e.strm.avail_out===0?bo:Jl):e.sym_next&&(Dn(e,!1),e.strm.avail_out===0)?dn:Kl},Vo=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<Ki){if(Dl(e),e.lookahead<Ki&&t===ba)return dn;if(e.lookahead===0)break}if(r=0,e.lookahead>=St&&(e.ins_h=_a(e,e.ins_h,e.window[e.strstart+St-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=St-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Ki&&(e.match_length=W_(e,r),e.match_length<=5&&(e.strategy===ZA||e.match_length===St&&e.strstart-e.match_start>4096)&&(e.match_length=St-1)),e.prev_length>=St&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-St,n=wa(e,e.strstart-1-e.prev_match,e.prev_length-St),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=_a(e,e.ins_h,e.window[e.strstart+St-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=St-1,e.strstart++,n&&(Dn(e,!1),e.strm.avail_out===0))return dn}else if(e.match_available){if(n=wa(e,0,e.window[e.strstart-1]),n&&Dn(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return dn}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=wa(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<St-1?e.strstart:St-1,t===ei?(Dn(e,!0),e.strm.avail_out===0?bo:Jl):e.sym_next&&(Dn(e,!1),e.strm.avail_out===0)?dn:Kl},mj=(e,t)=>{let r,n,i,s;const a=e.window;for(;;){if(e.lookahead<=oa){if(Dl(e),e.lookahead<=oa&&t===ba)return dn;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=St&&e.strstart>0&&(i=e.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){s=e.strstart+oa;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);e.match_length=oa-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=St?(r=wa(e,1,e.match_length-St),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=wa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Dn(e,!1),e.strm.avail_out===0))return dn}return e.insert=0,t===ei?(Dn(e,!0),e.strm.avail_out===0?bo:Jl):e.sym_next&&(Dn(e,!1),e.strm.avail_out===0)?dn:Kl},gj=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Dl(e),e.lookahead===0)){if(t===ba)return dn;break}if(e.match_length=0,r=wa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Dn(e,!1),e.strm.avail_out===0))return dn}return e.insert=0,t===ei?(Dn(e,!0),e.strm.avail_out===0?bo:Jl):e.sym_next&&(Dn(e,!1),e.strm.avail_out===0)?dn:Kl};function Di(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const Hu=[new Di(0,0,0,0,H_),new Di(4,4,8,4,dp),new Di(4,5,16,8,dp),new Di(4,6,32,32,dp),new Di(4,4,16,16,Vo),new Di(8,16,32,32,Vo),new Di(8,16,128,128,Vo),new Di(8,32,128,256,Vo),new Di(32,128,258,1024,Vo),new Di(32,258,258,4096,Vo)],vj=e=>{e.window_size=2*e.w_size,na(e.head),e.max_lazy_match=Hu[e.level].max_lazy,e.good_match=Hu[e.level].good_length,e.nice_match=Hu[e.level].nice_length,e.max_chain_length=Hu[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=St-1,e.match_available=0,e.ins_h=0};function yj(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Df,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(uj*2),this.dyn_dtree=new Uint16Array((2*oj+1)*2),this.bl_tree=new Uint16Array((2*lj+1)*2),na(this.dyn_ltree),na(this.dyn_dtree),na(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(cj+1),this.heap=new Uint16Array(2*H1+1),na(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*H1+1),na(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Gc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Ml&&t.status!==pg&&t.status!==V1&&t.status!==G1&&t.status!==K1&&t.status!==J1&&t.status!==oo&&t.status!==Wu?1:0},V_=e=>{if(Gc(e))return lo(e,Gi);e.total_in=e.total_out=0,e.data_type=tj;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?pg:t.wrap?Ml:oo,e.adler=t.wrap===2?0:1,t.last_flush=-2,WA(t),Wr},G_=e=>{const t=V_(e);return t===Wr&&vj(e.state),t},wj=(e,t)=>Gc(e)||e.state.wrap!==2?Gi:(e.state.gzhead=t,Wr),K_=(e,t,r,n,i,s)=>{if(!e)return Gi;let a=1;if(t===YA&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>rj||r!==Df||n<8||n>15||t<0||t>9||s<0||s>QA||n===8&&a!==1)return lo(e,Gi);n===8&&(n=9);const o=new yj;return e.state=o,o.strm=e,o.status=Ml,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+St-1)/St),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=s,o.method=r,G_(e)},bj=(e,t)=>K_(e,t,Df,nj,ij,ej),_j=(e,t)=>{if(Gc(e)||t>c5||t<0)return e?lo(e,Gi):Gi;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===Wu&&t!==ei)return lo(e,e.avail_out===0?cp:Gi);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(In(e),e.avail_out===0)return r.last_flush=-1,Wr}else if(e.avail_in===0&&h5(t)<=h5(n)&&t!==ei)return lo(e,cp);if(r.status===Wu&&e.avail_in!==0)return lo(e,cp);if(r.status===Ml&&r.wrap===0&&(r.status=oo),r.status===Ml){let i=Df+(r.w_bits-8<<4)<<8,s=-1;if(r.strategy>=th||r.level<2?s=0:r.level<6?s=1:r.level===6?s=2:s=3,i|=s<<6,r.strstart!==0&&(i|=dj),i+=31-i%31,Mu(r,i),r.strstart!==0&&(Mu(r,e.adler>>>16),Mu(r,e.adler&65535)),e.adler=1,r.status=oo,In(e),r.pending!==0)return r.last_flush=-1,Wr}if(r.status===pg){if(e.adler=0,Lt(r,31),Lt(r,139),Lt(r,8),r.gzhead)Lt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Lt(r,r.gzhead.time&255),Lt(r,r.gzhead.time>>8&255),Lt(r,r.gzhead.time>>16&255),Lt(r,r.gzhead.time>>24&255),Lt(r,r.level===9?2:r.strategy>=th||r.level<2?4:0),Lt(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Lt(r,r.gzhead.extra.length&255),Lt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Or(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=V1;else if(Lt(r,0),Lt(r,0),Lt(r,0),Lt(r,0),Lt(r,0),Lt(r,r.level===9?2:r.strategy>=th||r.level<2?4:0),Lt(r,hj),r.status=oo,In(e),r.pending!==0)return r.last_flush=-1,Wr}if(r.status===V1){if(r.gzhead.extra){let i=r.pending,s=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+s>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(e.adler=Or(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=o,In(e),r.pending!==0)return r.last_flush=-1,Wr;i=0,s-=o}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>i&&(e.adler=Or(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=G1}if(r.status===G1){if(r.gzhead.name){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=Or(e.adler,r.pending_buf,r.pending-i,i)),In(e),r.pending!==0)return r.last_flush=-1,Wr;i=0}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,Lt(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=Or(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=K1}if(r.status===K1){if(r.gzhead.comment){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=Or(e.adler,r.pending_buf,r.pending-i,i)),In(e),r.pending!==0)return r.last_flush=-1,Wr;i=0}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,Lt(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=Or(e.adler,r.pending_buf,r.pending-i,i))}r.status=J1}if(r.status===J1){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(In(e),r.pending!==0))return r.last_flush=-1,Wr;Lt(r,e.adler&255),Lt(r,e.adler>>8&255),e.adler=0}if(r.status=oo,In(e),r.pending!==0)return r.last_flush=-1,Wr}if(e.avail_in!==0||r.lookahead!==0||t!==ba&&r.status!==Wu){let i=r.level===0?H_(r,t):r.strategy===th?gj(r,t):r.strategy===XA?mj(r,t):Hu[r.level].func(r,t);if((i===bo||i===Jl)&&(r.status=Wu),i===dn||i===bo)return e.avail_out===0&&(r.last_flush=-1),Wr;if(i===Kl&&(t===GA?VA(r):t!==c5&&(W1(r,0,0,!1),t===KA&&(na(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),In(e),e.avail_out===0))return r.last_flush=-1,Wr}return t!==ei?Wr:r.wrap<=0?d5:(r.wrap===2?(Lt(r,e.adler&255),Lt(r,e.adler>>8&255),Lt(r,e.adler>>16&255),Lt(r,e.adler>>24&255),Lt(r,e.total_in&255),Lt(r,e.total_in>>8&255),Lt(r,e.total_in>>16&255),Lt(r,e.total_in>>24&255)):(Mu(r,e.adler>>>16),Mu(r,e.adler&65535)),In(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Wr:d5)},xj=e=>{if(Gc(e))return Gi;const t=e.state.status;return e.state=null,t===oo?lo(e,JA):Wr},Sj=(e,t)=>{let r=t.length;if(Gc(e))return Gi;const n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==Ml||n.lookahead)return Gi;if(i===1&&(e.adler=Tc(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){i===0&&(na(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(t.subarray(r-n.w_size,r),0),t=l,r=n.w_size}const s=e.avail_in,a=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Dl(n);n.lookahead>=St;){let l=n.strstart,c=n.lookahead-(St-1);do n.ins_h=_a(n,n.ins_h,n.window[l+St-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--c);n.strstart=l,n.lookahead=St-1,Dl(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=St-1,n.match_available=0,e.next_in=a,e.input=o,e.avail_in=s,n.wrap=i,Wr};var Nj=bj,kj=K_,Aj=G_,jj=V_,Lj=wj,Ej=_j,Pj=xj,Cj=Sj,Tj="pako deflate (from Nodeca project)",ac={deflateInit:Nj,deflateInit2:kj,deflateReset:Aj,deflateResetKeep:jj,deflateSetHeader:Lj,deflate:Ej,deflateEnd:Pj,deflateSetDictionary:Cj,deflateInfo:Tj};const Oj=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Ij=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Oj(r,n)&&(e[n]=r[n])}}return e},Rj=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,s=e.length;n<s;n++){let a=e[n];r.set(a,i),i+=a.length}return r},Bf={assign:Ij,flattenChunks:Rj};let J_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{J_=!1}const Oc=new Uint8Array(256);for(let e=0;e<256;e++)Oc[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Oc[254]=Oc[254]=1;var Fj=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),s=0,i=0;s<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const Mj=(e,t)=>{if(t<65534&&e.subarray&&J_)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Dj=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=e[n++];if(a<128){s[i++]=a;continue}let o=Oc[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|e[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return Mj(s,i)},Bj=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Oc[e[r]]>t?r:t},Ic={string2buf:Fj,buf2string:Dj,utf8border:Bj};function Uj(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Y_=Uj;const Z_=Object.prototype.toString,{Z_NO_FLUSH:zj,Z_SYNC_FLUSH:$j,Z_FULL_FLUSH:qj,Z_FINISH:Wj,Z_OK:cf,Z_STREAM_END:Hj,Z_DEFAULT_COMPRESSION:Vj,Z_DEFAULT_STRATEGY:Gj,Z_DEFLATED:Kj}=Vc;function mg(e){this.options=Bf.assign({level:Vj,method:Kj,chunkSize:16384,windowBits:15,memLevel:8,strategy:Gj},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Y_,this.strm.avail_out=0;let r=ac.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==cf)throw new Error(Fl[r]);if(t.header&&ac.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Ic.string2buf(t.dictionary):Z_.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=ac.deflateSetDictionary(this.strm,n),r!==cf)throw new Error(Fl[r]);this._dict_set=!0}}mg.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?Wj:zj,typeof e=="string"?r.input=Ic.string2buf(e):Z_.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===$j||s===qj)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=ac.deflate(r,s),i===Hj)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=ac.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===cf;if(r.avail_out===0){this.onData(r.output);continue}if(s>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};mg.prototype.onData=function(e){this.chunks.push(e)};mg.prototype.onEnd=function(e){e===cf&&(this.result=Bf.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const rh=16209,Jj=16191;var Yj=function(t,r){let n,i,s,a,o,l,c,d,m,v,p,_,S,k,w,x,N,E,G,V,Y,B,O,q;const C=t.state;n=t.next_in,O=t.input,i=n+(t.avail_in-5),s=t.next_out,q=t.output,a=s-(r-t.avail_out),o=s+(t.avail_out-257),l=C.dmax,c=C.wsize,d=C.whave,m=C.wnext,v=C.window,p=C.hold,_=C.bits,S=C.lencode,k=C.distcode,w=(1<<C.lenbits)-1,x=(1<<C.distbits)-1;e:do{_<15&&(p+=O[n++]<<_,_+=8,p+=O[n++]<<_,_+=8),N=S[p&w];t:for(;;){if(E=N>>>24,p>>>=E,_-=E,E=N>>>16&255,E===0)q[s++]=N&65535;else if(E&16){G=N&65535,E&=15,E&&(_<E&&(p+=O[n++]<<_,_+=8),G+=p&(1<<E)-1,p>>>=E,_-=E),_<15&&(p+=O[n++]<<_,_+=8,p+=O[n++]<<_,_+=8),N=k[p&x];r:for(;;){if(E=N>>>24,p>>>=E,_-=E,E=N>>>16&255,E&16){if(V=N&65535,E&=15,_<E&&(p+=O[n++]<<_,_+=8,_<E&&(p+=O[n++]<<_,_+=8)),V+=p&(1<<E)-1,V>l){t.msg="invalid distance too far back",C.mode=rh;break e}if(p>>>=E,_-=E,E=s-a,V>E){if(E=V-E,E>d&&C.sane){t.msg="invalid distance too far back",C.mode=rh;break e}if(Y=0,B=v,m===0){if(Y+=c-E,E<G){G-=E;do q[s++]=v[Y++];while(--E);Y=s-V,B=q}}else if(m<E){if(Y+=c+m-E,E-=m,E<G){G-=E;do q[s++]=v[Y++];while(--E);if(Y=0,m<G){E=m,G-=E;do q[s++]=v[Y++];while(--E);Y=s-V,B=q}}}else if(Y+=m-E,E<G){G-=E;do q[s++]=v[Y++];while(--E);Y=s-V,B=q}for(;G>2;)q[s++]=B[Y++],q[s++]=B[Y++],q[s++]=B[Y++],G-=3;G&&(q[s++]=B[Y++],G>1&&(q[s++]=B[Y++]))}else{Y=s-V;do q[s++]=q[Y++],q[s++]=q[Y++],q[s++]=q[Y++],G-=3;while(G>2);G&&(q[s++]=q[Y++],G>1&&(q[s++]=q[Y++]))}}else if(E&64){t.msg="invalid distance code",C.mode=rh;break e}else{N=k[(N&65535)+(p&(1<<E)-1)];continue r}break}}else if(E&64)if(E&32){C.mode=Jj;break e}else{t.msg="invalid literal/length code",C.mode=rh;break e}else{N=S[(N&65535)+(p&(1<<E)-1)];continue t}break}}while(n<i&&s<o);G=_>>3,n-=G,_-=G<<3,p&=(1<<_)-1,t.next_in=n,t.next_out=s,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=s<o?257+(o-s):257-(s-o),C.hold=p,C.bits=_};const Go=15,f5=852,p5=592,m5=0,hp=1,g5=2,Zj=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Xj=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Qj=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),e7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),t7=(e,t,r,n,i,s,a,o)=>{const l=o.bits;let c=0,d=0,m=0,v=0,p=0,_=0,S=0,k=0,w=0,x=0,N,E,G,V,Y,B=null,O;const q=new Uint16Array(Go+1),C=new Uint16Array(Go+1);let M=null,K,J,he;for(c=0;c<=Go;c++)q[c]=0;for(d=0;d<n;d++)q[t[r+d]]++;for(p=l,v=Go;v>=1&&q[v]===0;v--);if(p>v&&(p=v),v===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<v&&q[m]===0;m++);for(p<m&&(p=m),k=1,c=1;c<=Go;c++)if(k<<=1,k-=q[c],k<0)return-1;if(k>0&&(e===m5||v!==1))return-1;for(C[1]=0,c=1;c<Go;c++)C[c+1]=C[c]+q[c];for(d=0;d<n;d++)t[r+d]!==0&&(a[C[t[r+d]]++]=d);if(e===m5?(B=M=a,O=20):e===hp?(B=Zj,M=Xj,O=257):(B=Qj,M=e7,O=0),x=0,d=0,c=m,Y=s,_=p,S=0,G=-1,w=1<<p,V=w-1,e===hp&&w>f5||e===g5&&w>p5)return 1;for(;;){K=c-S,a[d]+1<O?(J=0,he=a[d]):a[d]>=O?(J=M[a[d]-O],he=B[a[d]-O]):(J=96,he=0),N=1<<c-S,E=1<<_,m=E;do E-=N,i[Y+(x>>S)+E]=K<<24|J<<16|he|0;while(E!==0);for(N=1<<c-1;x&N;)N>>=1;if(N!==0?(x&=N-1,x+=N):x=0,d++,--q[c]===0){if(c===v)break;c=t[r+a[d]]}if(c>p&&(x&V)!==G){for(S===0&&(S=p),Y+=m,_=c-S,k=1<<_;_+S<v&&(k-=q[_+S],!(k<=0));)_++,k<<=1;if(w+=1<<_,e===hp&&w>f5||e===g5&&w>p5)return 1;G=x&V,i[G]=p<<24|_<<16|Y-s|0}}return x!==0&&(i[Y+x]=c-S<<24|64<<16|0),o.bits=p,0};var oc=t7;const r7=0,X_=1,Q_=2,{Z_FINISH:v5,Z_BLOCK:n7,Z_TREES:nh,Z_OK:_o,Z_STREAM_END:i7,Z_NEED_DICT:s7,Z_STREAM_ERROR:ai,Z_DATA_ERROR:ex,Z_MEM_ERROR:tx,Z_BUF_ERROR:a7,Z_DEFLATED:y5}=Vc,Uf=16180,w5=16181,b5=16182,_5=16183,x5=16184,S5=16185,N5=16186,k5=16187,A5=16188,j5=16189,df=16190,ms=16191,fp=16192,L5=16193,pp=16194,E5=16195,P5=16196,C5=16197,T5=16198,ih=16199,sh=16200,O5=16201,I5=16202,R5=16203,F5=16204,M5=16205,mp=16206,D5=16207,B5=16208,Zt=16209,rx=16210,nx=16211,o7=852,l7=592,u7=15,c7=u7,U5=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function d7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ko=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Uf||t.mode>nx?1:0},ix=e=>{if(ko(e))return ai;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Uf,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(o7),t.distcode=t.distdyn=new Int32Array(l7),t.sane=1,t.back=-1,_o},sx=e=>{if(ko(e))return ai;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,ix(e)},ax=(e,t)=>{let r;if(ko(e))return ai;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ai:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,sx(e))},ox=(e,t)=>{if(!e)return ai;const r=new d7;e.state=r,r.strm=e,r.window=null,r.mode=Uf;const n=ax(e,t);return n!==_o&&(e.state=null),n},h7=e=>ox(e,c7);let z5=!0,gp,vp;const f7=e=>{if(z5){gp=new Int32Array(512),vp=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(oc(X_,e.lens,0,288,gp,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;oc(Q_,e.lens,0,32,vp,0,e.work,{bits:5}),z5=!1}e.lencode=gp,e.lenbits=9,e.distcode=vp,e.distbits=5},lx=(e,t,r,n)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(t.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},p7=(e,t)=>{let r,n,i,s,a,o,l,c,d,m,v,p,_,S,k=0,w,x,N,E,G,V,Y,B;const O=new Uint8Array(4);let q,C;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ko(e)||!e.output||!e.input&&e.avail_in!==0)return ai;r=e.state,r.mode===ms&&(r.mode=fp),a=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,c=r.hold,d=r.bits,m=o,v=l,B=_o;e:for(;;)switch(r.mode){case Uf:if(r.wrap===0){r.mode=fp;break}for(;d<16;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,O[0]=c&255,O[1]=c>>>8&255,r.check=Or(r.check,O,2,0),c=0,d=0,r.mode=w5;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Zt;break}if((c&15)!==y5){e.msg="unknown compression method",r.mode=Zt;break}if(c>>>=4,d-=4,Y=(c&15)+8,r.wbits===0&&(r.wbits=Y),Y>15||Y>r.wbits){e.msg="invalid window size",r.mode=Zt;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=c&512?j5:ms,c=0,d=0;break;case w5:for(;d<16;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(r.flags=c,(r.flags&255)!==y5){e.msg="unknown compression method",r.mode=Zt;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Zt;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(O[0]=c&255,O[1]=c>>>8&255,r.check=Or(r.check,O,2,0)),c=0,d=0,r.mode=b5;case b5:for(;d<32;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(O[0]=c&255,O[1]=c>>>8&255,O[2]=c>>>16&255,O[3]=c>>>24&255,r.check=Or(r.check,O,4,0)),c=0,d=0,r.mode=_5;case _5:for(;d<16;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(O[0]=c&255,O[1]=c>>>8&255,r.check=Or(r.check,O,2,0)),c=0,d=0,r.mode=x5;case x5:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(O[0]=c&255,O[1]=c>>>8&255,r.check=Or(r.check,O,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=S5;case S5:if(r.flags&1024&&(p=r.length,p>o&&(p=o),p&&(r.head&&(Y=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+p),Y)),r.flags&512&&r.wrap&4&&(r.check=Or(r.check,n,p,s)),o-=p,s+=p,r.length-=p),r.length))break e;r.length=0,r.mode=N5;case N5:if(r.flags&2048){if(o===0)break e;p=0;do Y=n[s+p++],r.head&&Y&&r.length<65536&&(r.head.name+=String.fromCharCode(Y));while(Y&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=Or(r.check,n,p,s)),o-=p,s+=p,Y)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=k5;case k5:if(r.flags&4096){if(o===0)break e;p=0;do Y=n[s+p++],r.head&&Y&&r.length<65536&&(r.head.comment+=String.fromCharCode(Y));while(Y&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=Or(r.check,n,p,s)),o-=p,s+=p,Y)break e}else r.head&&(r.head.comment=null);r.mode=A5;case A5:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Zt;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=ms;break;case j5:for(;d<32;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}e.adler=r.check=U5(c),c=0,d=0,r.mode=df;case df:if(r.havedict===0)return e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,r.hold=c,r.bits=d,s7;e.adler=r.check=1,r.mode=ms;case ms:if(t===n7||t===nh)break e;case fp:if(r.last){c>>>=d&7,d-=d&7,r.mode=mp;break}for(;d<3;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}switch(r.last=c&1,c>>>=1,d-=1,c&3){case 0:r.mode=L5;break;case 1:if(f7(r),r.mode=ih,t===nh){c>>>=2,d-=2;break e}break;case 2:r.mode=P5;break;case 3:e.msg="invalid block type",r.mode=Zt}c>>>=2,d-=2;break;case L5:for(c>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Zt;break}if(r.length=c&65535,c=0,d=0,r.mode=pp,t===nh)break e;case pp:r.mode=E5;case E5:if(p=r.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;i.set(n.subarray(s,s+p),a),o-=p,s+=p,l-=p,a+=p,r.length-=p;break}r.mode=ms;break;case P5:for(;d<14;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(r.nlen=(c&31)+257,c>>>=5,d-=5,r.ndist=(c&31)+1,c>>>=5,d-=5,r.ncode=(c&15)+4,c>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Zt;break}r.have=0,r.mode=C5;case C5:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.lens[M[r.have++]]=c&7,c>>>=3,d-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,q={bits:r.lenbits},B=oc(r7,r.lens,0,19,r.lencode,0,r.work,q),r.lenbits=q.bits,B){e.msg="invalid code lengths set",r.mode=Zt;break}r.have=0,r.mode=T5;case T5:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[c&(1<<r.lenbits)-1],w=k>>>24,x=k>>>16&255,N=k&65535,!(w<=d);){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(N<16)c>>>=w,d-=w,r.lens[r.have++]=N;else{if(N===16){for(C=w+2;d<C;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(c>>>=w,d-=w,r.have===0){e.msg="invalid bit length repeat",r.mode=Zt;break}Y=r.lens[r.have-1],p=3+(c&3),c>>>=2,d-=2}else if(N===17){for(C=w+3;d<C;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}c>>>=w,d-=w,Y=0,p=3+(c&7),c>>>=3,d-=3}else{for(C=w+7;d<C;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}c>>>=w,d-=w,Y=0,p=11+(c&127),c>>>=7,d-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Zt;break}for(;p--;)r.lens[r.have++]=Y}}if(r.mode===Zt)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Zt;break}if(r.lenbits=9,q={bits:r.lenbits},B=oc(X_,r.lens,0,r.nlen,r.lencode,0,r.work,q),r.lenbits=q.bits,B){e.msg="invalid literal/lengths set",r.mode=Zt;break}if(r.distbits=6,r.distcode=r.distdyn,q={bits:r.distbits},B=oc(Q_,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,q),r.distbits=q.bits,B){e.msg="invalid distances set",r.mode=Zt;break}if(r.mode=ih,t===nh)break e;case ih:r.mode=sh;case sh:if(o>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,r.hold=c,r.bits=d,Yj(e,v),a=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,c=r.hold,d=r.bits,r.mode===ms&&(r.back=-1);break}for(r.back=0;k=r.lencode[c&(1<<r.lenbits)-1],w=k>>>24,x=k>>>16&255,N=k&65535,!(w<=d);){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(x&&!(x&240)){for(E=w,G=x,V=N;k=r.lencode[V+((c&(1<<E+G)-1)>>E)],w=k>>>24,x=k>>>16&255,N=k&65535,!(E+w<=d);){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}c>>>=E,d-=E,r.back+=E}if(c>>>=w,d-=w,r.back+=w,r.length=N,x===0){r.mode=M5;break}if(x&32){r.back=-1,r.mode=ms;break}if(x&64){e.msg="invalid literal/length code",r.mode=Zt;break}r.extra=x&15,r.mode=O5;case O5:if(r.extra){for(C=r.extra;d<C;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=I5;case I5:for(;k=r.distcode[c&(1<<r.distbits)-1],w=k>>>24,x=k>>>16&255,N=k&65535,!(w<=d);){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(!(x&240)){for(E=w,G=x,V=N;k=r.distcode[V+((c&(1<<E+G)-1)>>E)],w=k>>>24,x=k>>>16&255,N=k&65535,!(E+w<=d);){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}c>>>=E,d-=E,r.back+=E}if(c>>>=w,d-=w,r.back+=w,x&64){e.msg="invalid distance code",r.mode=Zt;break}r.offset=N,r.extra=x&15,r.mode=R5;case R5:if(r.extra){for(C=r.extra;d<C;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Zt;break}r.mode=F5;case F5:if(l===0)break e;if(p=v-l,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Zt;break}p>r.wnext?(p-=r.wnext,_=r.wsize-p):_=r.wnext-p,p>r.length&&(p=r.length),S=r.window}else S=i,_=a-r.offset,p=r.length;p>l&&(p=l),l-=p,r.length-=p;do i[a++]=S[_++];while(--p);r.length===0&&(r.mode=sh);break;case M5:if(l===0)break e;i[a++]=r.length,l--,r.mode=sh;break;case mp:if(r.wrap){for(;d<32;){if(o===0)break e;o--,c|=n[s++]<<d,d+=8}if(v-=l,e.total_out+=v,r.total+=v,r.wrap&4&&v&&(e.adler=r.check=r.flags?Or(r.check,i,v,a-v):Tc(r.check,i,v,a-v)),v=l,r.wrap&4&&(r.flags?c:U5(c))!==r.check){e.msg="incorrect data check",r.mode=Zt;break}c=0,d=0}r.mode=D5;case D5:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Zt;break}c=0,d=0}r.mode=B5;case B5:B=i7;break e;case Zt:B=ex;break e;case rx:return tx;case nx:default:return ai}return e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,r.hold=c,r.bits=d,(r.wsize||v!==e.avail_out&&r.mode<Zt&&(r.mode<mp||t!==v5))&&lx(e,e.output,e.next_out,v-e.avail_out),m-=e.avail_in,v-=e.avail_out,e.total_in+=m,e.total_out+=v,r.total+=v,r.wrap&4&&v&&(e.adler=r.check=r.flags?Or(r.check,i,v,e.next_out-v):Tc(r.check,i,v,e.next_out-v)),e.data_type=r.bits+(r.last?64:0)+(r.mode===ms?128:0)+(r.mode===ih||r.mode===pp?256:0),(m===0&&v===0||t===v5)&&B===_o&&(B=a7),B},m7=e=>{if(ko(e))return ai;let t=e.state;return t.window&&(t.window=null),e.state=null,_o},g7=(e,t)=>{if(ko(e))return ai;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,_o):ai},v7=(e,t)=>{const r=t.length;let n,i,s;return ko(e)||(n=e.state,n.wrap!==0&&n.mode!==df)?ai:n.mode===df&&(i=1,i=Tc(i,t,r,0),i!==n.check)?ex:(s=lx(e,t,r,r),s?(n.mode=rx,tx):(n.havedict=1,_o))};var y7=sx,w7=ax,b7=ix,_7=h7,x7=ox,S7=p7,N7=m7,k7=g7,A7=v7,j7="pako inflate (from Nodeca project)",_s={inflateReset:y7,inflateReset2:w7,inflateResetKeep:b7,inflateInit:_7,inflateInit2:x7,inflate:S7,inflateEnd:N7,inflateGetHeader:k7,inflateSetDictionary:A7,inflateInfo:j7};function L7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var E7=L7;const ux=Object.prototype.toString,{Z_NO_FLUSH:P7,Z_FINISH:C7,Z_OK:Rc,Z_STREAM_END:yp,Z_NEED_DICT:wp,Z_STREAM_ERROR:T7,Z_DATA_ERROR:$5,Z_MEM_ERROR:O7}=Vc;function Kc(e){this.options=Bf.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Y_,this.strm.avail_out=0;let r=_s.inflateInit2(this.strm,t.windowBits);if(r!==Rc)throw new Error(Fl[r]);if(this.header=new E7,_s.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Ic.string2buf(t.dictionary):ux.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=_s.inflateSetDictionary(this.strm,t.dictionary),r!==Rc)))throw new Error(Fl[r])}Kc.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?C7:P7,ux.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=_s.inflate(r,a),s===wp&&i&&(s=_s.inflateSetDictionary(r,i),s===Rc?s=_s.inflate(r,a):s===$5&&(s=wp));r.avail_in>0&&s===yp&&r.state.wrap>0&&e[r.next_in]!==0;)_s.inflateReset(r),s=_s.inflate(r,a);switch(s){case T7:case $5:case wp:case O7:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===yp))if(this.options.to==="string"){let l=Ic.utf8border(r.output,r.next_out),c=r.next_out-l,d=Ic.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Rc&&o===0)){if(s===yp)return s=_s.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Kc.prototype.onData=function(e){this.chunks.push(e)};Kc.prototype.onEnd=function(e){e===Rc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Bf.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function gg(e,t){const r=new Kc(t);if(r.push(e),r.err)throw r.msg||Fl[r.err];return r.result}function I7(e,t){return t=t||{},t.raw=!0,gg(e,t)}var R7=Kc,F7=gg,M7=I7,D7=gg,B7=Vc,U7={Inflate:R7,inflate:F7,inflateRaw:M7,ungzip:D7,constants:B7};const{Inflate:z7,inflate:$7,inflateRaw:NE,ungzip:kE}=U7;var q5=z7,q7=$7;const cx=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;cx[e]=t}const W5=4294967295;function W7(e,t,r){let n=e;for(let i=0;i<r;i++)n=cx[(n^t[i])&255]^n>>>8;return n}function H7(e,t){return(W7(W5,e,t)^W5)>>>0}function H5(e,t,r){const n=e.readUint32(),i=H7(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function dx(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function hx(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function fx(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function px(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-i]+r[s]>>1)&255}}function mx(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+V7(t[s-i],r[s],r[s-i])&255}}function V7(e,t,r){const n=e+t-r,i=Math.abs(n-e),s=Math.abs(n-t),a=Math.abs(n-r);return i<=s&&i<=a?e:s<=a?t:r}function G7(e,t,r,n,i,s){switch(e){case 0:dx(t,r,i);break;case 1:hx(t,r,i,s);break;case 2:fx(t,r,n,i);break;case 3:px(t,r,n,i,s);break;case 4:mx(t,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const K7=new Uint16Array([255]),J7=new Uint8Array(K7.buffer),Y7=J7[0]===255;function Z7(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let d=0;d<7;d++){const m=a[d],v=Math.ceil((r-m.x)/m.xStep),p=Math.ceil((n-m.y)/m.yStep);if(v<=0||p<=0)continue;const _=v*o,S=new Uint8Array(_);for(let k=0;k<p;k++){const w=t[c++],x=t.subarray(c,c+_);c+=_;const N=new Uint8Array(_);G7(w,x,N,S,_,o),S.set(N);for(let E=0;E<v;E++){const G=m.x+E*m.xStep,V=m.y+k*m.yStep;if(!(G>=r||V>=n))for(let Y=0;Y<o;Y++)l[(V*r+G)*o+Y]=N[E*o+Y]}}}if(s===16){const d=new Uint16Array(l.buffer);if(Y7)for(let m=0;m<d.length;m++)d[m]=X7(d[m]);return d}else return l}function X7(e){return(e&255)<<8|e>>8&255}const Q7=new Uint16Array([255]),eL=new Uint8Array(Q7.buffer),tL=eL[0]===255,rL=new Uint8Array(0);function V5(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),l=new Uint8Array(n*o);let c=rL,d=0,m,v;for(let p=0;p<n;p++){switch(m=t.subarray(d+1,d+1+o),v=l.subarray(p*o,(p+1)*o),t[d]){case 0:dx(m,v,o);break;case 1:hx(m,v,o,a);break;case 2:fx(m,v,c,o);break;case 3:px(m,v,c,o,a);break;case 4:mx(m,v,c,o,a);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}c=v,d+=o+1}if(s===16){const p=new Uint16Array(l.buffer);if(tL)for(let _=0;_<p.length;_++)p[_]=nL(p[_]);return p}else return l}function nL(e){return(e&255)<<8|e>>8&255}const jh=Uint8Array.of(137,80,78,71,13,10,26,10);function G5(e){if(!iL(e.readBytes(jh.length)))throw new Error("wrong PNG signature")}function iL(e){if(e.length<jh.length)return!1;for(let t=0;t<jh.length;t++)if(e[t]!==jh[t])return!1;return!0}const sL="tEXt",aL=0,gx=new TextDecoder("latin1");function oL(e){if(uL(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const lL=/^[\u0000-\u00FF]*$/;function uL(e){if(!lL.test(e))throw new Error("invalid latin1 text")}function cL(e,t,r){const n=vx(t);e[n]=dL(t,r-n.length-1)}function vx(e){for(e.mark();e.readByte()!==aL;);const t=e.offset;e.reset();const r=gx.decode(e.readBytes(t-e.offset-1));return e.skip(1),oL(r),r}function dL(e,t){return gx.decode(e.readBytes(t))}const On={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},bp={UNKNOWN:-1,DEFLATE:0},K5={UNKNOWN:-1,ADAPTIVE:0},_p={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ah={NONE:0,BACKGROUND:1,PREVIOUS:2},xp={SOURCE:0,OVER:1};class hL extends ug{constructor(r,n={}){super(r);Ot(this,"_checkCrc");Ot(this,"_inflator");Ot(this,"_png");Ot(this,"_apng");Ot(this,"_end");Ot(this,"_hasPalette");Ot(this,"_palette");Ot(this,"_hasTransparency");Ot(this,"_transparency");Ot(this,"_compressionMethod");Ot(this,"_filterMethod");Ot(this,"_interlaceMethod");Ot(this,"_colorType");Ot(this,"_isAnimated");Ot(this,"_numberOfFrames");Ot(this,"_numberOfPlays");Ot(this,"_frames");Ot(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new q5,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=bp.UNKNOWN,this._filterMethod=K5.UNKNOWN,this._interlaceMethod=_p.UNKNOWN,this._colorType=On.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(G5(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(G5(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case sL:cL(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?H5(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?H5(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=fL(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case On.GREYSCALE:i=1;break;case On.TRUECOLOUR:i=3;break;case On.INDEXED_COLOUR:i=1;break;case On.GREYSCALE_ALPHA:i=2;break;case On.TRUECOLOUR_ALPHA:i=4;break;case On.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==bp.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case On.GREYSCALE:case On.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case On.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case On.UNKNOWN:case On.GREYSCALE_ALPHA:case On.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=vx(this),i=this.readUint8();if(i!==bp.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:q7(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=V5({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case ah.NONE:break;case ah.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*r.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case ah.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(a*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case xp.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let d=0;d<this._png.channels;d++)r.data[l+d]=n.data[c+d]}break;case xp.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let d=0;d<this._png.channels;d++){const m=n.data[c+this._png.channels-1]/i,v=d%(this._png.channels-1)===0?1:n.data[c+d],p=Math.floor(m*v+(1-m)*r.data[l+d]);r.data[l+d]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==K5.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===_p.NO_INTERLACE)this._png.data=V5({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===_p.ADAM7)this._png.data=Z7({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ah.NONE,blendOp:xp.SOURCE,data:r}),this._inflator=new q5,this._writingDataChunks=!1}}function fL(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var J5;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(J5||(J5={}));function pL(e,t){return new hL(e,t).decode()}var rt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Sp(){rt.console&&typeof rt.console.log=="function"&&rt.console.log.apply(rt.console,arguments)}var Bt={log:Sp,warn:function(e){rt.console&&(typeof rt.console.warn=="function"?rt.console.warn.apply(rt.console,arguments):Sp.call(null,arguments))},error:function(e){rt.console&&(typeof rt.console.error=="function"?rt.console.error.apply(rt.console,arguments):Sp(e))}};function Np(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){eo(n.response,t,r)},n.onerror=function(){Bt.error("could not download file")},n.send()}function Y5(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function oh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var eo=rt.saveAs||((typeof window>"u"?"undefined":It(window))!=="object"||window!==rt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=rt.URL||rt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?Y5(i.href)?Np(e,t,r):oh(i,i.target="_blank"):oh(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){oh(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(Y5(e))Np(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){oh(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:It(s)!=="object"&&(Bt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Np(e,t,r);var i=e.type==="application/octet-stream",s=/constructor/i.test(rt.HTMLElement)||rt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":It(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var l=rt.URL||rt.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function yx(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var Lh=rt.atob.bind(rt),Z5=rt.btoa.bind(rt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function kp(e,t){var r=e[0],n=e[1],i=e[2],s=e[3];r=Zr(r,n,i,s,t[0],7,-680876936),s=Zr(s,r,n,i,t[1],12,-389564586),i=Zr(i,s,r,n,t[2],17,606105819),n=Zr(n,i,s,r,t[3],22,-1044525330),r=Zr(r,n,i,s,t[4],7,-176418897),s=Zr(s,r,n,i,t[5],12,1200080426),i=Zr(i,s,r,n,t[6],17,-1473231341),n=Zr(n,i,s,r,t[7],22,-45705983),r=Zr(r,n,i,s,t[8],7,1770035416),s=Zr(s,r,n,i,t[9],12,-1958414417),i=Zr(i,s,r,n,t[10],17,-42063),n=Zr(n,i,s,r,t[11],22,-1990404162),r=Zr(r,n,i,s,t[12],7,1804603682),s=Zr(s,r,n,i,t[13],12,-40341101),i=Zr(i,s,r,n,t[14],17,-1502002290),r=Xr(r,n=Zr(n,i,s,r,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Xr(s,r,n,i,t[6],9,-1069501632),i=Xr(i,s,r,n,t[11],14,643717713),n=Xr(n,i,s,r,t[0],20,-373897302),r=Xr(r,n,i,s,t[5],5,-701558691),s=Xr(s,r,n,i,t[10],9,38016083),i=Xr(i,s,r,n,t[15],14,-660478335),n=Xr(n,i,s,r,t[4],20,-405537848),r=Xr(r,n,i,s,t[9],5,568446438),s=Xr(s,r,n,i,t[14],9,-1019803690),i=Xr(i,s,r,n,t[3],14,-187363961),n=Xr(n,i,s,r,t[8],20,1163531501),r=Xr(r,n,i,s,t[13],5,-1444681467),s=Xr(s,r,n,i,t[2],9,-51403784),i=Xr(i,s,r,n,t[7],14,1735328473),r=Qr(r,n=Xr(n,i,s,r,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Qr(s,r,n,i,t[8],11,-2022574463),i=Qr(i,s,r,n,t[11],16,1839030562),n=Qr(n,i,s,r,t[14],23,-35309556),r=Qr(r,n,i,s,t[1],4,-1530992060),s=Qr(s,r,n,i,t[4],11,1272893353),i=Qr(i,s,r,n,t[7],16,-155497632),n=Qr(n,i,s,r,t[10],23,-1094730640),r=Qr(r,n,i,s,t[13],4,681279174),s=Qr(s,r,n,i,t[0],11,-358537222),i=Qr(i,s,r,n,t[3],16,-722521979),n=Qr(n,i,s,r,t[6],23,76029189),r=Qr(r,n,i,s,t[9],4,-640364487),s=Qr(s,r,n,i,t[12],11,-421815835),i=Qr(i,s,r,n,t[15],16,530742520),r=en(r,n=Qr(n,i,s,r,t[2],23,-995338651),i,s,t[0],6,-198630844),s=en(s,r,n,i,t[7],10,1126891415),i=en(i,s,r,n,t[14],15,-1416354905),n=en(n,i,s,r,t[5],21,-57434055),r=en(r,n,i,s,t[12],6,1700485571),s=en(s,r,n,i,t[3],10,-1894986606),i=en(i,s,r,n,t[10],15,-1051523),n=en(n,i,s,r,t[1],21,-2054922799),r=en(r,n,i,s,t[8],6,1873313359),s=en(s,r,n,i,t[15],10,-30611744),i=en(i,s,r,n,t[6],15,-1560198380),n=en(n,i,s,r,t[13],21,1309151649),r=en(r,n,i,s,t[4],6,-145523070),s=en(s,r,n,i,t[11],10,-1120210379),i=en(i,s,r,n,t[2],15,718787259),n=en(n,i,s,r,t[9],21,-343485551),e[0]=la(r,e[0]),e[1]=la(n,e[1]),e[2]=la(i,e[2]),e[3]=la(s,e[3])}function zf(e,t,r,n,i,s){return t=la(la(t,e),la(n,s)),la(t<<i|t>>>32-i,r)}function Zr(e,t,r,n,i,s,a){return zf(t&r|~t&n,e,t,i,s,a)}function Xr(e,t,r,n,i,s,a){return zf(t&n|r&~n,e,t,i,s,a)}function Qr(e,t,r,n,i,s,a){return zf(t^r^n,e,t,i,s,a)}function en(e,t,r,n,i,s,a){return zf(r^(t|~n),e,t,i,s,a)}function wx(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)kp(n,mL(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(kp(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,kp(n,i),n}function mL(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var X5="0123456789abcdef".split("");function gL(e){for(var t="",r=0;r<4;r++)t+=X5[e>>8*r+4&15]+X5[e>>8*r&15];return t}function vL(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Z1(e){return wx(e).map(vL).join("")}var yL=function(e){for(var t=0;t<e.length;t++)e[t]=gL(e[t]);return e.join("")}(wx("hello"))!="5d41402abc4b2a76b9719d911017c592";function la(e,t){if(yL){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function X1(e,t){var r,n,i,s;if(e!==r){for(var a=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+a.charCodeAt(l))%256,o[l]=o[c],o[c]=d}r=e,n=o}else o=n;var m=t.length,v=0,p=0,_="";for(l=0;l<m;l++)p=(p+(d=o[v=(v+1)%256]))%256,o[v]=o[p],o[p]=d,a=o[(o[v]+o[p])%256],_+=String.fromCharCode(t.charCodeAt(l)^a);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Q5={print:4,modify:8,copy:16,"annot-forms":32};function el(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(Q5.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Q5[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Z1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=X1(this.encryptionKey,this.padding)}function tl(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function ey(e){if(It(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[r]){var a=t[r][s];try{a[0].apply(e,n)}catch(o){rt.console&&Bt.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function hf(e){if(!(this instanceof hf))return new hf(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function bx(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ro(e,t,r,n,i){if(!(this instanceof ro))return new ro(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,bx.call(this,n,i)}function ml(e,t,r,n,i){if(!(this instanceof ml))return new ml(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,bx.call(this,n,i)}function Ge(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",d=null;It(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),a=e.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,v={},p={internal:{},__private__:{}};p.__private__.PubSub=ey;var _="1.3",S=p.__private__.getPdfVersion=function(){return _};p.__private__.setPdfVersion=function(g){_=g};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return k};var w=p.__private__.getPageFormat=function(g){return k[g]};i=i||"a4";var x="compat",N="advanced",E=x;function G(){this.saveGraphicsState(),U(new et(nt,0,0,-nt,0,Ba()*nt).toString()+" cm"),this.setFontSize(this.getFontSize()/nt),c="n",E=N}function V(){this.restoreGraphicsState(),c="S",E=x}var Y=p.__private__.combineFontStyleAndFontWeight=function(g,j){if(g=="bold"&&j=="normal"||g=="bold"&&j==400||g=="normal"&&j=="italic"||g=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(g=j==400||j==="normal"?g==="italic"?"italic":"normal":j!=700&&j!=="bold"||g!=="normal"?(j==700?"bold":j)+""+g:"bold"),g};p.advancedAPI=function(g){var j=E===x;return j&&G.call(this),typeof g!="function"||(g(this),j&&V.call(this)),this},p.compatAPI=function(g){var j=E===N;return j&&V.call(this),typeof g!="function"||(g(this),j&&G.call(this)),this},p.isAdvancedAPI=function(){return E===N};var B,O=function(g){if(E!==N)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=p.roundToPrecision=p.__private__.roundToPrecision=function(g,j){var W=t||j;if(isNaN(g)||isNaN(W))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(W).replace(/0+$/,"")};B=p.hpf=p.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return q(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return q(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return q(g,16)};var C=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return q(g,2)},M=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return q(g,3)},K=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return E===x?g*nt:E===N?g:void 0},J=function(g){return K(function(j){return E===x?Ba()-j:E===N?j:void 0}(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(t=parseInt(g,10))};var he,me="00000000000000000000000000000000",ue=p.__private__.getFileId=function(){return me},Z=p.__private__.setFileId=function(g){return me=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():me.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(xr=new el(d.userPermissions,d.userPassword,d.ownerPassword,me)),me};p.setFileId=function(g){return Z(g),this},p.getFileId=function(){return ue()};var R=p.__private__.convertDateToPDFDate=function(g){var j=g.getTimezoneOffset(),W=j<0?"+":"-",Q=Math.floor(Math.abs(j/60)),ae=Math.abs(j%60),be=[W,H(Q),"'",H(ae),"'"].join("");return["D:",g.getFullYear(),H(g.getMonth()+1),H(g.getDate()),H(g.getHours()),H(g.getMinutes()),H(g.getSeconds()),be].join("")},oe=p.__private__.convertPDFDateToDate=function(g){var j=parseInt(g.substr(2,4),10),W=parseInt(g.substr(6,2),10)-1,Q=parseInt(g.substr(8,2),10),ae=parseInt(g.substr(10,2),10),be=parseInt(g.substr(12,2),10),Se=parseInt(g.substr(14,2),10);return new Date(j,W,Q,ae,be,Se,0)},se=p.__private__.setCreationDate=function(g){var j;if(g===void 0&&(g=new Date),g instanceof Date)j=R(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=g}return he=j},A=p.__private__.getCreationDate=function(g){var j=he;return g==="jsDate"&&(j=oe(he)),j};p.setCreationDate=function(g){return se(g),this},p.getCreationDate=function(g){return A(g)};var D,H=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},X=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},ee=0,ie=[],ge=[],te=0,fe=[],xe=[],Le=!1,Pe=ge;p.__private__.setCustomOutputDestination=function(g){Le=!0,Pe=g};var He=function(g){Le||(Pe=g)};p.__private__.resetCustomOutputDestination=function(){Le=!1,Pe=ge};var U=p.__private__.out=function(g){return g=g.toString(),te+=g.length+1,Pe.push(g),Pe},Ce=p.__private__.write=function(g){return U(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},ct=p.__private__.getArrayBuffer=function(g){for(var j=g.length,W=new ArrayBuffer(j),Q=new Uint8Array(W);j--;)Q[j]=g.charCodeAt(j);return W},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ye};var ke=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return ke=E===N?g/nt:g,this};var Ke,Re=p.__private__.getFontSize=p.getFontSize=function(){return E===x?ke:ke*nt},Je=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return Je=g,this},p.__private__.getR2L=p.getR2L=function(){return Je};var Ve,ve=p.__private__.setZoomMode=function(g){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))Ke=g;else if(isNaN(g)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');Ke=g}else Ke=parseInt(g,10)};p.__private__.getZoomMode=function(){return Ke};var Oe,Te=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Ve=g};p.__private__.getPageMode=function(){return Ve};var Xe=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');Oe=g};p.__private__.getLayoutMode=function(){return Oe},p.__private__.setDisplayMode=p.setDisplayMode=function(g,j,W){return ve(g),Xe(j),Te(W),this};var ot={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(ot).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ot[g]},p.__private__.getDocumentProperties=function(){return ot},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var j in ot)ot.hasOwnProperty(j)&&g[j]&&(ot[j]=g[j]);return this},p.__private__.setDocumentProperty=function(g,j){if(Object.keys(ot).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ot[g]=j};var Be,nt,Ie,mt,wt,gt={},vt={},Jt=[],Ze={},Ut={},tt={},lt={},Yt=null,yt=0,Qe=[],Et=new ey(p),Ca=e.hotfixes||[],Gr={},Yi={},Li=[],et=function g(j,W,Q,ae,be,Se){if(!(this instanceof g))return new g(j,W,Q,ae,be,Se);isNaN(j)&&(j=1),isNaN(W)&&(W=0),isNaN(Q)&&(Q=0),isNaN(ae)&&(ae=1),isNaN(be)&&(be=0),isNaN(Se)&&(Se=0),this._matrix=[j,W,Q,ae,be,Se]};Object.defineProperty(et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(et.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(et.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(et.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(et.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(et.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(et.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),et.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(g)},et.prototype.multiply=function(g){var j=g.sx*this.sx+g.shy*this.shx,W=g.sx*this.shy+g.shy*this.sy,Q=g.shx*this.sx+g.sy*this.shx,ae=g.shx*this.shy+g.sy*this.sy,be=g.tx*this.sx+g.ty*this.shx+this.tx,Se=g.tx*this.shy+g.ty*this.sy+this.ty;return new et(j,W,Q,ae,be,Se)},et.prototype.decompose=function(){var g=this.sx,j=this.shy,W=this.shx,Q=this.sy,ae=this.tx,be=this.ty,Se=Math.sqrt(g*g+j*j),Ue=(g/=Se)*W+(j/=Se)*Q;W-=g*Ue,Q-=j*Ue;var qe=Math.sqrt(W*W+Q*Q);return Ue/=qe,g*(Q/=qe)<j*(W/=qe)&&(g=-g,j=-j,Ue=-Ue,Se=-Se),{scale:new et(Se,0,0,qe,0,0),translate:new et(1,0,0,1,ae,be),rotate:new et(g,j,-j,g,0,0),skew:new et(1,0,Ue,1,0,0)}},et.prototype.toString=function(g){return this.join(" ")},et.prototype.inversed=function(){var g=this.sx,j=this.shy,W=this.shx,Q=this.sy,ae=this.tx,be=this.ty,Se=1/(g*Q-j*W),Ue=Q*Se,qe=-j*Se,it=-W*Se,dt=g*Se;return new et(Ue,qe,it,dt,-Ue*ae-it*be,-qe*ae-dt*be)},et.prototype.applyToPoint=function(g){var j=g.x*this.sx+g.y*this.shx+this.tx,W=g.x*this.shy+g.y*this.sy+this.ty;return new ns(j,W)},et.prototype.applyToRectangle=function(g){var j=this.applyToPoint(g),W=this.applyToPoint(new ns(g.x+g.w,g.y+g.h));return new iu(j.x,j.y,W.x-j.x,W.y-j.y)},et.prototype.clone=function(){var g=this.sx,j=this.shy,W=this.shx,Q=this.sy,ae=this.tx,be=this.ty;return new et(g,j,W,Q,ae,be)},p.Matrix=et;var Zi=p.matrixMult=function(g,j){return j.multiply(g)},Xi=new et(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Xi;var qn=function(g,j){if(!Ut[g]){var W=(j instanceof ro?"Sh":"P")+(Object.keys(Ze).length+1).toString(10);j.id=W,Ut[g]=W,Ze[W]=j,Et.publish("addPattern",j)}};p.ShadingPattern=ro,p.TilingPattern=ml,p.addShadingPattern=function(g,j){return O("addShadingPattern()"),qn(g,j),this},p.beginTilingPattern=function(g){O("beginTilingPattern()"),su(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,j){O("endTilingPattern()"),j.stream=xe[D].join(`
`),qn(g,j),Et.publish("endTilingPattern",j),Li.pop().restore()};var Wn,ir=p.__private__.newObject=function(){var g=Tr();return Mr(g,!0),g},Tr=p.__private__.newObjectDeferred=function(){return ee++,ie[ee]=function(){return te},ee},Mr=function(g,j){return j=typeof j=="boolean"&&j,ie[g]=te,j&&U(g+" 0 obj"),g},Ta=p.__private__.newAdditionalObject=function(){var g={objId:Tr(),content:""};return fe.push(g),g},Ps=Tr(),oi=Tr(),Ei=p.__private__.decodeColorString=function(g){var j=g.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length!==5||j[4]!=="k"&&j[4]!=="K"||(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var W=parseFloat(j[0]);j=[W,W,W,"r"]}for(var Q="#",ae=0;ae<3;ae++)Q+=("0"+Math.floor(255*parseFloat(j[ae])).toString(16)).slice(-2);return Q},li=p.__private__.encodeColorString=function(g){var j;typeof g=="string"&&(g={ch1:g});var W=g.ch1,Q=g.ch2,ae=g.ch3,be=g.ch4,Se=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof W=="string"&&W.charAt(0)!=="#"){var Ue=new yx(W);if(Ue.ok)W=Ue.toHex();else if(!/^\d*\.?\d*$/.test(W))throw new Error('Invalid color "'+W+'" passed to jsPDF.encodeColorString.')}if(typeof W=="string"&&/^#[0-9A-Fa-f]{3}$/.test(W)&&(W="#"+W[1]+W[1]+W[2]+W[2]+W[3]+W[3]),typeof W=="string"&&/^#[0-9A-Fa-f]{6}$/.test(W)){var qe=parseInt(W.substr(1),16);W=qe>>16&255,Q=qe>>8&255,ae=255&qe}if(Q===void 0||be===void 0&&W===Q&&Q===ae)j=typeof W=="string"?W+" "+Se[0]:g.precision===2?C(W/255)+" "+Se[0]:M(W/255)+" "+Se[0];else if(be===void 0||It(be)==="object"){if(be&&!isNaN(be.a)&&be.a===0)return["1.","1.","1.",Se[1]].join(" ");j=typeof W=="string"?[W,Q,ae,Se[1]].join(" "):g.precision===2?[C(W/255),C(Q/255),C(ae/255),Se[1]].join(" "):[M(W/255),M(Q/255),M(ae/255),Se[1]].join(" ")}else j=typeof W=="string"?[W,Q,ae,be,Se[2]].join(" "):g.precision===2?[C(W),C(Q),C(ae),C(be),Se[2]].join(" "):[M(W),M(Q),M(ae),M(be),Se[2]].join(" ");return j},ui=p.__private__.getFilters=function(){return a},Hn=p.__private__.putStream=function(g){var j=(g=g||{}).data||"",W=g.filters||ui(),Q=g.alreadyAppliedFilters||[],ae=g.addLength1||!1,be=j.length,Se=g.objectId,Ue=function(Sr){return Sr};if(d!==null&&Se===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ue=xr.encryptor(Se,0));var qe={};W===!0&&(W=["FlateEncode"]);var it=g.additionalKeyValues||[],dt=(qe=Ge.API.processDataByFilters!==void 0?Ge.API.processDataByFilters(j,W):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(Q)?Q.join(" "):Q.toString());if(qe.data.length!==0&&(it.push({key:"Length",value:qe.data.length}),ae===!0&&it.push({key:"Length1",value:be})),dt.length!=0)if(dt.split("/").length-1==1)it.push({key:"Filter",value:dt});else{it.push({key:"Filter",value:"["+dt+"]"});for(var kt=0;kt<it.length;kt+=1)if(it[kt].key==="DecodeParms"){for(var Qt=[],wr=0;wr<qe.reverseChain.split("/").length-1;wr+=1)Qt.push("null");Qt.push(it[kt].value),it[kt].value="["+Qt.join(" ")+"]"}}U("<<");for(var zt=0;zt<it.length;zt++)U("/"+it[zt].key+" "+it[zt].value);U(">>"),qe.data.length!==0&&(U("stream"),U(Ue(qe.data)),U("endstream"))},Oa=p.__private__.putPage=function(g){var j=g.number,W=g.data,Q=g.objId,ae=g.contentsObjId;Mr(Q,!0),U("<</Type /Page"),U("/Parent "+g.rootDictionaryObjId+" 0 R"),U("/Resources "+g.resourceDictionaryObjId+" 0 R"),U("/MediaBox ["+parseFloat(B(g.mediaBox.bottomLeftX))+" "+parseFloat(B(g.mediaBox.bottomLeftY))+" "+B(g.mediaBox.topRightX)+" "+B(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&U("/CropBox ["+B(g.cropBox.bottomLeftX)+" "+B(g.cropBox.bottomLeftY)+" "+B(g.cropBox.topRightX)+" "+B(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&U("/BleedBox ["+B(g.bleedBox.bottomLeftX)+" "+B(g.bleedBox.bottomLeftY)+" "+B(g.bleedBox.topRightX)+" "+B(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&U("/TrimBox ["+B(g.trimBox.bottomLeftX)+" "+B(g.trimBox.bottomLeftY)+" "+B(g.trimBox.topRightX)+" "+B(g.trimBox.topRightY)+"]"),g.artBox!==null&&U("/ArtBox ["+B(g.artBox.bottomLeftX)+" "+B(g.artBox.bottomLeftY)+" "+B(g.artBox.topRightX)+" "+B(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&U("/UserUnit "+g.userUnit),Et.publish("putPage",{objId:Q,pageContext:Qe[j],pageNumber:j,page:W}),U("/Contents "+ae+" 0 R"),U(">>"),U("endobj");var be=W.join(`
`);return E===N&&(be+=`
Q`),Mr(ae,!0),Hn({data:be,filters:ui(),objectId:ae}),U("endobj"),Q},Pi=p.__private__.putPages=function(){var g,j,W=[];for(g=1;g<=yt;g++)Qe[g].objId=Tr(),Qe[g].contentsObjId=Tr();for(g=1;g<=yt;g++)W.push(Oa({number:g,data:xe[g],objId:Qe[g].objId,contentsObjId:Qe[g].contentsObjId,mediaBox:Qe[g].mediaBox,cropBox:Qe[g].cropBox,bleedBox:Qe[g].bleedBox,trimBox:Qe[g].trimBox,artBox:Qe[g].artBox,userUnit:Qe[g].userUnit,rootDictionaryObjId:Ps,resourceDictionaryObjId:oi}));Mr(Ps,!0),U("<</Type /Pages");var Q="/Kids [";for(j=0;j<yt;j++)Q+=W[j]+" 0 R ";U(Q+"]"),U("/Count "+yt),U(">>"),U("endobj"),Et.publish("postPutPages")},Ia=function(g){Et.publish("putFont",{font:g,out:U,newObject:ir,putStream:Hn}),g.isAlreadyPutted!==!0&&(g.objectNumber=ir(),U("<<"),U("/Type /Font"),U("/BaseFont /"+tl(g.postScriptName)),U("/Subtype /Type1"),typeof g.encoding=="string"&&U("/Encoding /"+g.encoding),U("/FirstChar 32"),U("/LastChar 255"),U(">>"),U("endobj"))},jo=function(g){g.objectNumber=ir();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[B(g.x),B(g.y),B(g.x+g.width),B(g.y+g.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var W=g.pages[1].join(`
`);Hn({data:W,additionalKeyValues:j,objectId:g.objectNumber}),U("endobj")},Lo=function(g,j){j||(j=21);var W=ir(),Q=function(Se,Ue){var qe,it=[],dt=1/(Ue-1);for(qe=0;qe<1;qe+=dt)it.push(qe);if(it.push(1),Se[0].offset!=0){var kt={offset:0,color:Se[0].color};Se.unshift(kt)}if(Se[Se.length-1].offset!=1){var Qt={offset:1,color:Se[Se.length-1].color};Se.push(Qt)}for(var wr="",zt=0,Sr=0;Sr<it.length;Sr++){for(qe=it[Sr];qe>Se[zt+1].offset;)zt++;var br=Se[zt].offset,Dr=(qe-br)/(Se[zt+1].offset-br),as=Se[zt].color,di=Se[zt+1].color;wr+=X(Math.round((1-Dr)*as[0]+Dr*di[0]).toString(16))+X(Math.round((1-Dr)*as[1]+Dr*di[1]).toString(16))+X(Math.round((1-Dr)*as[2]+Dr*di[2]).toString(16))}return wr.trim()}(g.colors,j),ae=[];ae.push({key:"FunctionType",value:"0"}),ae.push({key:"Domain",value:"[0.0 1.0]"}),ae.push({key:"Size",value:"["+j+"]"}),ae.push({key:"BitsPerSample",value:"8"}),ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hn({data:Q,additionalKeyValues:ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:W}),U("endobj"),g.objectNumber=ir(),U("<< /ShadingType "+g.type),U("/ColorSpace /DeviceRGB");var be="/Coords ["+B(parseFloat(g.coords[0]))+" "+B(parseFloat(g.coords[1]))+" ";g.type===2?be+=B(parseFloat(g.coords[2]))+" "+B(parseFloat(g.coords[3])):be+=B(parseFloat(g.coords[2]))+" "+B(parseFloat(g.coords[3]))+" "+B(parseFloat(g.coords[4]))+" "+B(parseFloat(g.coords[5])),U(be+="]"),g.matrix&&U("/Matrix ["+g.matrix.toString()+"]"),U("/Function "+W+" 0 R"),U("/Extend [true true]"),U(">>"),U("endobj")},Eo=function(g,j){var W=Tr(),Q=ir();j.push({resourcesOid:W,objectOid:Q}),g.objectNumber=Q;var ae=[];ae.push({key:"Type",value:"/Pattern"}),ae.push({key:"PatternType",value:"1"}),ae.push({key:"PaintType",value:"1"}),ae.push({key:"TilingType",value:"1"}),ae.push({key:"BBox",value:"["+g.boundingBox.map(B).join(" ")+"]"}),ae.push({key:"XStep",value:B(g.xStep)}),ae.push({key:"YStep",value:B(g.yStep)}),ae.push({key:"Resources",value:W+" 0 R"}),g.matrix&&ae.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Hn({data:g.stream,additionalKeyValues:ae,objectId:g.objectNumber}),U("endobj")},$f=function(g){for(var j in g.objectNumber=ir(),U("<<"),g)switch(j){case"opacity":U("/ca "+C(g[j]));break;case"stroke-opacity":U("/CA "+C(g[j]))}U(">>"),U("endobj")},Yl=function(g){Mr(g.resourcesOid,!0),U("<<"),U("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var j in U("/Font <<"),gt)gt.hasOwnProperty(j)&&(m===!1||m===!0&&v.hasOwnProperty(j))&&U("/"+j+" "+gt[j].objectNumber+" 0 R");U(">>")}(),function(){if(Object.keys(Ze).length>0){for(var j in U("/Shading <<"),Ze)Ze.hasOwnProperty(j)&&Ze[j]instanceof ro&&Ze[j].objectNumber>=0&&U("/"+j+" "+Ze[j].objectNumber+" 0 R");Et.publish("putShadingPatternDict"),U(">>")}}(),function(j){if(Object.keys(Ze).length>0){for(var W in U("/Pattern <<"),Ze)Ze.hasOwnProperty(W)&&Ze[W]instanceof p.TilingPattern&&Ze[W].objectNumber>=0&&Ze[W].objectNumber<j&&U("/"+W+" "+Ze[W].objectNumber+" 0 R");Et.publish("putTilingPatternDict"),U(">>")}}(g.objectOid),function(){if(Object.keys(tt).length>0){var j;for(j in U("/ExtGState <<"),tt)tt.hasOwnProperty(j)&&tt[j].objectNumber>=0&&U("/"+j+" "+tt[j].objectNumber+" 0 R");Et.publish("putGStateDict"),U(">>")}}(),function(){for(var j in U("/XObject <<"),Gr)Gr.hasOwnProperty(j)&&Gr[j].objectNumber>=0&&U("/"+j+" "+Gr[j].objectNumber+" 0 R");Et.publish("putXobjectDict"),U(">>")}(),U(">>"),U("endobj")},Jc=function(g){vt[g.fontName]=vt[g.fontName]||{},vt[g.fontName][g.fontStyle]=g.id},Yc=function(g,j,W,Q,ae){var be={id:"F"+(Object.keys(gt).length+1).toString(10),postScriptName:g,fontName:j,fontStyle:W,encoding:Q,isStandardFont:ae||!1,metadata:{}};return Et.publish("addFont",{font:be,instance:this}),gt[be.id]=be,Jc(be),be.id},Vn=p.__private__.pdfEscape=p.pdfEscape=function(g,j){return function(W,Q){var ae,be,Se,Ue,qe,it,dt,kt,Qt;if(Se=(Q=Q||{}).sourceEncoding||"Unicode",qe=Q.outputEncoding,(Q.autoencode||qe)&&gt[Be].metadata&&gt[Be].metadata[Se]&&gt[Be].metadata[Se].encoding&&(Ue=gt[Be].metadata[Se].encoding,!qe&&gt[Be].encoding&&(qe=gt[Be].encoding),!qe&&Ue.codePages&&(qe=Ue.codePages[0]),typeof qe=="string"&&(qe=Ue[qe]),qe)){for(dt=!1,it=[],ae=0,be=W.length;ae<be;ae++)(kt=qe[W.charCodeAt(ae)])?it.push(String.fromCharCode(kt)):it.push(W[ae]),it[ae].charCodeAt(0)>>8&&(dt=!0);W=it.join("")}for(ae=W.length;dt===void 0&&ae!==0;)W.charCodeAt(ae-1)>>8&&(dt=!0),ae--;if(!dt)return W;for(it=Q.noBOM?[]:[254,255],ae=0,be=W.length;ae<be;ae++){if((Qt=(kt=W.charCodeAt(ae))>>8)>>8)throw new Error("Character at position "+ae+" of string '"+W+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");it.push(Qt),it.push(kt-(Qt<<8))}return String.fromCharCode.apply(void 0,it)}(g,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zl=p.__private__.beginPage=function(g){xe[++yt]=[],Qe[yt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},Xc(yt),He(xe[D])},Zc=function(g,j){var W,Q,ae;switch(r=j||r,typeof g=="string"&&(W=w(g.toLowerCase()),Array.isArray(W)&&(Q=W[0],ae=W[1])),Array.isArray(g)&&(Q=g[0]*nt,ae=g[1]*nt),isNaN(Q)&&(Q=i[0],ae=i[1]),(Q>14400||ae>14400)&&(Bt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Q=Math.min(14400,Q),ae=Math.min(14400,ae)),i=[Q,ae],r.substr(0,1)){case"l":ae>Q&&(i=[ae,Q]);break;case"p":Q>ae&&(i=[ae,Q])}Zl(i),st(eu),U(Oo),ru!==0&&U(ru+" J"),nu!==0&&U(nu+" j"),Et.publish("addPage",{pageNumber:yt})},Xl=function(g){g>0&&g<=yt&&(xe.splice(g,1),Qe.splice(g,1),yt--,D>yt&&(D=yt),this.setPage(D))},Xc=function(g){g>0&&g<=yt&&(D=g)},Qc=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return xe.length-1},ed=function(g,j,W){var Q,ae=void 0;return W=W||{},g=g!==void 0?g:gt[Be].fontName,j=j!==void 0?j:gt[Be].fontStyle,Q=g.toLowerCase(),vt[Q]!==void 0&&vt[Q][j]!==void 0?ae=vt[Q][j]:vt[g]!==void 0&&vt[g][j]!==void 0?ae=vt[g][j]:W.disableWarning===!1&&Bt.warn("Unable to look up font label for font '"+g+"', '"+j+"'. Refer to getFontList() for available fonts."),ae||W.noFallback||(ae=vt.times[j])==null&&(ae=vt.times.normal),ae},Ci=p.__private__.putInfo=function(){var g=ir(),j=function(Q){return Q};for(var W in d!==null&&(j=xr.encryptor(g,0)),U("<<"),U("/Producer ("+Vn(j("jsPDF "+Ge.version))+")"),ot)ot.hasOwnProperty(W)&&ot[W]&&U("/"+W.substr(0,1).toUpperCase()+W.substr(1)+" ("+Vn(j(ot[W]))+")");U("/CreationDate ("+Vn(j(he))+")"),U(">>"),U("endobj")},Po=p.__private__.putCatalog=function(g){var j=(g=g||{}).rootDictionaryObjId||Ps;switch(ir(),U("<<"),U("/Type /Catalog"),U("/Pages "+j+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":U("/OpenAction [3 0 R /FitH null]");break;case"fullheight":U("/OpenAction [3 0 R /FitV null]");break;case"fullpage":U("/OpenAction [3 0 R /Fit]");break;case"original":U("/OpenAction [3 0 R /XYZ null null 1]");break;default:var W=""+Ke;W.substr(W.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&U("/OpenAction [3 0 R /XYZ null null "+C(Ke)+"]")}switch(Oe||(Oe="continuous"),Oe){case"continuous":U("/PageLayout /OneColumn");break;case"single":U("/PageLayout /SinglePage");break;case"two":case"twoleft":U("/PageLayout /TwoColumnLeft");break;case"tworight":U("/PageLayout /TwoColumnRight")}Ve&&U("/PageMode /"+Ve),Et.publish("putCatalog"),U(">>"),U("endobj")},qf=p.__private__.putTrailer=function(){U("trailer"),U("<<"),U("/Size "+(ee+1)),U("/Root "+ee+" 0 R"),U("/Info "+(ee-1)+" 0 R"),d!==null&&U("/Encrypt "+xr.oid+" 0 R"),U("/ID [ <"+me+"> <"+me+"> ]"),U(">>")},yr=p.__private__.putHeader=function(){U("%PDF-"+_),U("%")},td=p.__private__.putXRef=function(){var g="0000000000";U("xref"),U("0 "+(ee+1)),U("0000000000 65535 f ");for(var j=1;j<=ee;j++)typeof ie[j]=="function"?U((g+ie[j]()).slice(-10)+" 00000 n "):ie[j]!==void 0?U((g+ie[j]).slice(-10)+" 00000 n "):U("0000000000 00000 n ")},Ti=p.__private__.buildDocument=function(){var g;ee=0,te=0,ge=[],ie=[],fe=[],Ps=Tr(),oi=Tr(),He(ge),Et.publish("buildDocument"),yr(),Pi(),function(){Et.publish("putAdditionalObjects");for(var W=0;W<fe.length;W++){var Q=fe[W];Mr(Q.objId,!0),U(Q.content),U("endobj")}Et.publish("postPutAdditionalObjects")}(),g=[],function(){for(var W in gt)gt.hasOwnProperty(W)&&(m===!1||m===!0&&v.hasOwnProperty(W))&&Ia(gt[W])}(),function(){var W;for(W in tt)tt.hasOwnProperty(W)&&$f(tt[W])}(),function(){for(var W in Gr)Gr.hasOwnProperty(W)&&jo(Gr[W])}(),function(W){var Q;for(Q in Ze)Ze.hasOwnProperty(Q)&&(Ze[Q]instanceof ro?Lo(Ze[Q]):Ze[Q]instanceof ml&&Eo(Ze[Q],W))}(g),Et.publish("putResources"),g.forEach(Yl),Yl({resourcesOid:oi,objectOid:Number.MAX_SAFE_INTEGER}),Et.publish("postPutResources"),d!==null&&(xr.oid=ir(),U("<<"),U("/Filter /Standard"),U("/V "+xr.v),U("/R "+xr.r),U("/U <"+xr.toHexString(xr.U)+">"),U("/O <"+xr.toHexString(xr.O)+">"),U("/P "+xr.P),U(">>"),U("endobj")),Ci(),Po();var j=te;return td(),qf(),U("startxref"),U(""+j),U("%%EOF"),He(xe[D]),ge.join(`
`)},Co=p.__private__.getBlob=function(g){return new Blob([ct(g)],{type:"application/pdf"})},rd=p.output=p.__private__.output=(Wn=function(g,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",g){case void 0:return Ti();case"save":p.save(j.filename);break;case"arraybuffer":return ct(Ti());case"blob":return Co(Ti());case"bloburi":case"bloburl":if(rt.URL!==void 0&&typeof rt.URL.createObjectURL=="function")return rt.URL&&rt.URL.createObjectURL(Co(Ti()))||void 0;Bt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var W="",Q=Ti();try{W=Z5(Q)}catch{W=Z5(unescape(encodeURIComponent(Q)))}return"data:application/pdf;filename="+j.filename+";base64,"+W;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(ae=j.pdfObjectUrl,be="");var Se='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ae+'"'+be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",Ue=rt.open();return Ue!==null&&Ue.document.write(Se),Ue}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',it=rt.open();if(it!==null){it.document.write(qe);var dt=this;it.document.documentElement.querySelector("#pdfViewer").onload=function(){it.document.title=j.filename,it.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(dt.output("bloburl"))}}return it}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',Qt=rt.open();if(Qt!==null&&(Qt.document.write(kt),Qt.document.title=j.filename),Qt||typeof safari>"u")return Qt;break;case"datauri":case"dataurl":return rt.document.location.href=this.output("datauristring",j);default:return null}},Wn.foo=function(){try{return Wn.apply(this,arguments)}catch(W){var g=W.stack||"";~g.indexOf(" at ")&&(g=g.split(" at ")[1]);var j="Error in function "+g.split(`
`)[0].split("<")[0]+": "+W.message;if(!rt.console)throw new Error(j);rt.console.error(j,W),rt.alert&&alert(j)}},Wn.foo.bar=Wn,Wn.foo),Gn=function(g){return Array.isArray(Ca)===!0&&Ca.indexOf(g)>-1};switch(n){case"pt":nt=1;break;case"mm":nt=72/25.4;break;case"cm":nt=72/2.54;break;case"in":nt=72;break;case"px":nt=Gn("px_scaling")==1?.75:96/72;break;case"pc":case"em":nt=12;break;case"ex":nt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);nt=n}var xr=null;se(),Z();var Qi=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Qe[g].objId,pageNumber:g,pageContext:Qe[g]}},nd=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in Qe)if(Qe[j].objId===g)break;return Qi(j)},Wf=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Qe[D].objId,pageNumber:D,pageContext:Qe[D]}};p.addPage=function(){return Zc.apply(this,arguments),this},p.setPage=function(){return Xc.apply(this,arguments),He.call(this,xe[D]),this},p.insertPage=function(g){return this.addPage(),this.movePage(D,g),this},p.movePage=function(g,j){var W,Q;if(g>j){W=xe[g],Q=Qe[g];for(var ae=g;ae>j;ae--)xe[ae]=xe[ae-1],Qe[ae]=Qe[ae-1];xe[j]=W,Qe[j]=Q,this.setPage(j)}else if(g<j){W=xe[g],Q=Qe[g];for(var be=g;be<j;be++)xe[be]=xe[be+1],Qe[be]=Qe[be+1];xe[j]=W,Qe[j]=Q,this.setPage(j)}return this},p.deletePage=function(){return Xl.apply(this,arguments),this},p.__private__.text=p.text=function(g,j,W,Q,ae){var be,Se,Ue,qe,it,dt,kt,Qt,wr,zt=(Q=Q||{}).scope||this;if(typeof g=="number"&&typeof j=="number"&&(typeof W=="string"||Array.isArray(W))){var Sr=W;W=j,j=g,g=Sr}if(arguments[3]instanceof et==0?(Ue=arguments[4],qe=arguments[5],It(kt=arguments[3])==="object"&&kt!==null||(typeof Ue=="string"&&(qe=Ue,Ue=null),typeof kt=="string"&&(qe=kt,kt=null),typeof kt=="number"&&(Ue=kt,kt=null),Q={flags:kt,angle:Ue,align:qe})):(O("The transform parameter of text() with a Matrix value"),wr=ae),isNaN(j)||isNaN(W)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return zt;var br,Dr="",as=typeof Q.lineHeightFactor=="number"?Q.lineHeightFactor:Fa,di=zt.internal.scaleFactor;function os(Pt){return Pt=Pt.split("	").join(Array(Q.TabLen||9).join(" ")),Vn(Pt,kt)}function ou(Pt){for(var Ft,cr=Pt.concat(),Nr=[],cs=cr.length;cs--;)typeof(Ft=cr.shift())=="string"?Nr.push(Ft):Array.isArray(Pt)&&(Ft.length===1||Ft[1]===void 0&&Ft[2]===void 0)?Nr.push(Ft[0]):Nr.push([Ft[0],Ft[1],Ft[2]]);return Nr}function Ro(Pt,Ft){var cr;if(typeof Pt=="string")cr=Ft(Pt)[0];else if(Array.isArray(Pt)){for(var Nr,cs,vu=Pt.concat(),Do=[],pd=vu.length;pd--;)typeof(Nr=vu.shift())=="string"?Do.push(Ft(Nr)[0]):Array.isArray(Nr)&&typeof Nr[0]=="string"&&(cs=Ft(Nr[0],Nr[1],Nr[2]),Do.push([cs[0],cs[1],cs[2]]));cr=Do}return cr}var Cs=!1,Ua=!0;if(typeof g=="string")Cs=!0;else if(Array.isArray(g)){var za=g.concat();Se=[];for(var Ts,Br=za.length;Br--;)(typeof(Ts=za.shift())!="string"||Array.isArray(Ts)&&typeof Ts[0]!="string")&&(Ua=!1);Cs=Ua}if(Cs===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var $a=ke/zt.internal.scaleFactor,qa=$a*(as-1);switch(Q.baseline){case"bottom":W-=qa;break;case"top":W+=$a-qa;break;case"hanging":W+=$a-2*qa;break;case"middle":W+=$a/2-qa}if((dt=Q.maxWidth||0)>0&&(typeof g=="string"?g=zt.splitTextToSize(g,dt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Pt,Ft){return Pt.concat(zt.splitTextToSize(Ft,dt))},[]))),be={text:g,x:j,y:W,options:Q,mutex:{pdfEscape:Vn,activeFontKey:Be,fonts:gt,activeFontSize:ke}},Et.publish("preProcessText",be),g=be.text,Ue=(Q=be.options).angle,wr instanceof et==0&&Ue&&typeof Ue=="number"){Ue*=Math.PI/180,Q.rotationDirection===0&&(Ue=-Ue),E===N&&(Ue=-Ue);var lu=Math.cos(Ue),uu=Math.sin(Ue);wr=new et(lu,uu,-uu,lu,0,0)}else Ue&&Ue instanceof et&&(wr=Ue);E!==N||wr||(wr=Xi),(it=Q.charSpace||rs)!==void 0&&(Dr+=B(K(it))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qt=Q.horizontalScale)!==void 0&&(Dr+=B(100*Qt)+` Tz
`),Q.lang;var sn=-1,ls=Q.renderingMode!==void 0?Q.renderingMode:Q.stroke,Fo=zt.internal.getCurrentPageInfo().pageContext;switch(ls){case 0:case!1:case"fill":sn=0;break;case 1:case!0:case"stroke":sn=1;break;case 2:case"fillThenStroke":sn=2;break;case 3:case"invisible":sn=3;break;case 4:case"fillAndAddForClipping":sn=4;break;case 5:case"strokeAndAddPathForClipping":sn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":sn=6;break;case 7:case"addToPathForClipping":sn=7}var hd=Fo.usedRenderingMode!==void 0?Fo.usedRenderingMode:-1;sn!==-1?Dr+=sn+` Tr
`:hd!==-1&&(Dr+=`0 Tr
`),sn!==-1&&(Fo.usedRenderingMode=sn),qe=Q.align||"left";var Kn,Wa=ke*as,cu=zt.internal.pageSize.getWidth(),du=gt[Be];it=Q.charSpace||rs,dt=Q.maxWidth||0,kt=Object.assign({autoencode:!0,noBOM:!0},Q.flags);var Os=[],Ha=function(Pt){return zt.getStringUnitWidth(Pt,{font:du,charSpace:it,fontSize:ke,doKerning:!1})*ke/di};if(Object.prototype.toString.call(g)==="[object Array]"){var kn;Se=ou(g),qe!=="left"&&(Kn=Se.map(Ha));var An,Is=0;if(qe==="right"){j-=Kn[0],g=[],Br=Se.length;for(var us=0;us<Br;us++)us===0?(An=es(j),kn=ts(W)):(An=K(Is-Kn[us]),kn=-Wa),g.push([Se[us],An,kn]),Is=Kn[us]}else if(qe==="center"){j-=Kn[0]/2,g=[],Br=Se.length;for(var Rs=0;Rs<Br;Rs++)Rs===0?(An=es(j),kn=ts(W)):(An=K((Is-Kn[Rs])/2),kn=-Wa),g.push([Se[Rs],An,kn]),Is=Kn[Rs]}else if(qe==="left"){g=[],Br=Se.length;for(var hu=0;hu<Br;hu++)g.push(Se[hu])}else if(qe==="justify"&&du.encoding==="Identity-H"){g=[],Br=Se.length,dt=dt!==0?dt:cu;for(var Mo=0,ur=0;ur<Br;ur++)if(kn=ur===0?ts(W):-Wa,An=ur===0?es(j):Mo,ur<Br-1){var fd=K((dt-Kn[ur])/(Se[ur].split(" ").length-1)),Ii=Se[ur].split(" ");g.push([Ii[0]+" ",An,kn]),Mo=0;for(var Ri=1;Ri<Ii.length;Ri++){var fu=(Ha(Ii[Ri-1]+" "+Ii[Ri])-Ha(Ii[Ri]))*di+fd;Ri==Ii.length-1?g.push([Ii[Ri],fu,0]):g.push([Ii[Ri]+" ",fu,0]),Mo-=fu}}else g.push([Se[ur],An,kn]);g.push(["",Mo,0])}else{if(qe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],Br=Se.length,dt=dt!==0?dt:cu,ur=0;ur<Br;ur++){kn=ur===0?ts(W):-Wa,An=ur===0?es(j):0;var pu=Se[ur].split(" ").length-1,mu=pu>0?(dt-Kn[ur])/pu:0;ur<Br-1?Os.push(B(K(mu))):Os.push(0),g.push([Se[ur],An,kn])}}}(typeof Q.R2L=="boolean"?Q.R2L:Je)===!0&&(g=Ro(g,function(Pt,Ft,cr){return[Pt.split("").reverse().join(""),Ft,cr]})),be={text:g,x:j,y:W,options:Q,mutex:{pdfEscape:Vn,activeFontKey:Be,fonts:gt,activeFontSize:ke}},Et.publish("postProcessText",be),g=be.text,br=be.mutex.isHex||!1;var gu=gt[Be].encoding;gu!=="WinAnsiEncoding"&&gu!=="StandardEncoding"||(g=Ro(g,function(Pt,Ft,cr){return[os(Pt),Ft,cr]})),Se=ou(g),g=[];for(var Fs,Ms,Ds,Va=Array.isArray(Se[0])?1:0,Bs="",Ga=function(Pt,Ft,cr){var Nr="";return cr instanceof et?(cr=typeof Q.angle=="number"?Zi(cr,new et(1,0,0,1,Pt,Ft)):Zi(new et(1,0,0,1,Pt,Ft),cr),E===N&&(cr=Zi(new et(1,0,0,-1,0,0),cr)),Nr=cr.join(" ")+` Tm
`):Nr=B(Pt)+" "+B(Ft)+` Td
`,Nr},Jn=0;Jn<Se.length;Jn++){switch(Bs="",Va){case 1:Ds=(br?"<":"(")+Se[Jn][0]+(br?">":")"),Fs=parseFloat(Se[Jn][1]),Ms=parseFloat(Se[Jn][2]);break;case 0:Ds=(br?"<":"(")+Se[Jn]+(br?">":")"),Fs=es(j),Ms=ts(W)}Os!==void 0&&Os[Jn]!==void 0&&(Bs=Os[Jn]+` Tw
`),Jn===0?g.push(Bs+Ga(Fs,Ms,wr)+Ds):Va===0?g.push(Bs+Ds):Va===1&&g.push(Bs+Ga(Fs,Ms,wr)+Ds)}g=Va===0?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Fi=`BT
/`;return Fi+=Be+" "+ke+` Tf
`,Fi+=B(ke*as)+` TL
`,Fi+=Ma+`
`,Fi+=Dr,Fi+=g,U(Fi+="ET"),v[Be]=!0,zt};var Hf=p.__private__.clip=p.clip=function(g){return U(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Hf("evenodd")},p.__private__.discardPath=p.discardPath=function(){return U("n"),this};var Oi=p.__private__.isValidStyle=function(g){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(j=!0),j};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return Oi(g)&&(c=g),this};var id=p.__private__.getStyle=p.getStyle=function(g){var j=c;switch(g){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=g}return j},sd=p.close=function(){return U("h"),this};p.stroke=function(){return U("S"),this},p.fill=function(g){return To("f",g),this},p.fillEvenOdd=function(g){return To("f*",g),this},p.fillStroke=function(g){return To("B",g),this},p.fillStrokeEvenOdd=function(g){return To("B*",g),this};var To=function(g,j){It(j)==="object"?Gf(j,g):U(g)},Ra=function(g){g===null||E===N&&g===void 0||(g=id(g),U(g))};function Vf(g,j,W,Q,ae){var be=new ml(j||this.boundingBox,W||this.xStep,Q||this.yStep,this.gState,ae||this.matrix);be.stream=this.stream;var Se=g+"$$"+this.cloneIndex+++"$$";return qn(Se,be),be}var Gf=function(g,j){var W=Ut[g.key],Q=Ze[W];if(Q instanceof ro)U("q"),U(Kf(j)),Q.gState&&p.setGState(Q.gState),U(g.matrix.toString()+" cm"),U("/"+W+" sh"),U("Q");else if(Q instanceof ml){var ae=new et(1,0,0,-1,0,Ba());g.matrix&&(ae=ae.multiply(g.matrix||Xi),W=Vf.call(Q,g.key,g.boundingBox,g.xStep,g.yStep,ae).id),U("q"),U("/Pattern cs"),U("/"+W+" scn"),Q.gState&&p.setGState(Q.gState),U(j),U("Q")}},Kf=function(g){switch(g){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ql=p.moveTo=function(g,j){return U(B(K(g))+" "+B(J(j))+" m"),this},ad=p.lineTo=function(g,j){return U(B(K(g))+" "+B(J(j))+" l"),this},ci=p.curveTo=function(g,j,W,Q,ae,be){return U([B(K(g)),B(J(j)),B(K(W)),B(J(Q)),B(K(ae)),B(J(be)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,j,W,Q,ae){if(isNaN(g)||isNaN(j)||isNaN(W)||isNaN(Q)||!Oi(ae))throw new Error("Invalid arguments passed to jsPDF.line");return E===x?this.lines([[W-g,Q-j]],g,j,[1,1],ae||"S"):this.lines([[W-g,Q-j]],g,j,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,j,W,Q,ae,be){var Se,Ue,qe,it,dt,kt,Qt,wr,zt,Sr,br,Dr;if(typeof g=="number"&&(Dr=W,W=j,j=g,g=Dr),Q=Q||[1,1],be=be||!1,isNaN(j)||isNaN(W)||!Array.isArray(g)||!Array.isArray(Q)||!Oi(ae)||typeof be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ql(j,W),Se=Q[0],Ue=Q[1],it=g.length,Sr=j,br=W,qe=0;qe<it;qe++)(dt=g[qe]).length===2?(Sr=dt[0]*Se+Sr,br=dt[1]*Ue+br,ad(Sr,br)):(kt=dt[0]*Se+Sr,Qt=dt[1]*Ue+br,wr=dt[2]*Se+Sr,zt=dt[3]*Ue+br,Sr=dt[4]*Se+Sr,br=dt[5]*Ue+br,ci(kt,Qt,wr,zt,Sr,br));return be&&sd(),Ra(ae),this},p.path=function(g){for(var j=0;j<g.length;j++){var W=g[j],Q=W.c;switch(W.op){case"m":Ql(Q[0],Q[1]);break;case"l":ad(Q[0],Q[1]);break;case"c":ci.apply(this,Q);break;case"h":sd()}}return this},p.__private__.rect=p.rect=function(g,j,W,Q,ae){if(isNaN(g)||isNaN(j)||isNaN(W)||isNaN(Q)||!Oi(ae))throw new Error("Invalid arguments passed to jsPDF.rect");return E===x&&(Q=-Q),U([B(K(g)),B(J(j)),B(K(W)),B(K(Q)),"re"].join(" ")),Ra(ae),this},p.__private__.triangle=p.triangle=function(g,j,W,Q,ae,be,Se){if(isNaN(g)||isNaN(j)||isNaN(W)||isNaN(Q)||isNaN(ae)||isNaN(be)||!Oi(Se))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[W-g,Q-j],[ae-W,be-Q],[g-ae,j-be]],g,j,[1,1],Se,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,j,W,Q,ae,be,Se){if(isNaN(g)||isNaN(j)||isNaN(W)||isNaN(Q)||isNaN(ae)||isNaN(be)||!Oi(Se))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ue=4/3*(Math.SQRT2-1);return ae=Math.min(ae,.5*W),be=Math.min(be,.5*Q),this.lines([[W-2*ae,0],[ae*Ue,0,ae,be-be*Ue,ae,be],[0,Q-2*be],[0,be*Ue,-ae*Ue,be,-ae,be],[2*ae-W,0],[-ae*Ue,0,-ae,-be*Ue,-ae,-be],[0,2*be-Q],[0,-be*Ue,ae*Ue,-be,ae,-be]],g+ae,j,[1,1],Se,!0),this},p.__private__.ellipse=p.ellipse=function(g,j,W,Q,ae){if(isNaN(g)||isNaN(j)||isNaN(W)||isNaN(Q)||!Oi(ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var be=4/3*(Math.SQRT2-1)*W,Se=4/3*(Math.SQRT2-1)*Q;return Ql(g+W,j),ci(g+W,j-Se,g+be,j-Q,g,j-Q),ci(g-be,j-Q,g-W,j-Se,g-W,j),ci(g-W,j+Se,g-be,j+Q,g,j+Q),ci(g+be,j+Q,g+W,j+Se,g+W,j),Ra(ae),this},p.__private__.circle=p.circle=function(g,j,W,Q){if(isNaN(g)||isNaN(j)||isNaN(W)||!Oi(Q))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,j,W,W,Q)},p.setFont=function(g,j,W){return W&&(j=Y(j,W)),Be=ed(g,j,{disableWarning:!1}),this};var Jf=p.__private__.getFont=p.getFont=function(){return gt[ed.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,j,W={};for(g in vt)if(vt.hasOwnProperty(g))for(j in W[g]=[],vt[g])vt[g].hasOwnProperty(j)&&W[g].push(j);return W},p.addFont=function(g,j,W,Q,ae){var be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&be.indexOf(arguments[3])!==-1?ae=arguments[3]:arguments[3]&&be.indexOf(arguments[3])==-1&&(W=Y(W,Q)),Yc.call(this,g,j,W,ae=ae||"Identity-H")};var Fa,eu=e.lineWidth||.200025,Yf=p.__private__.getLineWidth=p.getLineWidth=function(){return eu},st=p.__private__.setLineWidth=p.setLineWidth=function(g){return eu=g,U(B(K(g))+" w"),this};p.__private__.setLineDash=Ge.API.setLineDash=Ge.API.setLineDashPattern=function(g,j){if(g=g||[],j=j||0,isNaN(j)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(W){return B(K(W))}).join(" "),j=B(K(j)),U("["+g+"] "+j+" d"),this};var Zf=p.__private__.getLineHeight=p.getLineHeight=function(){return ke*Fa};p.__private__.getLineHeight=p.getLineHeight=function(){return ke*Fa};var Xf=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Fa=g),this},Qf=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Fa};Xf(e.lineHeight);var es=p.__private__.getHorizontalCoordinate=function(g){return K(g)},ts=p.__private__.getVerticalCoordinate=function(g){return E===N?g:Qe[D].mediaBox.topRightY-Qe[D].mediaBox.bottomLeftY-K(g)},e0=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return B(es(g))},t0=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return B(ts(g))},Oo=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ei(Oo)},p.__private__.setStrokeColor=p.setDrawColor=function(g,j,W,Q){return Oo=li({ch1:g,ch2:j,ch3:W,ch4:Q,pdfColorType:"draw",precision:2}),U(Oo),this};var tu=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ei(tu)},p.__private__.setFillColor=p.setFillColor=function(g,j,W,Q){return tu=li({ch1:g,ch2:j,ch3:W,ch4:Q,pdfColorType:"fill",precision:2}),U(tu),this};var Ma=e.textColor||"0 g",r0=p.__private__.getTextColor=p.getTextColor=function(){return Ei(Ma)};p.__private__.setTextColor=p.setTextColor=function(g,j,W,Q){return Ma=li({ch1:g,ch2:j,ch3:W,ch4:Q,pdfColorType:"text",precision:3}),this};var rs=e.charSpace,n0=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(rs||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return rs=g,this};var ru=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var j=p.CapJoinStyles[g];if(j===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ru=j,U(j+" J"),this};var nu=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var j=p.CapJoinStyles[g];if(j===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nu=j,U(j+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return U(B(K(g))+" M"),this},p.GState=hf,p.setGState=function(g){(g=typeof g=="string"?tt[lt[g]]:od(null,g)).equals(Yt)||(U("/"+g.id+" gs"),Yt=g)};var od=function(g,j){if(!g||!lt[g]){var W=!1;for(var Q in tt)if(tt.hasOwnProperty(Q)&&tt[Q].equals(j)){W=!0;break}if(W)j=tt[Q];else{var ae="GS"+(Object.keys(tt).length+1).toString(10);tt[ae]=j,j.id=ae}return g&&(lt[g]=j.id),Et.publish("addGState",j),j}};p.addGState=function(g,j){return od(g,j),this},p.saveGraphicsState=function(){return U("q"),Jt.push({key:Be,size:ke,color:Ma}),this},p.restoreGraphicsState=function(){U("Q");var g=Jt.pop();return Be=g.key,ke=g.size,Ma=g.color,Yt=null,this},p.setCurrentTransformationMatrix=function(g){return U(g.toString()+" cm"),this},p.comment=function(g){return U("#"+g),this};var ns=function(g,j){var W=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return W},set:function(be){isNaN(be)||(W=parseFloat(be))}});var Q=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Q},set:function(be){isNaN(be)||(Q=parseFloat(be))}});var ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ae},set:function(be){ae=be.toString()}}),this},iu=function(g,j,W,Q){ns.call(this,g,j),this.type="rect";var ae=W||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ae},set:function(Se){isNaN(Se)||(ae=parseFloat(Se))}});var be=Q||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return be},set:function(Se){isNaN(Se)||(be=parseFloat(Se))}}),this},Io=function(){this.page=yt,this.currentPage=D,this.pages=xe.slice(0),this.pagesContext=Qe.slice(0),this.x=Ie,this.y=mt,this.matrix=wt,this.width=au(D),this.height=ud(D),this.outputDestination=Pe,this.id="",this.objectNumber=-1};Io.prototype.restore=function(){yt=this.page,D=this.currentPage,Qe=this.pagesContext,xe=this.pages,Ie=this.x,mt=this.y,wt=this.matrix,ld(D,this.width),is(D,this.height),Pe=this.outputDestination};var su=function(g,j,W,Q,ae){Li.push(new Io),yt=D=0,xe=[],Ie=g,mt=j,wt=ae,Zl([W,Q])};for(var Da in p.beginFormObject=function(g,j,W,Q,ae){return su(g,j,W,Q,ae),this},p.endFormObject=function(g){return function(j){if(Yi[j])Li.pop().restore();else{var W=new Io,Q="Xo"+(Object.keys(Gr).length+1).toString(10);W.id=Q,Yi[j]=Q,Gr[Q]=W,Et.publish("addFormObject",W),Li.pop().restore()}}(g),this},p.doFormObject=function(g,j){var W=Gr[Yi[g]];return U("q"),U(j.toString()+" cm"),U("/"+W.id+" Do"),U("Q"),this},p.getFormObject=function(g){var j=Gr[Yi[g]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},p.save=function(g,j){return g=g||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(eo(Co(Ti()),g),typeof eo.unload=="function"&&rt.setTimeout&&setTimeout(eo.unload,911),this):new Promise(function(W,Q){try{var ae=eo(Co(Ti()),g);typeof eo.unload=="function"&&rt.setTimeout&&setTimeout(eo.unload,911),W(ae)}catch(be){Q(be.message)}})},Ge.API)Ge.API.hasOwnProperty(Da)&&(Da==="events"&&Ge.API.events.length?function(g,j){var W,Q,ae;for(ae=j.length-1;ae!==-1;ae--)W=j[ae][0],Q=j[ae][1],g.subscribe.apply(g,[W].concat(typeof Q=="function"?[Q]:Q))}(Et,Ge.API.events):p[Da]=Ge.API[Da]);function au(g){return Qe[g].mediaBox.topRightX-Qe[g].mediaBox.bottomLeftX}function ld(g,j){Qe[g].mediaBox.topRightX=j+Qe[g].mediaBox.bottomLeftX}function ud(g){return Qe[g].mediaBox.topRightY-Qe[g].mediaBox.bottomLeftY}function is(g,j){Qe[g].mediaBox.topRightY=j+Qe[g].mediaBox.bottomLeftY}var ss=p.getPageWidth=function(g){return au(g=g||D)/nt},cd=p.setPageWidth=function(g,j){ld(g,j*nt)},Ba=p.getPageHeight=function(g){return ud(g=g||D)/nt},dd=p.setPageHeight=function(g,j){is(g,j*nt)};return p.internal={pdfEscape:Vn,getStyle:id,getFont:Jf,getFontSize:Re,getCharSpace:n0,getTextColor:r0,getLineHeight:Zf,getLineHeightFactor:Qf,getLineWidth:Yf,write:Ce,getHorizontalCoordinate:es,getVerticalCoordinate:ts,getCoordinateString:e0,getVerticalCoordinateString:t0,collections:{},newObject:ir,newAdditionalObject:Ta,newObjectDeferred:Tr,newObjectDeferredBegin:Mr,getFilters:ui,putStream:Hn,events:Et,scaleFactor:nt,pageSize:{getWidth:function(){return ss(D)},setWidth:function(g){cd(D,g)},getHeight:function(){return Ba(D)},setHeight:function(g){dd(D,g)}},encryptionOptions:d,encryption:xr,getEncryptor:function(g){return d!==null?xr.encryptor(g,0):function(j){return j}},output:rd,getNumberOfPages:Qc,get pages(){return xe},out:U,f2:C,f3:M,getPageInfo:Qi,getPageInfoByObjId:nd,getCurrentPageInfo:Wf,getPDFVersion:S,Point:ns,Rectangle:iu,Matrix:et,hasHotfix:Gn},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ss(D)},set:function(g){cd(D,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ba(D)},set:function(g){dd(D,g)},enumerable:!0,configurable:!0}),(function(g){for(var j=0,W=Ye.length;j<W;j++){var Q=Yc.call(this,g[j][0],g[j][1],g[j][2],Ye[j][3],!0);m===!1&&(v[Q]=!0);var ae=g[j][0].split("-");Jc({id:Q,fontName:ae[0],fontStyle:ae[1]||""})}Et.publish("addFonts",{fonts:gt,dictionary:vt})}).call(p,Ye),Be="F1",Zc(i,r),Et.publish("initialized"),p}el.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},el.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},el.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},el.prototype.processOwnerPassword=function(e,t){return X1(Z1(t).substr(0,5),e)},el.prototype.encryptor=function(e,t){var r=Z1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return X1(r,n)}},hf.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||It(e)!==It(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Ge.API={events:[]},Ge.version="3.0.4";var or=Ge.API,vg=1,Ao=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ko=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},at=function(e){return e.toFixed(2)},Js=function(e){return e.toFixed(5)};or.__acroform__={};var Nn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},ty=function(e){return e*vg},Bi=function(e){var t=new xx,r=De.internal.getHeight(e)||0,n=De.internal.getWidth(e)||0;return t.BBox=[0,0,Number(at(n)),Number(at(r))],t},wL=or.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},bL=or.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},_L=or.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},pr=or.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _L(e,t-1)},mr=or.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return wL(e,t-1)},gr=or.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bL(e,t-1)},xL=or.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],s=e[1],a=e[2],o=e[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(at(l.lowerLeft_X)),Number(at(l.lowerLeft_Y)),Number(at(l.upperRight_X)),Number(at(l.upperRight_Y))]},SL=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Q1(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+at(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Bi(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},Q1=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(C){return C.split(`
`)}):i.map(function(C){return[C]});var s=r,a=De.internal.getHeight(e)||0;a=a<0?-a:a;var o=De.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(C,M,K){if(C+1<i.length){var J=M+" "+i[C+1][0];return lh(J,e,K).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var c,d,m=lh("3",e,s).height,v=e.multiline?a-s:(a-m)/2,p=v+=2,_=0,S=0,k=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+lh(t,e,s=12).width+", FieldWidth:"+o+`
`;break}for(var w="",x=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var E=!1;if(i[N].length!==1&&k!==i[N].length-1){if((m+2)*(x+2)+2>a)continue e;w+=i[N][k],E=!0,S=N,N--}else{w=(w+=i[N][k]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var G=parseInt(N),V=l(G,w,s),Y=N>=i.length-1;if(V&&!Y){w+=" ",k=0;continue}if(V||Y){if(Y)S=G;else if(e.multiline&&(m+2)*(x+2)+2>a)continue e}else{if(!e.multiline||(m+2)*(x+2)+2>a)continue e;S=G}}for(var B="",O=_;O<=S;O++){var q=i[O];if(e.multiline){if(O===S){B+=q[k]+" ",k=(k+1)%q.length;continue}if(O===_){B+=q[q.length-1]+" ";continue}}B+=q[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,d=lh(B,e,s).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=at(c)+" "+at(p)+` Td
`,t+="("+Ao(B)+`) Tj
`,t+=-at(c)+` 0 Td
`,p=-(s+2),d=0,_=E?S:S+1,x++,w=""}break}return n.text=t,n.fontSize=s,n},lh=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},NL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kL=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},AL=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ai.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(NL)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");vg=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Sx,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&kL(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=xL(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=De.createDefaultAppearanceStream(o),It(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=SL(o);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var m="";for(var v in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(v)){var p=o.appearanceStreamContent[v];if(m+="/"+v+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var _=p[a];typeof _=="function"&&(_=_.call(i,o)),m+="/"+a+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=p)=="function"&&(_=_.call(i,o)),m+="/"+a+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(S,k){for(var w in S)if(S.hasOwnProperty(w)){var x=w,N=S[w];k.internal.newObjectDeferredBegin(N.objId,!0),It(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete S[x]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},_x=or.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),It(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Ao(n(e[s].toString()))+")"):i+=e[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ap=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Ao(n(e))+")"},Wi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wi.prototype.toString=function(){return this.objId+" 0 R"},Wi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Wi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:_x(i,this.objId,this.scope)}):i instanceof Wi?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var xx=function(){Wi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Nn(xx,Wi);var Sx=function(){Wi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ao(r(e))+")"}},set:function(r){e=r}})};Nn(Sx,Wi);var Ai=function e(){Wi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pr(t,3)},set:function(w){w?this.F=mr(t,3):this.F=gr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof ff)return;s="FieldObject"+e.FieldNum++}var w=function(x){return x};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Ao(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/vg:c},set:function(w){c=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof ff||this instanceof fo))return Ap(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=w}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Rr==0?Ap(v,this.objId,this.scope):v},set:function(w){w=w.toString(),v=this instanceof Rr==0?w.substr(0,1)==="("?Ko(w.substr(1,w.length-2)):Ko(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rr==1?Ko(v.substr(1,v.length-1)):v},set:function(w){w=w.toString(),v=this instanceof Rr==1?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Rr==0?Ap(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof Rr==0?w.substr(0,1)==="("?Ko(w.substr(1,w.length-2)):Ko(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rr==1?Ko(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Rr==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(w){w=!!w,S=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(w){_=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,1)},set:function(w){w?this.Ff=mr(this.Ff,1):this.Ff=gr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,2)},set:function(w){w?this.Ff=mr(this.Ff,2):this.Ff=gr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,3)},set:function(w){w?this.Ff=mr(this.Ff,3):this.Ff=gr(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');k=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(k){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};Nn(Ai,Wi);var Sl=function(){Ai.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return _x(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,18)},set:function(r){r?this.Ff=mr(this.Ff,18):this.Ff=gr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=mr(this.Ff,19):this.Ff=gr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,20)},set:function(r){r?(this.Ff=mr(this.Ff,20),t.sort()):this.Ff=gr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,22)},set:function(r){r?this.Ff=mr(this.Ff,22):this.Ff=gr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,23)},set:function(r){r?this.Ff=mr(this.Ff,23):this.Ff=gr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,27)},set:function(r){r?this.Ff=mr(this.Ff,27):this.Ff=gr(this.Ff,27)}}),this.hasAppearanceStream=!1};Nn(Sl,Ai);var Nl=function(){Sl.call(this),this.fontName="helvetica",this.combo=!1};Nn(Nl,Sl);var kl=function(){Nl.call(this),this.combo=!0};Nn(kl,Nl);var Eh=function(){kl.call(this),this.edit=!0};Nn(Eh,kl);var Rr=function(){Ai.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,15)},set:function(r){r?this.Ff=mr(this.Ff,15):this.Ff=gr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,16)},set:function(r){r?this.Ff=mr(this.Ff,16):this.Ff=gr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,17)},set:function(r){r?this.Ff=mr(this.Ff,17):this.Ff=gr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,26)},set:function(r){r?this.Ff=mr(this.Ff,26):this.Ff=gr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Ao(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){It(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Nn(Rr,Ai);var Ph=function(){Rr.call(this),this.pushButton=!0};Nn(Ph,Rr);var Al=function(){Rr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Nn(Al,Rr);var ff=function(){var e,t;Ai.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Ao(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){It(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=De.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Nn(ff,Ai),Al.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Al.prototype.createOption=function(e){var t=new ff;return t.Parent=this,t.optionName=e,this.Kids.push(t),jL.call(this.scope,t),t};var Ch=function(){Rr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=De.CheckBox.createAppearanceStream()};Nn(Ch,Rr);var fo=function(){Ai.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,13)},set:function(t){t?this.Ff=mr(this.Ff,13):this.Ff=gr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,21)},set:function(t){t?this.Ff=mr(this.Ff,21):this.Ff=gr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,23)},set:function(t){t?this.Ff=mr(this.Ff,23):this.Ff=gr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,24)},set:function(t){t?this.Ff=mr(this.Ff,24):this.Ff=gr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,25)},set:function(t){t?this.Ff=mr(this.Ff,25):this.Ff=gr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,26)},set:function(t){t?this.Ff=mr(this.Ff,26):this.Ff=gr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Nn(fo,Ai);var Th=function(){fo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,14)},set:function(e){e?this.Ff=mr(this.Ff,14):this.Ff=gr(this.Ff,14)}}),this.password=!0};Nn(Th,fo);var De={CheckBox:{createAppearanceStream:function(){return{N:{On:De.CheckBox.YesNormal},D:{On:De.CheckBox.YesPushDown,Off:De.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=Q1(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+at(De.internal.getWidth(e))+" "+at(De.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+at(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Bi(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],s=De.internal.getHeight(e),a=De.internal.getWidth(e),o=Q1(e,e.caption);return i.push("1 g"),i.push("0 0 "+at(a)+" "+at(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+at(a-1)+" "+at(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+at(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+at(De.internal.getWidth(e))+" "+at(De.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:De.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=De.RadioButton.Circle.YesNormal,t.D[e]=De.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Bi(e);t.scope=e.scope;var r=[],n=De.internal.getWidth(e)<=De.internal.getHeight(e)?De.internal.getWidth(e)/4:De.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=De.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Js(De.internal.getWidth(e)/2)+" "+Js(De.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=[],n=De.internal.getWidth(e)<=De.internal.getHeight(e)?De.internal.getWidth(e)/4:De.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*De.internal.Bezier_C).toFixed(5)),a=Number((n*De.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Js(De.internal.getWidth(e)/2)+" "+Js(De.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Js(De.internal.getWidth(e)/2)+" "+Js(De.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=[],n=De.internal.getWidth(e)<=De.internal.getHeight(e)?De.internal.getWidth(e)/4:De.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*De.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Js(De.internal.getWidth(e)/2)+" "+Js(De.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:De.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=De.RadioButton.Cross.YesNormal,t.D[e]=De.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Bi(e);t.scope=e.scope;var r=[],n=De.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+at(De.internal.getWidth(e)-2)+" "+at(De.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(at(n.x1.x)+" "+at(n.x1.y)+" m"),r.push(at(n.x2.x)+" "+at(n.x2.y)+" l"),r.push(at(n.x4.x)+" "+at(n.x4.y)+" m"),r.push(at(n.x3.x)+" "+at(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=De.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+at(De.internal.getWidth(e))+" "+at(De.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+at(De.internal.getWidth(e)-2)+" "+at(De.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(at(r.x1.x)+" "+at(r.x1.y)+" m"),n.push(at(r.x2.x)+" "+at(r.x2.y)+" l"),n.push(at(r.x4.x)+" "+at(r.x4.y)+" m"),n.push(at(r.x3.x)+" "+at(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+at(De.internal.getWidth(e))+" "+at(De.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};De.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=De.internal.getWidth(e),r=De.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},De.internal.getWidth=function(e){var t=0;return It(e)==="object"&&(t=ty(e.Rect[2])),t},De.internal.getHeight=function(e){var t=0;return It(e)==="object"&&(t=ty(e.Rect[3])),t};var jL=or.addField=function(e){if(AL(this,e),!(e instanceof Ai))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};or.AcroFormChoiceField=Sl,or.AcroFormListBox=Nl,or.AcroFormComboBox=kl,or.AcroFormEditBox=Eh,or.AcroFormButton=Rr,or.AcroFormPushButton=Ph,or.AcroFormRadioButton=Al,or.AcroFormCheckBox=Ch,or.AcroFormTextField=fo,or.AcroFormPasswordField=Th,or.AcroFormAppearance=De,or.AcroForm={ChoiceField:Sl,ListBox:Nl,ComboBox:kl,EditBox:Eh,Button:Rr,PushButton:Ph,RadioButton:Al,CheckBox:Ch,TextField:fo,PasswordField:Th,Appearance:De},Ge.AcroForm={ChoiceField:Sl,ListBox:Nl,ComboBox:kl,EditBox:Eh,Button:Rr,PushButton:Ph,RadioButton:Al,CheckBox:Ch,TextField:fo,PasswordField:Th,Appearance:De};function Nx(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(C,M){var K,J,he,me,ue,Z=r;if((M=M||r)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(V(C))for(ue in n)for(he=n[ue],K=0;K<he.length;K+=1){for(me=!0,J=0;J<he[K].length;J+=1)if(he[K][J]!==void 0&&he[K][J]!==C[J]){me=!1;break}if(me===!0){Z=ue;break}}else for(ue in n)for(he=n[ue],K=0;K<he.length;K+=1){for(me=!0,J=0;J<he[K].length;J+=1)if(he[K][J]!==void 0&&he[K][J]!==C.charCodeAt(J)){me=!1;break}if(me===!0){Z=ue;break}}return Z===r&&M!==r&&(Z=M),Z},s=function C(M){for(var K=this.internal.write,J=this.internal.putStream,he=(0,this.internal.getFilters)();he.indexOf("FlateEncode")!==-1;)he.splice(he.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var me=[];if(me.push({key:"Type",value:"/XObject"}),me.push({key:"Subtype",value:"/Image"}),me.push({key:"Width",value:M.width}),me.push({key:"Height",value:M.height}),M.colorSpace===w.INDEXED?me.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(me.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===w.DEVICE_CMYK&&me.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),me.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&me.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var ue="",Z=0,R=M.transparency.length;Z<R;Z++)ue+=M.transparency[Z]+" "+M.transparency[Z]+" ";me.push({key:"Mask",value:"["+ue+"]"})}M.sMask!==void 0&&me.push({key:"SMask",value:M.objectId+1+" 0 R"});var oe=M.filter!==void 0?["/"+M.filter]:void 0;if(J({data:M.data,additionalKeyValues:me,alreadyAppliedFilters:oe,objectId:M.objectId}),K("endobj"),"sMask"in M&&M.sMask!==void 0){var se,A=(se=M.sMaskBitsPerComponent)!==null&&se!==void 0?se:M.bitsPerComponent,D={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:A,data:M.sMask};"filter"in M&&(D.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(A," /Columns ").concat(M.width),D.filter=M.filter),C.call(this,D)}if(M.colorSpace===w.INDEXED){var H=this.internal.newObject();J({data:B(new Uint8Array(M.palette)),objectId:H}),K("endobj")}},a=function(){var C=this.internal.collections[t+"images"];for(var M in C)s.call(this,C[M])},o=function(){var C,M=this.internal.collections[t+"images"],K=this.internal.write;for(var J in M)K("/I"+(C=M[J]).index,C.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var C=this.internal.collections[t+"images"];return l.call(this),C},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(C){return typeof e["process"+C.toUpperCase()]=="function"},v=function(C){return It(C)==="object"&&C.nodeType===1},p=function(C,M){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var K=""+C.getAttribute("src");if(K.indexOf("data:image/")===0)return Lh(unescape(K).split("base64,").pop());var J=e.loadFile(K,!0);if(J!==void 0)return J}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var he;switch(M){case"PNG":he="image/png";break;case"WEBP":he="image/webp";break;default:he="image/jpeg"}return Lh(C.toDataURL(he,1).split("base64,").pop())}},_=function(C){var M=this.internal.collections[t+"images"];if(M){for(var K in M)if(C===M[K].alias)return M[K]}},S=function(C,M,K){return C||M||(C=-96,M=-96),C<0&&(C=-1*K.width*72/C/this.internal.scaleFactor),M<0&&(M=-1*K.height*72/M/this.internal.scaleFactor),C===0&&(C=M*K.width/K.height),M===0&&(M=C*K.height/K.width),[C,M]},k=function(C,M,K,J,he,me){var ue=S.call(this,K,J,he),Z=this.internal.getCoordinateString,R=this.internal.getVerticalCoordinateString,oe=c.call(this);if(K=ue[0],J=ue[1],oe[he.index]=he,me){me*=Math.PI/180;var se=Math.cos(me),A=Math.sin(me),D=function(X){return X.toFixed(4)},H=[D(se),D(A),D(-1*A),D(se),0,0,"cm"]}this.internal.write("q"),me?(this.internal.write([1,"0","0",1,Z(C),R(M+J),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([Z(K),"0","0",Z(J),"0","0","cm"].join(" "))):this.internal.write([Z(K),"0","0",Z(J),Z(C),R(M+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+he.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=e.__addimage__.sHashCode=function(C){var M,K,J=0;if(typeof C=="string")for(K=C.length,M=0;M<K;M++)J=(J<<5)-J+C.charCodeAt(M),J|=0;else if(V(C))for(K=C.byteLength/2,M=0;M<K;M++)J=(J<<5)-J+C[M],J|=0;return J},E=e.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var M=!0;return C.length===0&&(M=!1),C.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(M=!1),M},G=e.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var M=C.indexOf(",");return M<0?null:C.substring(0,M).trim().endsWith("base64")?C.substring(M+1):null};e.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var V=e.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},Y=e.__addimage__.binaryStringToUint8Array=function(C){for(var M=C.length,K=new Uint8Array(M),J=0;J<M;J++)K[J]=C.charCodeAt(J);return K},B=e.__addimage__.arrayBufferToBinaryString=function(C){for(var M="",K=V(C)?C:new Uint8Array(C),J=0;J<K.length;J+=8192)M+=String.fromCharCode.apply(null,K.subarray(J,J+8192));return M};e.addImage=function(){var C,M,K,J,he,me,ue,Z,R;if(typeof arguments[1]=="number"?(M=r,K=arguments[1],J=arguments[2],he=arguments[3],me=arguments[4],ue=arguments[5],Z=arguments[6],R=arguments[7]):(M=arguments[1],K=arguments[2],J=arguments[3],he=arguments[4],me=arguments[5],ue=arguments[6],Z=arguments[7],R=arguments[8]),It(C=arguments[0])==="object"&&!v(C)&&"imageData"in C){var oe=C;C=oe.imageData,M=oe.format||M||r,K=oe.x||K||0,J=oe.y||J||0,he=oe.w||oe.width||he,me=oe.h||oe.height||me,ue=oe.alias||ue,Z=oe.compression||Z,R=oe.rotation||oe.angle||R}var se=this.internal.getFilters();if(Z===void 0&&se.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(K)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var A=O.call(this,C,M,ue,Z);return k.call(this,K,J,he,me,A,R),this};var O=function(C,M,K,J){var he,me,ue;if(typeof C=="string"&&i(C)===r){C=unescape(C);var Z=q(C,!1);(Z!==""||(Z=e.loadFile(C,!0))!==void 0)&&(C=Z)}if(v(C)&&(C=p(C,M)),M=i(C,M),!m(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((ue=K)==null||ue.length===0)&&(K=function(R){return typeof R=="string"||V(R)?N(R):V(R.data)?N(R.data):null}(C)),(he=_.call(this,K))||(C instanceof Uint8Array||M==="RGBA"||(me=C,C=Y(C)),he=this["process"+M.toUpperCase()](C,d.call(this),K,function(R){return R&&typeof R=="string"&&(R=R.toUpperCase()),R in e.image_compression?R:x.NONE}(J),me)),!he)throw new Error("An unknown error occurred whilst processing the image.");return he},q=e.__addimage__.convertBase64ToBinaryString=function(C,M){M=typeof M!="boolean"||M;var K,J="";if(typeof C=="string"){var he;K=(he=G(C))!==null&&he!==void 0?he:C;try{J=Lh(K)}catch(me){if(M)throw E(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+me.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};e.getImageProperties=function(C){var M,K,J="";if(v(C)&&(C=p(C)),typeof C=="string"&&i(C)===r&&((J=q(C,!1))===""&&(J=e.loadFile(C)||""),C=J),K=i(C),!m(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(C instanceof Uint8Array||(C=Y(C)),!(M=this["process"+K.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=K,M}})(Ge.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ge.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,d=!1,m=0;m<c.length&&!d;m++)switch((n=c[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var v=0;v<c.length;v++){n=c[v];var p=this.internal.pdfEscape,_=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(S.objId),x=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(w(n.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(w(x))+") >>",S.content=s;var N=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(S.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(_(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var G=this.annotations._nameMap[n.options.name];n.options.pageNumber=G.page,n.options.top=G.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var V=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+V+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+s)},options:a,type:"link"})},e.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(r,o).length;a=Math.ceil(c*d)}else o=l,a=c;return this.text(r,n,i,s),i+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-c,o,a,s),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ge.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(S){return t[S.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},o=e.__arabicParser__.isArabicEndLetter=function(S){return a(S)&&s(S)&&t[S.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(S){return a(S)&&i.indexOf(S.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return a(S)&&s(S)&&t[S.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(S){return a(S)&&s(S)&&t[S.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(S){return a(S)&&s(S)&&t[S.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(S){return a(S)&&s(S)&&t[S.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(S){var k=0,w=r,x="",N=0;for(k=0;k<S.length;k+=1)w[S.charCodeAt(k)]!==void 0?(N++,typeof(w=w[S.charCodeAt(k)])=="number"&&(x+=String.fromCharCode(w),w=r,N=0),k===S.length-1&&(w=r,x+=S.charAt(k-(N-1)),k-=N-1,N=0)):(w=r,x+=S.charAt(k-N),k-=N,N=0);return x};e.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&n[S.charCodeAt(0)]!==void 0};var v=e.__arabicParser__.getCorrectForm=function(S,k,w){return a(S)?s(S)===!1?-1:!c(S)||!a(k)&&!a(w)||!a(w)&&o(k)||o(S)&&!a(k)||o(S)&&l(k)||o(S)&&o(k)?0:d(S)&&a(k)&&!o(k)&&a(w)&&c(w)?3:o(S)||!a(w)?1:2:-1},p=function(S){var k=0,w=0,x=0,N="",E="",G="",V=(S=S||"").split("\\s+"),Y=[];for(k=0;k<V.length;k+=1){for(Y.push(""),w=0;w<V[k].length;w+=1)N=V[k][w],E=V[k][w-1],G=V[k][w+1],a(N)?(x=v(N,E,G),Y[k]+=x!==-1?String.fromCharCode(t[N.charCodeAt(0)][x]):N):Y[k]+=N;Y[k]=m(Y[k])}return Y.join(" ")},_=e.__arabicParser__.processArabic=e.processArabic=function(){var S,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(k)){var x=0;for(w=[],x=0;x<k.length;x+=1)Array.isArray(k[x])?w.push([p(k[x][0]),k[x][1],k[x][2]]):w.push([p(k[x])]);S=w}else S=p(k);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};e.events.push(["preProcessText",_])}(Ge.API),Ge.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ge.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(S){l=S}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(S){v=S}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(S){_=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),m=c.font||this.getFont(),v=c.scaleFactor||this.internal.scaleFactor,p=0,_=0,S=0,k=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(N,E){return N.concat(k.splitTextToSize(E,w))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)p<(S=this.getStringUnitWidth(l[x],{font:m})*d)&&(p=S);return p!==0&&(_=l.length),{w:p/=v,h:Math.max((_*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/v,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,v=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,p&&v&&(this.printHeaderRow(l.lineNumber,!0),l.y+=v[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,d,m,v){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,_,S,k,w=[],x=[],N=[],E={},G={},V=[],Y=[],B=(v=v||{}).autoSize||!1,O=v.printHeaders!==!1,q=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,C=v.margins||Object.assign({width:this.getPageWidth()},t),M=typeof v.padding=="number"?v.padding:3,K=v.headerBackgroundColor||"#c8c8c8",J=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=J,this.setFontSize(q),m==null)x=w=Object.keys(d[0]),N=w.map(function(){return"left"});else if(Array.isArray(m)&&It(m[0])==="object")for(w=m.map(function(oe){return oe.name}),x=m.map(function(oe){return oe.prompt||oe.name||""}),N=m.map(function(oe){return oe.align||"left"}),p=0;p<m.length;p+=1)G[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(x=w=m,N=w.map(function(){return"left"}));if(B||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<w.length;p+=1){for(E[k=w[p]]=d.map(function(oe){return oe[k]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(x[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=E[k],this.setFont(void 0,"normal"),S=0;S<_.length;S+=1)V.push(this.getTextDimensions(_[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);G[k]=Math.max.apply(null,V)+M+M,V=[]}if(O){var he={};for(p=0;p<w.length;p+=1)he[w[p]]={},he[w[p]].text=x[p],he[w[p]].align=N[p];var me=o.call(this,he,G);Y=w.map(function(oe){return new s(l,c,G[oe],me,he[oe].text,void 0,he[oe].align)}),this.setTableHeaderRow(Y),this.printHeaderRow(1,!1)}var ue=m.reduce(function(oe,se){return oe[se.name]=se.align,oe},{});for(p=0;p<d.length;p+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:p,data:d[p]},this);var Z=o.call(this,d[p],G);for(S=0;S<w.length;S+=1){var R=d[p][w[S]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:p,col:S,data:R},this),a.call(this,new s(l,c,G[w[S]],Z,R,p+2,ue[w[S]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var d=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(l).map(function(p){var _=l[p];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,c[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/v+d+d},this).reduce(function(p,_){return Math.max(p,_)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,v.push(d)),d.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(_)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(Ge.API);var kx={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ax=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],em=Nx(Ax),jx=[100,200,300,400,500,600,700,800,900],LL=Nx(jx);function jp(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return kx[s=s||"normal"]?s:"normal"}(e.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),i=function(s){return typeof em[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function ry(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var EL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ny={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function iy(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function sy(e){return e.trimLeft()}function PL(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function CL(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var uh,ay,oy,Jo,ch,ly,uy,cy,Lp=["times"];function dy(e,t,r,n,i){var s=4,a=fy;switch(i){case Ge.API.image_compression.FAST:s=1,a=hy;break;case Ge.API.image_compression.MEDIUM:s=6,a=py;break;case Ge.API.image_compression.SLOW:s=9,a=my}e=function(l,c,d,m){for(var v,p=l.length/c,_=new Uint8Array(l.length+p),S=[TL,hy,fy,py,my],k=0;k<p;k+=1){var w=k*c,x=l.subarray(w,w+c);if(m)_.set(m(x,d,v),w+k);else{for(var N=S.length,E=[],G=0;G<N;G+=1)E[G]=S[G](x,d,v);var V=IL(E.concat());_.set(E[V],w+k)}v=x}return _}(e,t,Math.ceil(r*n/8),a);var o=z1(e,{level:s});return Ge.API.__addimage__.arrayBufferToBinaryString(o)}function TL(e){var t=Array.apply([],e);return t.unshift(0),t}function hy(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=e[i-t]||0;n[i+1]=e[i]-s+256&255}return n}function fy(e,t,r){var n=e.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=e[s]-a+256&255}return i}function py(e,t,r){var n=e.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=e[s-t]||0,o=r&&r[s]||0;i[s+1]=e[s]+256-(a+o>>>1)&255}return i}function my(e,t,r){var n=e.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=OL(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);i[s+1]=e[s]-a+256&255}return i}function OL(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=i&&n<=s?e:i<=s?t:r}function IL(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function Ep(e,t,r){var n=t*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return Lx(e,i)>>s&a}function gy(e,t,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(t&o)<<a;(function(c,d,m){if(d+1<c.byteLength)c.setUint16(d,m,!1);else{var v=m>>8&255;c.setUint8(d,v)}})(e,s,Lx(e,s)&~(o<<a)&65535|l)}function Lx(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function RL(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,a=1<<1+(7&i);e[t++],e[t++];var o=null,l=null;s&&(o=t,l=a,t+=3*a);var c=!0,d=[],m=0,v=null,p=0,_=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,_=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var S=e[t++];m=e[t++]|e[t++]<<8,v=e[t++],1&S||(v=null),p=S>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var k=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,E=e[t++],G=E>>6&1,V=1<<1+(7&E),Y=o,B=l,O=!1;E>>7&&(O=!0,Y=t,B=V,t+=3*V);var q=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}d.push({x:k,y:w,width:x,height:N,has_local_palette:O,palette_offset:Y,palette_size:B,data_offset:q,data_length:t-q,transparent_index:v,interlaced:!!G,delay:m,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return _},this.frameInfo=function(M){if(M<0||M>=d.length)throw new Error("Frame index out of range.");return d[M]},this.decodeAndBlitFrameBGRA=function(M,K){var J=this.frameInfo(M),he=J.width*J.height,me=new Uint8Array(he);vy(e,J.data_offset,me,he);var ue=J.palette_offset,Z=J.transparent_index;Z===null&&(Z=256);var R=J.width,oe=r-R,se=R,A=4*(J.y*r+J.x),D=4*((J.y+J.height)*r+J.x),H=A,X=4*oe;J.interlaced===!0&&(X+=4*r*7);for(var ee=8,ie=0,ge=me.length;ie<ge;++ie){var te=me[ie];if(se===0&&(se=R,(H+=X)>=D&&(X=4*oe+4*r*(ee-1),H=A+(R+oe)*(ee<<1),ee>>=1)),te===Z)H+=4;else{var fe=e[ue+3*te],xe=e[ue+3*te+1],Le=e[ue+3*te+2];K[H++]=Le,K[H++]=xe,K[H++]=fe,K[H++]=255}--se}},this.decodeAndBlitFrameRGBA=function(M,K){var J=this.frameInfo(M),he=J.width*J.height,me=new Uint8Array(he);vy(e,J.data_offset,me,he);var ue=J.palette_offset,Z=J.transparent_index;Z===null&&(Z=256);var R=J.width,oe=r-R,se=R,A=4*(J.y*r+J.x),D=4*((J.y+J.height)*r+J.x),H=A,X=4*oe;J.interlaced===!0&&(X+=4*r*7);for(var ee=8,ie=0,ge=me.length;ie<ge;++ie){var te=me[ie];if(se===0&&(se=R,(H+=X)>=D&&(X=4*oe+4*r*(ee-1),H=A+(R+oe)*(ee<<1),ee>>=1)),te===Z)H+=4;else{var fe=e[ue+3*te],xe=e[ue+3*te+1],Le=e[ue+3*te+2];K[H++]=fe,K[H++]=xe,K[H++]=Le,K[H++]=255}--se}}}function vy(e,t,r,n){for(var i=e[t++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,d=0,m=0,v=0,p=e[t++],_=new Int32Array(4096),S=null;;){for(;d<16&&p!==0;)m|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<l)break;var k=m&c;if(m>>=l,d-=l,k!==s){if(k===a)break;for(var w=k<o?k:S,x=0,N=w;N>s;)N=_[N]>>8,++x;var E=N;if(v+x+(w!==k?1:0)>n)return void Bt.log("Warning, gif stream longer than expected.");r[v++]=E;var G=v+=x;for(w!==k&&(r[v++]=E),N=w;x--;)N=_[N],r[--G]=255&N,N>>=8;S!==null&&o<4096&&(_[o++]=S<<8|E,o>=c+1&&l<12&&(++l,c=c<<1|1)),S=k}else o=a+1,c=(1<<(l=i+1))-1,S=null}return v!==n&&Bt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Pp(e){var t,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),m=new Array(65535),v=new Array(65535),p=new Array(64),_=new Array(64),S=[],k=0,w=7,x=new Array(64),N=new Array(64),E=new Array(64),G=new Array(256),V=new Array(2048),Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function me(A,D){for(var H=0,X=0,ee=new Array,ie=1;ie<=16;ie++){for(var ge=1;ge<=A[ie];ge++)ee[D[X]]=[],ee[D[X]][0]=H,ee[D[X]][1]=ie,X++,H++;H*=2}return ee}function ue(A){for(var D=A[0],H=A[1]-1;H>=0;)D&1<<H&&(k|=1<<w),H--,--w<0&&(k==255?(Z(255),Z(0)):Z(k),w=7,k=0)}function Z(A){S.push(A)}function R(A){Z(A>>8&255),Z(255&A)}function oe(A,D,H,X,ee){for(var ie,ge=ee[0],te=ee[240],fe=function(ke,Ke){var Re,Je,Ve,ve,Oe,Te,Xe,ot,Be,nt,Ie=0;for(Be=0;Be<8;++Be){Re=ke[Ie],Je=ke[Ie+1],Ve=ke[Ie+2],ve=ke[Ie+3],Oe=ke[Ie+4],Te=ke[Ie+5],Xe=ke[Ie+6];var mt=Re+(ot=ke[Ie+7]),wt=Re-ot,gt=Je+Xe,vt=Je-Xe,Jt=Ve+Te,Ze=Ve-Te,Ut=ve+Oe,tt=ve-Oe,lt=mt+Ut,Yt=mt-Ut,yt=gt+Jt,Qe=gt-Jt;ke[Ie]=lt+yt,ke[Ie+4]=lt-yt;var Et=.707106781*(Qe+Yt);ke[Ie+2]=Yt+Et,ke[Ie+6]=Yt-Et;var Ca=.382683433*((lt=tt+Ze)-(Qe=vt+wt)),Gr=.5411961*lt+Ca,Yi=1.306562965*Qe+Ca,Li=.707106781*(yt=Ze+vt),et=wt+Li,Zi=wt-Li;ke[Ie+5]=Zi+Gr,ke[Ie+3]=Zi-Gr,ke[Ie+1]=et+Yi,ke[Ie+7]=et-Yi,Ie+=8}for(Ie=0,Be=0;Be<8;++Be){Re=ke[Ie],Je=ke[Ie+8],Ve=ke[Ie+16],ve=ke[Ie+24],Oe=ke[Ie+32],Te=ke[Ie+40],Xe=ke[Ie+48];var Xi=Re+(ot=ke[Ie+56]),qn=Re-ot,Wn=Je+Xe,ir=Je-Xe,Tr=Ve+Te,Mr=Ve-Te,Ta=ve+Oe,Ps=ve-Oe,oi=Xi+Ta,Ei=Xi-Ta,li=Wn+Tr,ui=Wn-Tr;ke[Ie]=oi+li,ke[Ie+32]=oi-li;var Hn=.707106781*(ui+Ei);ke[Ie+16]=Ei+Hn,ke[Ie+48]=Ei-Hn;var Oa=.382683433*((oi=Ps+Mr)-(ui=ir+qn)),Pi=.5411961*oi+Oa,Ia=1.306562965*ui+Oa,jo=.707106781*(li=Mr+ir),Lo=qn+jo,Eo=qn-jo;ke[Ie+40]=Eo+Pi,ke[Ie+24]=Eo-Pi,ke[Ie+8]=Lo+Ia,ke[Ie+56]=Lo-Ia,Ie++}for(Be=0;Be<64;++Be)nt=ke[Be]*Ke[Be],p[Be]=nt>0?nt+.5|0:nt-.5|0;return p}(A,D),xe=0;xe<64;++xe)_[Y[xe]]=fe[xe];var Le=_[0]-H;H=_[0],Le==0?ue(X[0]):(ue(X[v[ie=32767+Le]]),ue(m[ie]));for(var Pe=63;Pe>0&&_[Pe]==0;)Pe--;if(Pe==0)return ue(ge),H;for(var He,U=1;U<=Pe;){for(var Ce=U;_[U]==0&&U<=Pe;)++U;var ct=U-Ce;if(ct>=16){He=ct>>4;for(var Ye=1;Ye<=He;++Ye)ue(te);ct&=15}ie=32767+_[U],ue(ee[(ct<<4)+v[ie]]),ue(m[ie]),U++}return Pe!=63&&ue(ge),H}function se(A){A=Math.min(Math.max(A,1),100),s!=A&&(function(D){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var ee=a((H[X]*D+50)/100);ee=Math.min(Math.max(ee,1),255),o[Y[X]]=ee}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var te=a((ie[ge]*D+50)/100);te=Math.min(Math.max(te,1),255),l[Y[ge]]=te}for(var fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,Le=0;Le<8;Le++)for(var Pe=0;Pe<8;Pe++)c[xe]=1/(o[Y[xe]]*fe[Le]*fe[Pe]*8),d[xe]=1/(l[Y[xe]]*fe[Le]*fe[Pe]*8),xe++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),s=A)}this.encode=function(A,D){D&&se(D),S=new Array,k=0,w=7,R(65496),R(65504),R(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),R(1),R(1),Z(0),Z(0),function(){R(65499),R(132),Z(0);for(var Je=0;Je<64;Je++)Z(o[Je]);Z(1);for(var Ve=0;Ve<64;Ve++)Z(l[Ve])}(),function(Je,Ve){R(65472),R(17),Z(8),R(Ve),R(Je),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(A.width,A.height),function(){R(65476),R(418),Z(0);for(var Je=0;Je<16;Je++)Z(B[Je+1]);for(var Ve=0;Ve<=11;Ve++)Z(O[Ve]);Z(16);for(var ve=0;ve<16;ve++)Z(q[ve+1]);for(var Oe=0;Oe<=161;Oe++)Z(C[Oe]);Z(1);for(var Te=0;Te<16;Te++)Z(M[Te+1]);for(var Xe=0;Xe<=11;Xe++)Z(K[Xe]);Z(17);for(var ot=0;ot<16;ot++)Z(J[ot+1]);for(var Be=0;Be<=161;Be++)Z(he[Be])}(),R(65498),R(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var H=0,X=0,ee=0;k=0,w=7,this.encode.displayName="_encode_";for(var ie,ge,te,fe,xe,Le,Pe,He,U,Ce=A.data,ct=A.width,Ye=A.height,ke=4*ct,Ke=0;Ke<Ye;){for(ie=0;ie<ke;){for(xe=ke*Ke+ie,Pe=-1,He=0,U=0;U<64;U++)Le=xe+(He=U>>3)*ke+(Pe=4*(7&U)),Ke+He>=Ye&&(Le-=ke*(Ke+1+He-Ye)),ie+Pe>=ke&&(Le-=ie+Pe-ke+4),ge=Ce[Le++],te=Ce[Le++],fe=Ce[Le++],x[U]=(V[ge]+V[te+256|0]+V[fe+512|0]>>16)-128,N[U]=(V[ge+768|0]+V[te+1024|0]+V[fe+1280|0]>>16)-128,E[U]=(V[ge+1280|0]+V[te+1536|0]+V[fe+1792|0]>>16)-128;H=oe(x,c,H,t,n),X=oe(N,d,X,r,i),ee=oe(E,d,ee,r,i),ie+=32}Ke+=8}if(w>=0){var Re=[];Re[1]=w+1,Re[0]=(1<<w+1)-1,ue(Re)}return R(65497),new Uint8Array(S)},e=e||50,function(){for(var A=String.fromCharCode,D=0;D<256;D++)G[D]=A(D)}(),t=me(B,O),r=me(M,K),n=me(q,C),i=me(J,he),function(){for(var A=1,D=2,H=1;H<=15;H++){for(var X=A;X<D;X++)v[32767+X]=H,m[32767+X]=[],m[32767+X][1]=H,m[32767+X][0]=X;for(var ee=-(D-1);ee<=-A;ee++)v[32767+ee]=H,m[32767+ee]=[],m[32767+ee][1]=H,m[32767+ee][0]=D-1+ee;A<<=1,D<<=1}}(),function(){for(var A=0;A<256;A++)V[A]=19595*A,V[A+256|0]=38470*A,V[A+512|0]=7471*A+32768,V[A+768|0]=-11059*A,V[A+1024|0]=-21709*A,V[A+1280|0]=32768*A+8421375,V[A+1536|0]=-27439*A,V[A+1792|0]=-5329*A}(),se(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function gi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function yy(e){function t(O){if(!O)throw Error("assert :P")}function r(O,q,C){for(var M=0;4>M;M++)if(O[q+M]!=C.charCodeAt(M))return!0;return!1}function n(O,q,C,M,K){for(var J=0;J<K;J++)O[q+J]=C[M+J]}function i(O,q,C,M){for(var K=0;K<M;K++)O[q+K]=C}function s(O){return new Int32Array(O)}function a(O,q){for(var C=[],M=0;M<O;M++)C.push(new q);return C}function o(O,q){var C=[];return function M(K,J,he){for(var me=he[J],ue=0;ue<me&&(K.push(he.length>J+1?[]:new q),!(he.length<J+1));ue++)M(K[ue],J+1,he)}(C,0,O),C}var l=function(){var O=this;function q(u,h){for(var y=1<<h-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function C(u,h,y,b,L){t(!(b%y));do u[h+(b-=y)]=L;while(0<b)}function M(u,h,y,b,L){if(t(2328>=L),512>=L)var P=s(512);else if((P=s(L))==null)return 0;return function(T,I,F,z,re,de){var $,ne,le=I,ye=1<<F,ce=s(16),we=s(16);for(t(re!=0),t(z!=null),t(T!=null),t(0<F),ne=0;ne<re;++ne){if(15<z[ne])return 0;++ce[z[ne]]}if(ce[0]==re)return 0;for(we[1]=0,$=1;15>$;++$){if(ce[$]>1<<$)return 0;we[$+1]=we[$]+ce[$]}for(ne=0;ne<re;++ne)$=z[ne],0<z[ne]&&(de[we[$]++]=ne);if(we[15]==1)return(z=new K).g=0,z.value=de[0],C(T,le,1,ye,z),ye;var _e,Ae=-1,Ne=ye-1,We=0,Me=1,ft=1,ze=1<<F;for(ne=0,$=1,re=2;$<=F;++$,re<<=1){if(Me+=ft<<=1,0>(ft-=ce[$]))return 0;for(;0<ce[$];--ce[$])(z=new K).g=$,z.value=de[ne++],C(T,le+We,re,ze,z),We=q(We,$)}for($=F+1,re=2;15>=$;++$,re<<=1){if(Me+=ft<<=1,0>(ft-=ce[$]))return 0;for(;0<ce[$];--ce[$]){if(z=new K,(We&Ne)!=Ae){for(le+=ze,_e=1<<(Ae=$)-F;15>Ae&&!(0>=(_e-=ce[Ae]));)++Ae,_e<<=1;ye+=ze=1<<(_e=Ae-F),T[I+(Ae=We&Ne)].g=_e+F,T[I+Ae].value=le-I-Ae}z.g=$-F,z.value=de[ne++],C(T,le+(We>>F),re,ze,z),We=q(We,$)}}return Me!=2*we[15]-1?0:ye}(u,h,y,b,L,P)}function K(){this.value=this.g=0}function J(){this.value=this.g=0}function he(){this.G=a(5,K),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ha,J)}function me(u,h,y,b){t(u!=null),t(h!=null),t(2147483648>b),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=y,u.Jd=h,u.Yc=y+b,u.Zc=4<=b?y+b-4+1:y,ge(u)}function ue(u,h){for(var y=0;0<h--;)y|=fe(u,128)<<h;return y}function Z(u,h){var y=ue(u,h);return te(u)?-y:y}function R(u,h,y,b){var L,P=0;for(t(u!=null),t(h!=null),t(4294967288>b),u.Sb=b,u.Ra=0,u.u=0,u.h=0,4<b&&(b=4),L=0;L<b;++L)P+=h[y+L]<<8*L;u.Ra=P,u.bb=b,u.oa=h,u.pa=y}function oe(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Is-8>>>0,++u.bb,u.u-=8;X(u)&&(u.h=1,u.u=0)}function se(u,h){if(t(0<=h),!u.h&&h<=An){var y=H(u)&kn[h];return u.u+=h,oe(u),y}return u.h=1,u.u=0}function A(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(u){return u.Ra>>>(u.u&Is-1)>>>0}function X(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Is}function ee(u,h){u.u=h,u.h=X(u)}function ie(u){u.u>=us&&(t(u.u>=us),oe(u))}function ge(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function te(u){return ue(u,1)}function fe(u,h){var y=u.Ca;0>u.b&&ge(u);var b=u.b,L=y*h>>>8,P=(u.I>>>b>L)+0;for(P?(y-=L,u.I-=L+1<<b>>>0):y=L+1,b=y,L=0;256<=b;)L+=8,b>>=8;return b=7^L+Rs[b],u.b-=b,u.Ca=(y<<b)-1,P}function xe(u,h,y){u[h+0]=y>>24&255,u[h+1]=y>>16&255,u[h+2]=y>>8&255,u[h+3]=255&y}function Le(u,h){return u[h+0]|u[h+1]<<8}function Pe(u,h){return Le(u,h)|u[h+2]<<16}function He(u,h){return Le(u,h)|Le(u,h+2)<<16}function U(u,h){var y=1<<h;return t(u!=null),t(0<h),u.X=s(y),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function Ce(u,h){t(u!=null),t(h!=null),t(u.Xa==h.Xa),n(h.X,0,u.X,0,1<<h.Xa)}function ct(){this.X=[],this.Xa=this.Mb=0}function Ye(u,h,y,b){t(y!=null),t(b!=null);var L=y[0],P=b[0];return L==0&&(L=(u*P+h/2)/h),P==0&&(P=(h*L+u/2)/u),0>=L||0>=P?0:(y[0]=L,b[0]=P,1)}function ke(u,h){return u+(1<<h)-1>>>h}function Ke(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function Re(u,h){O[h]=function(y,b,L,P,T,I,F){var z;for(z=0;z<T;++z){var re=O[u](I[F+z-1],L,P+z);I[F+z]=Ke(y[b+z],re)}}}function Je(){this.ud=this.hd=this.jd=0}function Ve(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function ve(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Oe(u,h){return ve(u+(u-h+.5>>1))}function Te(u,h,y){return Math.abs(h-y)-Math.abs(u-y)}function Xe(u,h,y,b,L,P,T){for(b=P[T-1],y=0;y<L;++y)P[T+y]=b=Ke(u[h+y],b)}function ot(u,h,y,b,L){var P;for(P=0;P<y;++P){var T=u[h+P],I=T>>8&255,F=16711935&(F=(F=16711935&T)+((I<<16)+I));b[L+P]=(4278255360&T)+F>>>0}}function Be(u,h){h.jd=255&u,h.hd=u>>8&255,h.ud=u>>16&255}function nt(u,h,y,b,L,P){var T;for(T=0;T<b;++T){var I=h[y+T],F=I>>>8,z=I,re=255&(re=(re=I>>>16)+((u.jd<<24>>24)*(F<<24>>24)>>>5));z=255&(z=(z+=(u.hd<<24>>24)*(F<<24>>24)>>>5)+((u.ud<<24>>24)*(re<<24>>24)>>>5)),L[P+T]=(4278255360&I)+(re<<16)+z}}function Ie(u,h,y,b,L){O[h]=function(P,T,I,F,z,re,de,$,ne){for(F=de;F<$;++F)for(de=0;de<ne;++de)z[re++]=L(I[b(P[T++])])},O[u]=function(P,T,I,F,z,re,de){var $=8>>P.b,ne=P.Ea,le=P.K[0],ye=P.w;if(8>$)for(P=(1<<P.b)-1,ye=(1<<$)-1;T<I;++T){var ce,we=0;for(ce=0;ce<ne;++ce)ce&P||(we=b(F[z++])),re[de++]=L(le[we&ye]),we>>=$}else O["VP8LMapColor"+y](F,z,le,ye,re,de,T,I,ne)}}function mt(u,h,y,b,L){for(y=h+y;h<y;){var P=u[h++];b[L++]=P>>16&255,b[L++]=P>>8&255,b[L++]=255&P}}function wt(u,h,y,b,L){for(y=h+y;h<y;){var P=u[h++];b[L++]=P>>16&255,b[L++]=P>>8&255,b[L++]=255&P,b[L++]=P>>24&255}}function gt(u,h,y,b,L){for(y=h+y;h<y;){var P=(T=u[h++])>>16&240|T>>12&15,T=240&T|T>>28&15;b[L++]=P,b[L++]=T}}function vt(u,h,y,b,L){for(y=h+y;h<y;){var P=(T=u[h++])>>16&248|T>>13&7,T=T>>5&224|T>>3&31;b[L++]=P,b[L++]=T}}function Jt(u,h,y,b,L){for(y=h+y;h<y;){var P=u[h++];b[L++]=255&P,b[L++]=P>>8&255,b[L++]=P>>16&255}}function Ze(u,h,y,b,L,P){if(P==0)for(y=h+y;h<y;)xe(b,((P=u[h++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),L+=32;else n(b,L,u,h,y)}function Ut(u,h){O[h][0]=O[u+"0"],O[h][1]=O[u+"1"],O[h][2]=O[u+"2"],O[h][3]=O[u+"3"],O[h][4]=O[u+"4"],O[h][5]=O[u+"5"],O[h][6]=O[u+"6"],O[h][7]=O[u+"7"],O[h][8]=O[u+"8"],O[h][9]=O[u+"9"],O[h][10]=O[u+"10"],O[h][11]=O[u+"11"],O[h][12]=O[u+"12"],O[h][13]=O[u+"13"],O[h][14]=O[u+"0"],O[h][15]=O[u+"0"]}function tt(u){return u==a0||u==o0||u==bd||u==l0}function lt(){this.eb=[],this.size=this.A=this.fb=0}function Yt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new lt,this.f.kb=new Yt,this.sd=null}function Qe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Et(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ca(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Gr(u,h){var y=u.T,b=h.ba.f.RGBA,L=b.eb,P=b.fb+u.ka*b.A,T=Zn[h.ba.S],I=u.y,F=u.O,z=u.f,re=u.N,de=u.ea,$=u.W,ne=h.cc,le=h.dc,ye=h.Mc,ce=h.Nc,we=u.ka,_e=u.ka+u.T,Ae=u.U,Ne=Ae+1>>1;for(we==0?T(I,F,null,null,z,re,de,$,z,re,de,$,L,P,null,null,Ae):(T(h.ec,h.fc,I,F,ne,le,ye,ce,z,re,de,$,L,P-b.A,L,P,Ae),++y);we+2<_e;we+=2)ne=z,le=re,ye=de,ce=$,re+=u.Rc,$+=u.Rc,P+=2*b.A,T(I,(F+=2*u.fa)-u.fa,I,F,ne,le,ye,ce,z,re,de,$,L,P-b.A,L,P,Ae);return F+=u.fa,u.j+_e<u.o?(n(h.ec,h.fc,I,F,Ae),n(h.cc,h.dc,z,re,Ne),n(h.Mc,h.Nc,de,$,Ne),y--):1&_e||T(I,F,null,null,z,re,de,$,z,re,de,$,L,P+b.A,null,null,Ae),y}function Yi(u,h,y){var b=u.F,L=[u.J];if(b!=null){var P=u.U,T=h.ba.S,I=T==wd||T==bd;h=h.ba.f.RGBA;var F=[0],z=u.ka;F[0]=u.T,u.Kb&&(z==0?--F[0]:(--z,L[0]-=u.width),u.j+u.ka+u.T==u.o&&(F[0]=u.o-u.j-z));var re=h.eb;z=h.fb+z*h.A,u=kg(b,L[0],u.width,P,F,re,z+(I?0:3),h.A),t(y==F),u&&tt(T)&&yu(re,z,I,P,F,h.A)}return 0}function Li(u){var h=u.ma,y=h.ba.S,b=11>y,L=y==vd||y==yd||y==wd||y==s0||y==12||tt(y);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!cu(h.Oa,u,L?11:12))return 0;if(L&&tt(y)&&ou(),u.da)alert("todo:use_scaling");else{if(b){if(h.Ib=Ca,u.Kb){if(y=u.U+1>>1,h.memory=s(u.U+2*y),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+y,h.Ib=Gr,ou()}}else alert("todo:EmitYUV");L&&(h.Jb=Yi,b&&di())}if(b&&!$g){for(u=0;256>u;++u)Yx[u]=89858*(u-128)+xd>>_d,Qx[u]=-22014*(u-128)+xd,Xx[u]=-45773*(u-128),Zx[u]=113618*(u-128)+xd>>_d;for(u=bu;u<d0;++u)h=76283*(u-16)+xd>>_d,e3[u-bu]=Ci(h,255),t3[u-bu]=Ci(h+8>>4,15);$g=1}return 1}function et(u){var h=u.ma,y=u.U,b=u.T;return t(!(1&u.ka)),0>=y||0>=b?0:(y=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,y),h.Dc+=y,1)}function Zi(u){u.ma.memory=null}function Xi(u,h,y,b){return se(u,8)!=47?0:(h[0]=se(u,14)+1,y[0]=se(u,14)+1,b[0]=se(u,1),se(u,3)!=0?0:!u.h)}function qn(u,h){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+se(h,y)+1}function Wn(u,h){return 120<h?h-120:1<=(y=((y=Fx[h-1])>>4)*u+(8-(15&y)))?y:1;var y}function ir(u,h,y){var b=H(y),L=u[h+=255&b].g-8;return 0<L&&(ee(y,y.u+8),b=H(y),h+=u[h].value,h+=b&(1<<L)-1),ee(y,y.u+u[h].g),u[h].value}function Tr(u,h,y){return y.g+=u.g,y.value+=u.value<<h>>>0,t(8>=y.g),u.g}function Mr(u,h,y){var b=u.xc;return t((h=b==0?0:u.vc[u.md*(y>>b)+(h>>b)])<u.Wb),u.Ya[h]}function Ta(u,h,y,b){var L=u.ab,P=u.c*h,T=u.C;h=T+h;var I=y,F=b;for(b=u.Ta,y=u.Ua;0<L--;){var z=u.gc[L],re=T,de=h,$=I,ne=F,le=(F=b,I=y,z.Ea);switch(t(re<de),t(de<=z.nc),z.hc){case 2:ur($,ne,(de-re)*le,F,I);break;case 0:var ye=re,ce=de,we=F,_e=I,Ae=(ze=z).Ea;ye==0&&(hu($,ne,null,null,1,we,_e),Xe($,ne+1,0,0,Ae-1,we,_e+1),ne+=Ae,_e+=Ae,++ye);for(var Ne=1<<ze.b,We=Ne-1,Me=ke(Ae,ze.b),ft=ze.K,ze=ze.w+(ye>>ze.b)*Me;ye<ce;){var xt=ft,kr=ze,pt=1;for(Mo($,ne,we,_e-Ae,1,we,_e);pt<Ae;){var $e=(pt&~We)+Ne;$e>Ae&&($e=Ae),(0,pu[xt[kr++]>>8&15])($,ne+ +pt,we,_e+pt-Ae,$e-pt,we,_e+pt),pt=$e}ne+=Ae,_e+=Ae,++ye&We||(ze+=Me)}de!=z.nc&&n(F,I-le,F,I+(de-re-1)*le,le);break;case 1:for(le=$,ce=ne,Ae=($=z.Ea)-(_e=$&~(we=(ne=1<<z.b)-1)),ye=ke($,z.b),Ne=z.K,z=z.w+(re>>z.b)*ye;re<de;){for(We=Ne,Me=z,ft=new Je,ze=ce+_e,xt=ce+$;ce<ze;)Be(We[Me++],ft),mu(ft,le,ce,ne,F,I),ce+=ne,I+=ne;ce<xt&&(Be(We[Me++],ft),mu(ft,le,ce,Ae,F,I),ce+=Ae,I+=Ae),++re&we||(z+=ye)}break;case 3:if($==F&&ne==I&&0<z.b){for(ce=F,$=le=I+(de-re)*le-(_e=(de-re)*ke(z.Ea,z.b)),ne=F,we=I,ye=[],_e=(Ae=_e)-1;0<=_e;--_e)ye[_e]=ne[we+_e];for(_e=Ae-1;0<=_e;--_e)ce[$+_e]=ye[_e];fd(z,re,de,F,le,F,I)}else fd(z,re,de,$,ne,F,I)}I=b,F=y}F!=y&&n(b,y,I,F,P)}function Ps(u,h){var y=u.V,b=u.Ba+u.c*u.C,L=h-u.C;if(t(h<=u.l.o),t(16>=L),0<L){var P=u.l,T=u.Ta,I=u.Ua,F=P.width;if(Ta(u,L,y,b),L=I=[I],t((y=u.C)<(b=h)),t(P.v<P.va),b>P.o&&(b=P.o),y<P.j){var z=P.j-y;y=P.j,L[0]+=z*F}if(y>=b?y=0:(L[0]+=4*P.v,P.ka=y-P.j,P.U=P.va-P.v,P.T=b-y,y=1),y){if(I=I[0],11>(y=u.ca).S){var re=y.f.RGBA,de=(b=y.S,L=P.U,P=P.T,z=re.eb,re.A),$=P;for(re=re.fb+u.Ma*re.A;0<$--;){var ne=T,le=I,ye=L,ce=z,we=re;switch(b){case gd:gu(ne,le,ye,ce,we);break;case vd:Fs(ne,le,ye,ce,we);break;case a0:Fs(ne,le,ye,ce,we),yu(ce,we,0,ye,1,0);break;case Tg:Va(ne,le,ye,ce,we);break;case yd:Ze(ne,le,ye,ce,we,1);break;case o0:Ze(ne,le,ye,ce,we,1),yu(ce,we,0,ye,1,0);break;case wd:Ze(ne,le,ye,ce,we,0);break;case bd:Ze(ne,le,ye,ce,we,0),yu(ce,we,1,ye,1,0);break;case s0:Ms(ne,le,ye,ce,we);break;case l0:Ms(ne,le,ye,ce,we),Ng(ce,we,ye,1,0);break;case Og:Ds(ne,le,ye,ce,we);break;default:t(0)}I+=F,re+=de}u.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=y.height)}}u.C=h,t(u.C<=u.i)}function oi(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var y=u.Ya[h].G,b=u.Ya[h].H;if(0<y[1][b[1]+0].g||0<y[2][b[2]+0].g||0<y[3][b[3]+0].g)return 0}return 1}function Ei(u,h,y,b,L,P){if(u.Z!=0){var T=u.qd,I=u.rd;for(t(zs[u.Z]!=null);h<y;++h)zs[u.Z](T,I,b,L,b,L,P),T=b,I=L,L+=P;u.qd=T,u.rd=I}}function li(u,h){var y=u.l.ma,b=y.Z==0||y.Z==1?u.l.j:u.C;if(b=u.C<b?b:u.C,t(h<=u.l.o),h>b){var L=u.l.width,P=y.ca,T=y.tb+L*b,I=u.V,F=u.Ba+u.c*b,z=u.gc;t(u.ab==1),t(z[0].hc==3),Ri(z[0],b,h,I,F,P,T),Ei(y,b,h,P,T,L)}u.C=u.Ma=h}function ui(u,h,y,b,L,P,T){var I=u.$/b,F=u.$%b,z=u.m,re=u.s,de=y+u.$,$=de;L=y+b*L;var ne=y+b*P,le=280+re.ua,ye=u.Pb?I:16777216,ce=0<re.ua?re.Wa:null,we=re.wc,_e=de<ne?Mr(re,F,I):null;t(u.C<P),t(ne<=L);var Ae=!1;e:for(;;){for(;Ae||de<ne;){var Ne=0;if(I>=ye){var We=de-y;t((ye=u).Pb),ye.wd=ye.m,ye.xd=We,0<ye.s.ua&&Ce(ye.s.Wa,ye.s.vb),ye=I+Dx}if(F&we||(_e=Mr(re,F,I)),t(_e!=null),_e.Qb&&(h[de]=_e.qb,Ae=!0),!Ae)if(ie(z),_e.jc){Ne=z,We=h;var Me=de,ft=_e.pd[H(Ne)&Ha-1];t(_e.jc),256>ft.g?(ee(Ne,Ne.u+ft.g),We[Me]=ft.value,Ne=0):(ee(Ne,Ne.u+ft.g-256),t(256<=ft.value),Ne=ft.value),Ne==0&&(Ae=!0)}else Ne=ir(_e.G[0],_e.H[0],z);if(z.h)break;if(Ae||256>Ne){if(!Ae)if(_e.nd)h[de]=(_e.qb|Ne<<8)>>>0;else{if(ie(z),Ae=ir(_e.G[1],_e.H[1],z),ie(z),We=ir(_e.G[2],_e.H[2],z),Me=ir(_e.G[3],_e.H[3],z),z.h)break;h[de]=(Me<<24|Ae<<16|Ne<<8|We)>>>0}if(Ae=!1,++de,++F>=b&&(F=0,++I,T!=null&&I<=P&&!(I%16)&&T(u,I),ce!=null))for(;$<de;)Ne=h[$++],ce.X[(506832829*Ne&4294967295)>>>ce.Mb]=Ne}else if(280>Ne){if(Ne=qn(Ne-256,z),We=ir(_e.G[4],_e.H[4],z),ie(z),We=Wn(b,We=qn(We,z)),z.h)break;if(de-y<We||L-de<Ne)break e;for(Me=0;Me<Ne;++Me)h[de+Me]=h[de+Me-We];for(de+=Ne,F+=Ne;F>=b;)F-=b,++I,T!=null&&I<=P&&!(I%16)&&T(u,I);if(t(de<=L),F&we&&(_e=Mr(re,F,I)),ce!=null)for(;$<de;)Ne=h[$++],ce.X[(506832829*Ne&4294967295)>>>ce.Mb]=Ne}else{if(!(Ne<le))break e;for(Ae=Ne-280,t(ce!=null);$<de;)Ne=h[$++],ce.X[(506832829*Ne&4294967295)>>>ce.Mb]=Ne;Ne=de,t(!(Ae>>>(We=ce).Xa)),h[Ne]=We.X[Ae],Ae=!0}Ae||t(z.h==X(z))}if(u.Pb&&z.h&&de<L)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&Ce(u.s.vb,u.s.Wa);else{if(z.h)break e;T!=null&&T(u,I>P?P:I),u.a=0,u.$=de-y}return 1}return u.a=3,0}function Hn(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,t(u!=null)}function Oa(){var u=new it;return u==null?null:(u.a=0,u.xb=Fg,Ut("Predictor","VP8LPredictors"),Ut("Predictor","VP8LPredictors_C"),Ut("PredictorAdd","VP8LPredictorsAdd"),Ut("PredictorAdd","VP8LPredictorsAdd_C"),ur=ot,mu=nt,gu=mt,Fs=wt,Ms=gt,Ds=vt,Va=Jt,O.VP8LMapColor32b=Ii,O.VP8LMapColor8b=fu,u)}function Pi(u,h,y,b,L){var P=1,T=[u],I=[h],F=b.m,z=b.s,re=null,de=0;e:for(;;){if(y)for(;P&&se(F,1);){var $=T,ne=I,le=b,ye=1,ce=le.m,we=le.gc[le.ab],_e=se(ce,2);if(le.Oc&1<<_e)P=0;else{switch(le.Oc|=1<<_e,we.hc=_e,we.Ea=$[0],we.nc=ne[0],we.K=[null],++le.ab,t(4>=le.ab),_e){case 0:case 1:we.b=se(ce,3)+2,ye=Pi(ke(we.Ea,we.b),ke(we.nc,we.b),0,le,we.K),we.K=we.K[0];break;case 3:var Ae,Ne=se(ce,8)+1,We=16<Ne?0:4<Ne?1:2<Ne?2:3;if($[0]=ke(we.Ea,We),we.b=We,Ae=ye=Pi(Ne,1,0,le,we.K)){var Me,ft=Ne,ze=we,xt=1<<(8>>ze.b),kr=s(xt);if(kr==null)Ae=0;else{var pt=ze.K[0],$e=ze.w;for(kr[0]=ze.K[0][0],Me=1;Me<1*ft;++Me)kr[Me]=Ke(pt[$e+Me],kr[Me-1]);for(;Me<4*xt;++Me)kr[Me]=0;ze.K[0]=null,ze.K[0]=kr,Ae=1}}ye=Ae;break;case 2:break;default:t(0)}P=ye}}if(T=T[0],I=I[0],P&&se(F,1)&&!(P=1<=(de=se(F,4))&&11>=de)){b.a=3;break e}var Ee;if(Ee=P)t:{var dr,ut,Nt,Ht=b,Ur=T,an=I,sr=de,Kr=y,on=Ht.m,Ar=Ht.s,At=[null],Ct=1,ar=0,Tt=Mx[sr];r:for(;;){if(Kr&&se(on,1)){var zr=se(on,3)+2,fi=ke(Ur,zr),hr=ke(an,zr),mn=fi*hr;if(!Pi(fi,hr,0,Ht,At))break r;for(At=At[0],Ar.xc=zr,dr=0;dr<mn;++dr){var Mt=At[dr]>>8&65535;At[dr]=Mt,Mt>=Ct&&(Ct=Mt+1)}}if(on.h)break r;for(ut=0;5>ut;++ut){var jr=Ig[ut];!ut&&0<sr&&(jr+=1<<sr),ar<jr&&(ar=jr)}var Ln=a(Ct*Tt,K),ln=Ct,En=a(ln,he);if(En==null)var Pn=null;else t(65536>=ln),Pn=En;var gn=s(ar);if(Pn==null||gn==null||Ln==null){Ht.a=1;break r}var Cn=Ln;for(dr=Nt=0;dr<Ct;++dr){var $t=Pn[dr],Tn=$t.G,pi=$t.H,Ka=0,hs=1,$r=0;for(ut=0;5>ut;++ut){jr=Ig[ut],Tn[ut]=Cn,pi[ut]=Nt,!ut&&0<sr&&(jr+=1<<sr);i:{var Nd,h0=jr,kd=Ht,_u=gn,i3=Cn,s3=Nt,f0=0,$s=kd.m,a3=se($s,1);if(i(_u,0,0,h0),a3){var o3=se($s,1)+1,l3=se($s,1),Hg=se($s,l3==0?1:8);_u[Hg]=1,o3==2&&(_u[Hg=se($s,8)]=1);var Ad=1}else{var Vg=s(19),Gg=se($s,4)+4;if(19<Gg){kd.a=3;var jd=0;break i}for(Nd=0;Nd<Gg;++Nd)Vg[Rx[Nd]]=se($s,3);var p0=void 0,xu=void 0,Kg=kd,u3=Vg,Ld=h0,Jg=_u,m0=0,qs=Kg.m,Yg=8,Zg=a(128,K);n:for(;M(Zg,0,7,u3,19);){if(se(qs,1)){var c3=2+2*se(qs,3);if((p0=2+se(qs,c3))>Ld)break n}else p0=Ld;for(xu=0;xu<Ld&&p0--;){ie(qs);var Xg=Zg[0+(127&H(qs))];ee(qs,qs.u+Xg.g);var Bo=Xg.value;if(16>Bo)Jg[xu++]=Bo,Bo!=0&&(Yg=Bo);else{var d3=Bo==16,Qg=Bo-16,h3=Ox[Qg],e2=se(qs,Tx[Qg])+h3;if(xu+e2>Ld)break n;for(var f3=d3?Yg:0;0<e2--;)Jg[xu++]=f3}}m0=1;break n}m0||(Kg.a=3),Ad=m0}(Ad=Ad&&!$s.h)&&(f0=M(i3,s3,8,_u,h0)),Ad&&f0!=0?jd=f0:(kd.a=3,jd=0)}if(jd==0)break r;if(hs&&Ix[ut]==1&&(hs=Cn[Nt].g==0),Ka+=Cn[Nt].g,Nt+=jd,3>=ut){var Su,g0=gn[0];for(Su=1;Su<jr;++Su)gn[Su]>g0&&(g0=gn[Su]);$r+=g0}}if($t.nd=hs,$t.Qb=0,hs&&($t.qb=(Tn[3][pi[3]+0].value<<24|Tn[1][pi[1]+0].value<<16|Tn[2][pi[2]+0].value)>>>0,Ka==0&&256>Tn[0][pi[0]+0].value&&($t.Qb=1,$t.qb+=Tn[0][pi[0]+0].value<<8)),$t.jc=!$t.Qb&&6>$r,$t.jc){var Ed,fs=$t;for(Ed=0;Ed<Ha;++Ed){var Ws=Ed,Hs=fs.pd[Ws],Pd=fs.G[0][fs.H[0]+Ws];256<=Pd.value?(Hs.g=Pd.g+256,Hs.value=Pd.value):(Hs.g=0,Hs.value=0,Ws>>=Tr(Pd,8,Hs),Ws>>=Tr(fs.G[1][fs.H[1]+Ws],16,Hs),Ws>>=Tr(fs.G[2][fs.H[2]+Ws],0,Hs),Tr(fs.G[3][fs.H[3]+Ws],24,Hs))}}}Ar.vc=At,Ar.Wb=Ct,Ar.Ya=Pn,Ar.yc=Ln,Ee=1;break t}Ee=0}if(!(P=Ee)){b.a=3;break e}if(0<de){if(z.ua=1<<de,!U(z.Wa,de)){b.a=1,P=0;break e}}else z.ua=0;var v0=b,t2=T,p3=I,y0=v0.s,w0=y0.xc;if(v0.c=t2,v0.i=p3,y0.md=ke(t2,w0),y0.wc=w0==0?-1:(1<<w0)-1,y){b.xb=Hx;break e}if((re=s(T*I))==null){b.a=1,P=0;break e}P=(P=ui(b,re,0,T,I,I,null))&&!F.h;break e}return P?(L!=null?L[0]=re:(t(re==null),t(y)),b.$=0,y||Hn(z)):Hn(z),P}function Ia(u,h){var y=u.c*u.i,b=y+h+16*h;return t(u.c<=h),u.V=s(b),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+h,1)}function jo(u,h){var y=u.C,b=h-y,L=u.V,P=u.Ba+u.c*y;for(t(h<=u.l.o);0<b;){var T=16<b?16:b,I=u.l.ma,F=u.l.width,z=F*T,re=I.ca,de=I.tb+F*y,$=u.Ta,ne=u.Ua;Ta(u,T,L,P),Ag($,ne,re,de,z),Ei(I,y,y+T,re,de,F),b-=T,L+=T*u.c,y+=T}t(y==h),u.C=u.Ma=h}function Lo(){this.ub=this.yd=this.td=this.Rb=0}function Eo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $f(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Yl(){this.Yb=function(){var u=[];return function h(y,b,L){for(var P=L[b],T=0;T<P&&(y.push(L.length>b+1?[]:0),!(L.length<b+1));T++)h(y[T],b+1,L)}(u,0,[3,11]),u}()}function Jc(){this.jb=s(3),this.Wc=o([4,8],Yl),this.Xc=o([4,17],Yl)}function Yc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Vn(){this.ld=this.La=this.dd=this.tc=0}function Zl(){this.Na=this.la=0}function Zc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Xc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vn),this.Y=0,this.ya=Array(new Xl),this.aa=0,this.l=new Po}function Qc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ed(){this.cb=this.a=0,this.sc="",this.m=new A,this.Od=new Lo,this.Kc=new Eo,this.ed=new Yc,this.Qa=new $f,this.Ic=this.$c=this.Aa=0,this.D=new Xc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,A),this.ia=0,this.pb=a(4,Zc),this.Pa=new Jc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qc),this.Hd=0,this.rb=Array(new Zl),this.sb=0,this.wa=Array(new Vn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xl),this.L=this.aa=0,this.gd=o([4,2],Vn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ci(u,h){return 0>u?0:u>h?h:u}function Po(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qf(){var u=new ed;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,wu||(wu=Co)),u}function yr(u,h,y){return u.a==0&&(u.a=h,u.sc=y,u.cb=0),0}function td(u,h,y){return 3<=y&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function Ti(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return yr(u,2,"null VP8Io passed to VP8GetHeaders()");var y=h.data,b=h.w,L=h.ha;if(4>L)return yr(u,7,"Truncated header.");var P=y[b+0]|y[b+1]<<8|y[b+2]<<16,T=u.Od;if(T.Rb=!(1&P),T.td=P>>1&7,T.yd=P>>4&1,T.ub=P>>5,3<T.td)return yr(u,3,"Incorrect keyframe parameters.");if(!T.yd)return yr(u,4,"Frame not displayable.");b+=3,L-=3;var I=u.Kc;if(T.Rb){if(7>L)return yr(u,7,"cannot parse picture header");if(!td(y,b,L))return yr(u,3,"Bad code word");I.c=16383&(y[b+4]<<8|y[b+3]),I.Td=y[b+4]>>6,I.i=16383&(y[b+6]<<8|y[b+5]),I.Ud=y[b+6]>>6,b+=7,L-=7,u.za=I.c+15>>4,u.Ub=I.i+15>>4,h.width=I.c,h.height=I.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((P=u.Pa).jb,0,255,P.jb.length),t((P=u.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,i(P.Zb,0,0,P.Zb.length),i(P.Lb,0,0,P.Lb)}if(T.ub>L)return yr(u,7,"bad partition length");me(P=u.m,y,b,T.ub),b+=T.ub,L-=T.ub,T.Rb&&(I.Ld=te(P),I.Kd=te(P)),I=u.Qa;var F,z=u.Pa;if(t(P!=null),t(I!=null),I.Cb=te(P),I.Cb){if(I.Bb=te(P),te(P)){for(I.Fb=te(P),F=0;4>F;++F)I.Zb[F]=te(P)?Z(P,7):0;for(F=0;4>F;++F)I.Lb[F]=te(P)?Z(P,6):0}if(I.Bb)for(F=0;3>F;++F)z.jb[F]=te(P)?ue(P,8):255}else I.Bb=0;if(P.Ka)return yr(u,3,"cannot parse segment header");if((I=u.ed).zd=te(P),I.Tb=ue(P,6),I.wb=ue(P,3),I.Pc=te(P),I.Pc&&te(P)){for(z=0;4>z;++z)te(P)&&(I.vd[z]=Z(P,6));for(z=0;4>z;++z)te(P)&&(I.od[z]=Z(P,6))}if(u.L=I.Tb==0?0:I.zd?1:2,P.Ka)return yr(u,3,"cannot parse filter header");var re=L;if(L=F=b,b=F+re,I=re,u.Xb=(1<<ue(u.m,2))-1,re<3*(z=u.Xb))y=7;else{for(F+=3*z,I-=3*z,re=0;re<z;++re){var de=y[L+0]|y[L+1]<<8|y[L+2]<<16;de>I&&(de=I),me(u.Jc[+re],y,F,de),F+=de,I-=de,L+=3}me(u.Jc[+z],y,F,I),y=F<b?0:5}if(y!=0)return yr(u,y,"cannot parse partitions");for(y=ue(F=u.m,7),L=te(F)?Z(F,4):0,b=te(F)?Z(F,4):0,I=te(F)?Z(F,4):0,z=te(F)?Z(F,4):0,F=te(F)?Z(F,4):0,re=u.Qa,de=0;4>de;++de){if(re.Cb){var $=re.Zb[de];re.Fb||($+=y)}else{if(0<de){u.pb[de]=u.pb[0];continue}$=y}var ne=u.pb[de];ne.Sc[0]=u0[Ci($+L,127)],ne.Sc[1]=c0[Ci($+0,127)],ne.Eb[0]=2*u0[Ci($+b,127)],ne.Eb[1]=101581*c0[Ci($+I,127)]>>16,8>ne.Eb[1]&&(ne.Eb[1]=8),ne.Qc[0]=u0[Ci($+z,117)],ne.Qc[1]=c0[Ci($+F,127)],ne.lc=$+F}if(!T.Rb)return yr(u,4,"Not a key frame.");for(te(P),T=u.Pa,y=0;4>y;++y){for(L=0;8>L;++L)for(b=0;3>b;++b)for(I=0;11>I;++I)z=fe(P,qx[y][L][b][I])?ue(P,8):zx[y][L][b][I],T.Wc[y][L].Yb[b][I]=z;for(L=0;17>L;++L)T.Xc[y][L]=T.Wc[y][Wx[L]]}return u.kc=te(P),u.kc&&(u.Bd=ue(P,8)),u.cb=1}function Co(u,h,y,b,L,P,T){var I=h[L].Yb[y];for(y=0;16>L;++L){if(!fe(u,I[y+0]))return L;for(;!fe(u,I[y+1]);)if(I=h[++L].Yb[0],y=0,L==16)return 16;var F=h[L+1].Yb;if(fe(u,I[y+2])){var z=u,re=0;if(fe(z,($=I)[(de=y)+3]))if(fe(z,$[de+6])){for(I=0,de=2*(re=fe(z,$[de+8]))+($=fe(z,$[de+9+re])),re=0,$=Bx[de];$[I];++I)re+=re+fe(z,$[I]);re+=3+(8<<de)}else fe(z,$[de+7])?(re=7+2*fe(z,165),re+=fe(z,145)):re=5+fe(z,159);else re=fe(z,$[de+4])?3+fe(z,$[de+5]):2;I=F[2]}else re=1,I=F[1];F=T+Ux[L],0>(z=u).b&&ge(z);var de,$=z.b,ne=(de=z.Ca>>1)-(z.I>>$)>>31;--z.b,z.Ca+=ne,z.Ca|=1,z.I-=(de+1&ne)<<$,P[F]=((re^ne)-ne)*b[(0<L)+0]}return 16}function rd(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function Gn(u,h,y,b,L){L=u[h+y+32*b]+(L>>3),u[h+y+32*b]=-256&L?0>L?0:255:L}function xr(u,h,y,b,L,P){Gn(u,h,0,y,b+L),Gn(u,h,1,y,b+P),Gn(u,h,2,y,b-P),Gn(u,h,3,y,b-L)}function Qi(u){return(20091*u>>16)+u}function nd(u,h,y,b){var L,P=0,T=s(16);for(L=0;4>L;++L){var I=u[h+0]+u[h+8],F=u[h+0]-u[h+8],z=(35468*u[h+4]>>16)-Qi(u[h+12]),re=Qi(u[h+4])+(35468*u[h+12]>>16);T[P+0]=I+re,T[P+1]=F+z,T[P+2]=F-z,T[P+3]=I-re,P+=4,h++}for(L=P=0;4>L;++L)I=(u=T[P+0]+4)+T[P+8],F=u-T[P+8],z=(35468*T[P+4]>>16)-Qi(T[P+12]),Gn(y,b,0,0,I+(re=Qi(T[P+4])+(35468*T[P+12]>>16))),Gn(y,b,1,0,F+z),Gn(y,b,2,0,F-z),Gn(y,b,3,0,I-re),P++,b+=32}function Wf(u,h,y,b){var L=u[h+0]+4,P=35468*u[h+4]>>16,T=Qi(u[h+4]),I=35468*u[h+1]>>16;xr(y,b,0,L+T,u=Qi(u[h+1]),I),xr(y,b,1,L+P,u,I),xr(y,b,2,L-P,u,I),xr(y,b,3,L-T,u,I)}function Hf(u,h,y,b,L){nd(u,h,y,b),L&&nd(u,h+16,y,b+4)}function Oi(u,h,y,b){Ga(u,h+0,y,b,1),Ga(u,h+32,y,b+128,1)}function id(u,h,y,b){var L;for(u=u[h+0]+4,L=0;4>L;++L)for(h=0;4>h;++h)Gn(y,b,h,L,u)}function sd(u,h,y,b){u[h+0]&&Pt(u,h+0,y,b),u[h+16]&&Pt(u,h+16,y,b+4),u[h+32]&&Pt(u,h+32,y,b+128),u[h+48]&&Pt(u,h+48,y,b+128+4)}function To(u,h,y,b){var L,P=s(16);for(L=0;4>L;++L){var T=u[h+0+L]+u[h+12+L],I=u[h+4+L]+u[h+8+L],F=u[h+4+L]-u[h+8+L],z=u[h+0+L]-u[h+12+L];P[0+L]=T+I,P[8+L]=T-I,P[4+L]=z+F,P[12+L]=z-F}for(L=0;4>L;++L)T=(u=P[0+4*L]+3)+P[3+4*L],I=P[1+4*L]+P[2+4*L],F=P[1+4*L]-P[2+4*L],z=u-P[3+4*L],y[b+0]=T+I>>3,y[b+16]=z+F>>3,y[b+32]=T-I>>3,y[b+48]=z-F>>3,b+=64}function Ra(u,h,y){var b,L=h-32,P=jn,T=255-u[L-1];for(b=0;b<y;++b){var I,F=P,z=T+u[h-1];for(I=0;I<y;++I)u[h+I]=F[z+u[L+I]];h+=32}}function Vf(u,h){Ra(u,h,4)}function Gf(u,h){Ra(u,h,8)}function Kf(u,h){Ra(u,h,16)}function Ql(u,h){var y;for(y=0;16>y;++y)n(u,h+32*y,u,h-32,16)}function ad(u,h){var y;for(y=16;0<y;--y)i(u,h,u[h-1],16),h+=32}function ci(u,h,y){var b;for(b=0;16>b;++b)i(h,y+32*b,u,16)}function Jf(u,h){var y,b=16;for(y=0;16>y;++y)b+=u[h-1+32*y]+u[h+y-32];ci(b>>5,u,h)}function Fa(u,h){var y,b=8;for(y=0;16>y;++y)b+=u[h-1+32*y];ci(b>>4,u,h)}function eu(u,h){var y,b=8;for(y=0;16>y;++y)b+=u[h+y-32];ci(b>>4,u,h)}function Yf(u,h){ci(128,u,h)}function st(u,h,y){return u+2*h+y+2>>2}function Zf(u,h){var y,b=h-32;for(b=new Uint8Array([st(u[b-1],u[b+0],u[b+1]),st(u[b+0],u[b+1],u[b+2]),st(u[b+1],u[b+2],u[b+3]),st(u[b+2],u[b+3],u[b+4])]),y=0;4>y;++y)n(u,h+32*y,b,0,b.length)}function Xf(u,h){var y=u[h-1],b=u[h-1+32],L=u[h-1+64],P=u[h-1+96];xe(u,h+0,16843009*st(u[h-1-32],y,b)),xe(u,h+32,16843009*st(y,b,L)),xe(u,h+64,16843009*st(b,L,P)),xe(u,h+96,16843009*st(L,P,P))}function Qf(u,h){var y,b=4;for(y=0;4>y;++y)b+=u[h+y-32]+u[h-1+32*y];for(b>>=3,y=0;4>y;++y)i(u,h+32*y,b,4)}function es(u,h){var y=u[h-1+0],b=u[h-1+32],L=u[h-1+64],P=u[h-1-32],T=u[h+0-32],I=u[h+1-32],F=u[h+2-32],z=u[h+3-32];u[h+0+96]=st(b,L,u[h-1+96]),u[h+1+96]=u[h+0+64]=st(y,b,L),u[h+2+96]=u[h+1+64]=u[h+0+32]=st(P,y,b),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=st(T,P,y),u[h+3+64]=u[h+2+32]=u[h+1+0]=st(I,T,P),u[h+3+32]=u[h+2+0]=st(F,I,T),u[h+3+0]=st(z,F,I)}function ts(u,h){var y=u[h+1-32],b=u[h+2-32],L=u[h+3-32],P=u[h+4-32],T=u[h+5-32],I=u[h+6-32],F=u[h+7-32];u[h+0+0]=st(u[h+0-32],y,b),u[h+1+0]=u[h+0+32]=st(y,b,L),u[h+2+0]=u[h+1+32]=u[h+0+64]=st(b,L,P),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=st(L,P,T),u[h+3+32]=u[h+2+64]=u[h+1+96]=st(P,T,I),u[h+3+64]=u[h+2+96]=st(T,I,F),u[h+3+96]=st(I,F,F)}function e0(u,h){var y=u[h-1+0],b=u[h-1+32],L=u[h-1+64],P=u[h-1-32],T=u[h+0-32],I=u[h+1-32],F=u[h+2-32],z=u[h+3-32];u[h+0+0]=u[h+1+64]=P+T+1>>1,u[h+1+0]=u[h+2+64]=T+I+1>>1,u[h+2+0]=u[h+3+64]=I+F+1>>1,u[h+3+0]=F+z+1>>1,u[h+0+96]=st(L,b,y),u[h+0+64]=st(b,y,P),u[h+0+32]=u[h+1+96]=st(y,P,T),u[h+1+32]=u[h+2+96]=st(P,T,I),u[h+2+32]=u[h+3+96]=st(T,I,F),u[h+3+32]=st(I,F,z)}function t0(u,h){var y=u[h+0-32],b=u[h+1-32],L=u[h+2-32],P=u[h+3-32],T=u[h+4-32],I=u[h+5-32],F=u[h+6-32],z=u[h+7-32];u[h+0+0]=y+b+1>>1,u[h+1+0]=u[h+0+64]=b+L+1>>1,u[h+2+0]=u[h+1+64]=L+P+1>>1,u[h+3+0]=u[h+2+64]=P+T+1>>1,u[h+0+32]=st(y,b,L),u[h+1+32]=u[h+0+96]=st(b,L,P),u[h+2+32]=u[h+1+96]=st(L,P,T),u[h+3+32]=u[h+2+96]=st(P,T,I),u[h+3+64]=st(T,I,F),u[h+3+96]=st(I,F,z)}function Oo(u,h){var y=u[h-1+0],b=u[h-1+32],L=u[h-1+64],P=u[h-1+96];u[h+0+0]=y+b+1>>1,u[h+2+0]=u[h+0+32]=b+L+1>>1,u[h+2+32]=u[h+0+64]=L+P+1>>1,u[h+1+0]=st(y,b,L),u[h+3+0]=u[h+1+32]=st(b,L,P),u[h+3+32]=u[h+1+64]=st(L,P,P),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=P}function tu(u,h){var y=u[h-1+0],b=u[h-1+32],L=u[h-1+64],P=u[h-1+96],T=u[h-1-32],I=u[h+0-32],F=u[h+1-32],z=u[h+2-32];u[h+0+0]=u[h+2+32]=y+T+1>>1,u[h+0+32]=u[h+2+64]=b+y+1>>1,u[h+0+64]=u[h+2+96]=L+b+1>>1,u[h+0+96]=P+L+1>>1,u[h+3+0]=st(I,F,z),u[h+2+0]=st(T,I,F),u[h+1+0]=u[h+3+32]=st(y,T,I),u[h+1+32]=u[h+3+64]=st(b,y,T),u[h+1+64]=u[h+3+96]=st(L,b,y),u[h+1+96]=st(P,L,b)}function Ma(u,h){var y;for(y=0;8>y;++y)n(u,h+32*y,u,h-32,8)}function r0(u,h){var y;for(y=0;8>y;++y)i(u,h,u[h-1],8),h+=32}function rs(u,h,y){var b;for(b=0;8>b;++b)i(h,y+32*b,u,8)}function n0(u,h){var y,b=8;for(y=0;8>y;++y)b+=u[h+y-32]+u[h-1+32*y];rs(b>>4,u,h)}function ru(u,h){var y,b=4;for(y=0;8>y;++y)b+=u[h+y-32];rs(b>>3,u,h)}function nu(u,h){var y,b=4;for(y=0;8>y;++y)b+=u[h-1+32*y];rs(b>>3,u,h)}function od(u,h){rs(128,u,h)}function ns(u,h,y){var b=u[h-y],L=u[h+0],P=3*(L-b)+i0[1020+u[h-2*y]-u[h+y]],T=md[112+(P+4>>3)];u[h-y]=jn[255+b+md[112+(P+3>>3)]],u[h+0]=jn[255+L-T]}function iu(u,h,y,b){var L=u[h+0],P=u[h+y];return Yn[255+u[h-2*y]-u[h-y]]>b||Yn[255+P-L]>b}function Io(u,h,y,b){return 4*Yn[255+u[h-y]-u[h+0]]+Yn[255+u[h-2*y]-u[h+y]]<=b}function su(u,h,y,b,L){var P=u[h-3*y],T=u[h-2*y],I=u[h-y],F=u[h+0],z=u[h+y],re=u[h+2*y],de=u[h+3*y];return 4*Yn[255+I-F]+Yn[255+T-z]>b?0:Yn[255+u[h-4*y]-P]<=L&&Yn[255+P-T]<=L&&Yn[255+T-I]<=L&&Yn[255+de-re]<=L&&Yn[255+re-z]<=L&&Yn[255+z-F]<=L}function Da(u,h,y,b){var L=2*b+1;for(b=0;16>b;++b)Io(u,h+b,y,L)&&ns(u,h+b,y)}function au(u,h,y,b){var L=2*b+1;for(b=0;16>b;++b)Io(u,h+b*y,1,L)&&ns(u,h+b*y,1)}function ld(u,h,y,b){var L;for(L=3;0<L;--L)Da(u,h+=4*y,y,b)}function ud(u,h,y,b){var L;for(L=3;0<L;--L)au(u,h+=4,y,b)}function is(u,h,y,b,L,P,T,I){for(P=2*P+1;0<L--;){if(su(u,h,y,P,T))if(iu(u,h,y,I))ns(u,h,y);else{var F=u,z=h,re=y,de=F[z-2*re],$=F[z-re],ne=F[z+0],le=F[z+re],ye=F[z+2*re],ce=27*(_e=i0[1020+3*(ne-$)+i0[1020+de-le]])+63>>7,we=18*_e+63>>7,_e=9*_e+63>>7;F[z-3*re]=jn[255+F[z-3*re]+_e],F[z-2*re]=jn[255+de+we],F[z-re]=jn[255+$+ce],F[z+0]=jn[255+ne-ce],F[z+re]=jn[255+le-we],F[z+2*re]=jn[255+ye-_e]}h+=b}}function ss(u,h,y,b,L,P,T,I){for(P=2*P+1;0<L--;){if(su(u,h,y,P,T))if(iu(u,h,y,I))ns(u,h,y);else{var F=u,z=h,re=y,de=F[z-re],$=F[z+0],ne=F[z+re],le=md[112+(4+(ye=3*($-de))>>3)],ye=md[112+(ye+3>>3)],ce=le+1>>1;F[z-2*re]=jn[255+F[z-2*re]+ce],F[z-re]=jn[255+de+ye],F[z+0]=jn[255+$-le],F[z+re]=jn[255+ne-ce]}h+=b}}function cd(u,h,y,b,L,P){is(u,h,y,1,16,b,L,P)}function Ba(u,h,y,b,L,P){is(u,h,1,y,16,b,L,P)}function dd(u,h,y,b,L,P){var T;for(T=3;0<T;--T)ss(u,h+=4*y,y,1,16,b,L,P)}function g(u,h,y,b,L,P){var T;for(T=3;0<T;--T)ss(u,h+=4,1,y,16,b,L,P)}function j(u,h,y,b,L,P,T,I){is(u,h,L,1,8,P,T,I),is(y,b,L,1,8,P,T,I)}function W(u,h,y,b,L,P,T,I){is(u,h,1,L,8,P,T,I),is(y,b,1,L,8,P,T,I)}function Q(u,h,y,b,L,P,T,I){ss(u,h+4*L,L,1,8,P,T,I),ss(y,b+4*L,L,1,8,P,T,I)}function ae(u,h,y,b,L,P,T,I){ss(u,h+4,1,L,8,P,T,I),ss(y,b+4,1,L,8,P,T,I)}function be(){this.ba=new yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Et,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Se(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ue(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function qe(){this.ua=0,this.Wa=new ct,this.vb=new ct,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new he,this.yc=new K}function it(){this.xb=this.a=0,this.l=new Po,this.ca=new yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new qe,this.ab=0,this.gc=a(4,Ue),this.Oc=0}function dt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Po,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function kt(u,h,y,b,L,P,T){for(u=u==null?0:u[h+0],h=0;h<T;++h)L[P+h]=u+y[b+h]&255,u=L[P+h]}function Qt(u,h,y,b,L,P,T){var I;if(u==null)kt(null,null,y,b,L,P,T);else for(I=0;I<T;++I)L[P+I]=u[h+I]+y[b+I]&255}function wr(u,h,y,b,L,P,T){if(u==null)kt(null,null,y,b,L,P,T);else{var I,F=u[h+0],z=F,re=F;for(I=0;I<T;++I)z=re+(F=u[h+I])-z,re=y[b+I]+(-256&z?0>z?0:255:z)&255,z=F,L[P+I]=re}}function zt(u,h,y,b){var L=h.width,P=h.o;if(t(u!=null&&h!=null),0>y||0>=b||y+b>P)return null;if(!u.Cc){if(u.ga==null){var T;if(u.ga=new dt,(T=u.ga==null)||(T=h.width*h.o,t(u.Gb.length==0),u.Gb=s(T),u.Uc=0,u.Gb==null?T=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,T=1),T=!T),!T){T=u.ga;var I=u.Fa,F=u.P,z=u.qc,re=u.mb,de=u.nb,$=F+1,ne=z-1,le=T.l;if(t(I!=null&&re!=null&&h!=null),zs[0]=null,zs[1]=kt,zs[2]=Qt,zs[3]=wr,T.ca=re,T.tb=de,T.c=h.width,T.i=h.height,t(0<T.c&&0<T.i),1>=z)h=0;else if(T.$a=3&I[F+0],T.Z=I[F+0]>>2&3,T.Lc=I[F+0]>>4&3,F=I[F+0]>>6&3,0>T.$a||1<T.$a||4<=T.Z||1<T.Lc||F)h=0;else if(le.put=et,le.ac=Li,le.bc=Zi,le.ma=T,le.width=h.width,le.height=h.height,le.Da=h.Da,le.v=h.v,le.va=h.va,le.j=h.j,le.o=h.o,T.$a)e:{t(T.$a==1),h=Oa();t:for(;;){if(h==null){h=0;break e}if(t(T!=null),T.mc=h,h.c=T.c,h.i=T.i,h.l=T.l,h.l.ma=T,h.l.width=T.c,h.l.height=T.i,h.a=0,R(h.m,I,$,ne),!Pi(T.c,T.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&oi(h.s)?(T.ic=1,I=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(I),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(T.ic=0,h=Ia(h,T.c)),!h))break t;h=1;break e}T.mc=null,h=0}else h=ne>=T.c*T.i;T=!h}if(T)return null;u.ga.Lc!=1?u.Ga=0:b=P-y}t(u.ga!=null),t(y+b<=P);e:{if(h=(I=u.ga).c,P=I.l.o,I.$a==0){if($=u.rc,ne=u.Vc,le=u.Fa,F=u.P+1+y*h,z=u.mb,re=u.nb+y*h,t(F<=u.P+u.qc),I.Z!=0)for(t(zs[I.Z]!=null),T=0;T<b;++T)zs[I.Z]($,ne,le,F,z,re,h),$=z,ne=re,re+=h,F+=h;else for(T=0;T<b;++T)n(z,re,le,F,h),$=z,ne=re,re+=h,F+=h;u.rc=$,u.Vc=ne}else{if(t(I.mc!=null),h=y+b,t((T=I.mc)!=null),t(h<=T.i),T.C>=h)h=1;else if(I.ic||di(),I.ic){I=T.V,$=T.Ba,ne=T.c;var ye=T.i,ce=(le=1,F=T.$/ne,z=T.$%ne,re=T.m,de=T.s,T.$),we=ne*ye,_e=ne*h,Ae=de.wc,Ne=ce<_e?Mr(de,z,F):null;t(ce<=we),t(h<=ye),t(oi(de));t:for(;;){for(;!re.h&&ce<_e;){if(z&Ae||(Ne=Mr(de,z,F)),t(Ne!=null),ie(re),256>(ye=ir(Ne.G[0],Ne.H[0],re)))I[$+ce]=ye,++ce,++z>=ne&&(z=0,++F<=h&&!(F%16)&&li(T,F));else{if(!(280>ye)){le=0;break t}ye=qn(ye-256,re);var We,Me=ir(Ne.G[4],Ne.H[4],re);if(ie(re),!(ce>=(Me=Wn(ne,Me=qn(Me,re)))&&we-ce>=ye)){le=0;break t}for(We=0;We<ye;++We)I[$+ce+We]=I[$+ce+We-Me];for(ce+=ye,z+=ye;z>=ne;)z-=ne,++F<=h&&!(F%16)&&li(T,F);ce<_e&&z&Ae&&(Ne=Mr(de,z,F))}t(re.h==X(re))}li(T,F>h?h:F);break t}!le||re.h&&ce<we?(le=0,T.a=re.h?5:3):T.$=ce,h=le}else h=ui(T,T.V,T.Ba,T.c,T.i,h,jo);if(!h){b=0;break e}}y+b>=P&&(u.Cc=1),b=1}if(!b)return null;if(u.Cc&&((b=u.ga)!=null&&(b.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*L}function Sr(u,h,y,b,L,P){for(;0<L--;){var T,I=u,F=h+(y?1:0),z=u,re=h+(y?0:3);for(T=0;T<b;++T){var de=z[re+4*T];de!=255&&(de*=32897,I[F+4*T+0]=I[F+4*T+0]*de>>23,I[F+4*T+1]=I[F+4*T+1]*de>>23,I[F+4*T+2]=I[F+4*T+2]*de>>23)}h+=P}}function br(u,h,y,b,L){for(;0<b--;){var P;for(P=0;P<y;++P){var T=u[h+2*P+0],I=15&(z=u[h+2*P+1]),F=4369*I,z=(240&z|z>>4)*F>>16;u[h+2*P+0]=(240&T|T>>4)*F>>16&240|(15&T|T<<4)*F>>16>>4&15,u[h+2*P+1]=240&z|I}h+=L}}function Dr(u,h,y,b,L,P,T,I){var F,z,re=255;for(z=0;z<L;++z){for(F=0;F<b;++F){var de=u[h+F];P[T+4*F]=de,re&=de}h+=y,T+=I}return re!=255}function as(u,h,y,b,L){var P;for(P=0;P<L;++P)y[b+P]=u[h+P]>>8}function di(){yu=Sr,Ng=br,kg=Dr,Ag=as}function os(u,h,y){O[u]=function(b,L,P,T,I,F,z,re,de,$,ne,le,ye,ce,we,_e,Ae){var Ne,We=Ae-1>>1,Me=I[F+0]|z[re+0]<<16,ft=de[$+0]|ne[le+0]<<16;t(b!=null);var ze=3*Me+ft+131074>>2;for(h(b[L+0],255&ze,ze>>16,ye,ce),P!=null&&(ze=3*ft+Me+131074>>2,h(P[T+0],255&ze,ze>>16,we,_e)),Ne=1;Ne<=We;++Ne){var xt=I[F+Ne]|z[re+Ne]<<16,kr=de[$+Ne]|ne[le+Ne]<<16,pt=Me+xt+ft+kr+524296,$e=pt+2*(xt+ft)>>3;ze=$e+Me>>1,Me=(pt=pt+2*(Me+kr)>>3)+xt>>1,h(b[L+2*Ne-1],255&ze,ze>>16,ye,ce+(2*Ne-1)*y),h(b[L+2*Ne-0],255&Me,Me>>16,ye,ce+(2*Ne-0)*y),P!=null&&(ze=pt+ft>>1,Me=$e+kr>>1,h(P[T+2*Ne-1],255&ze,ze>>16,we,_e+(2*Ne-1)*y),h(P[T+2*Ne+0],255&Me,Me>>16,we,_e+(2*Ne+0)*y)),Me=xt,ft=kr}1&Ae||(ze=3*Me+ft+131074>>2,h(b[L+Ae-1],255&ze,ze>>16,ye,ce+(Ae-1)*y),P!=null&&(ze=3*ft+Me+131074>>2,h(P[T+Ae-1],255&ze,ze>>16,we,_e+(Ae-1)*y)))}}function ou(){Zn[gd]=Vx,Zn[vd]=Mg,Zn[Tg]=Gx,Zn[yd]=Dg,Zn[wd]=Bg,Zn[s0]=Ug,Zn[Og]=Kx,Zn[a0]=Mg,Zn[o0]=Dg,Zn[bd]=Bg,Zn[l0]=Ug}function Ro(u){return u&~Jx?0>u?0:255:u>>zg}function Cs(u,h){return Ro((19077*u>>8)+(26149*h>>8)-14234)}function Ua(u,h,y){return Ro((19077*u>>8)-(6419*h>>8)-(13320*y>>8)+8708)}function za(u,h){return Ro((19077*u>>8)+(33050*h>>8)-17685)}function Ts(u,h,y,b,L){b[L+0]=Cs(u,y),b[L+1]=Ua(u,h,y),b[L+2]=za(u,h)}function Br(u,h,y,b,L){b[L+0]=za(u,h),b[L+1]=Ua(u,h,y),b[L+2]=Cs(u,y)}function $a(u,h,y,b,L){var P=Ua(u,h,y);h=P<<3&224|za(u,h)>>3,b[L+0]=248&Cs(u,y)|P>>5,b[L+1]=h}function qa(u,h,y,b,L){var P=240&za(u,h)|15;b[L+0]=240&Cs(u,y)|Ua(u,h,y)>>4,b[L+1]=P}function lu(u,h,y,b,L){b[L+0]=255,Ts(u,h,y,b,L+1)}function uu(u,h,y,b,L){Br(u,h,y,b,L),b[L+3]=255}function sn(u,h,y,b,L){Ts(u,h,y,b,L),b[L+3]=255}function ls(u,h,y){O[u]=function(b,L,P,T,I,F,z,re,de){for(var $=re+(-2&de)*y;re!=$;)h(b[L+0],P[T+0],I[F+0],z,re),h(b[L+1],P[T+0],I[F+0],z,re+y),L+=2,++T,++F,re+=2*y;1&de&&h(b[L+0],P[T+0],I[F+0],z,re)}}function Fo(u,h,y){return y==0?u==0?h==0?6:5:h==0?4:0:y}function hd(u,h,y,b,L){switch(u>>>30){case 3:Ga(h,y,b,L,0);break;case 2:Jn(h,y,b,L);break;case 1:Pt(h,y,b,L)}}function Kn(u,h){var y,b,L=h.M,P=h.Nb,T=u.oc,I=u.pc+40,F=u.oc,z=u.pc+584,re=u.oc,de=u.pc+600;for(y=0;16>y;++y)T[I+32*y-1]=129;for(y=0;8>y;++y)F[z+32*y-1]=129,re[de+32*y-1]=129;for(0<L?T[I-1-32]=F[z-1-32]=re[de-1-32]=129:(i(T,I-32-1,127,21),i(F,z-32-1,127,9),i(re,de-32-1,127,9)),b=0;b<u.za;++b){var $=h.ya[h.aa+b];if(0<b){for(y=-1;16>y;++y)n(T,I+32*y-4,T,I+32*y+12,4);for(y=-1;8>y;++y)n(F,z+32*y-4,F,z+32*y+4,4),n(re,de+32*y-4,re,de+32*y+4,4)}var ne=u.Gd,le=u.Hd+b,ye=$.ad,ce=$.Hc;if(0<L&&(n(T,I-32,ne[le].y,0,16),n(F,z-32,ne[le].f,0,8),n(re,de-32,ne[le].ea,0,8)),$.Za){var we=T,_e=I-32+16;for(0<L&&(b>=u.za-1?i(we,_e,ne[le].y[15],4):n(we,_e,ne[le+1].y,0,4)),y=0;4>y;y++)we[_e+128+y]=we[_e+256+y]=we[_e+384+y]=we[_e+0+y];for(y=0;16>y;++y,ce<<=2)we=T,_e=I+qg[y],hi[$.Ob[y]](we,_e),hd(ce,ye,16*+y,we,_e)}else if(we=Fo(b,L,$.Ob[0]),Us[we](T,I),ce!=0)for(y=0;16>y;++y,ce<<=2)hd(ce,ye,16*+y,T,I+qg[y]);for(y=$.Gc,we=Fo(b,L,$.Dd),ds[we](F,z),ds[we](re,de),ce=ye,we=F,_e=z,255&($=0|y)&&(170&$?Fi(ce,256,we,_e):Ft(ce,256,we,_e)),$=re,ce=de,255&(y>>=8)&&(170&y?Fi(ye,320,$,ce):Ft(ye,320,$,ce)),L<u.Ub-1&&(n(ne[le].y,0,T,I+480,16),n(ne[le].f,0,F,z+224,8),n(ne[le].ea,0,re,de+224,8)),y=8*P*u.B,ne=u.sa,le=u.ta+16*b+16*P*u.R,ye=u.qa,$=u.ra+8*b+y,ce=u.Ha,we=u.Ia+8*b+y,y=0;16>y;++y)n(ne,le+y*u.R,T,I+32*y,16);for(y=0;8>y;++y)n(ye,$+y*u.B,F,z+32*y,8),n(ce,we+y*u.B,re,de+32*y,8)}}function Wa(u,h,y,b,L,P,T,I,F){var z=[0],re=[0],de=0,$=F!=null?F.kd:0,ne=F??new Se;if(u==null||12>y)return 7;ne.data=u,ne.w=h,ne.ha=y,h=[h],y=[y],ne.gb=[ne.gb];e:{var le=h,ye=y,ce=ne.gb;if(t(u!=null),t(ye!=null),t(ce!=null),ce[0]=0,12<=ye[0]&&!r(u,le[0],"RIFF")){if(r(u,le[0]+8,"WEBP")){ce=3;break e}var we=He(u,le[0]+4);if(12>we||4294967286<we){ce=3;break e}if($&&we>ye[0]-8){ce=7;break e}ce[0]=we,le[0]+=12,ye[0]-=12}ce=0}if(ce!=0)return ce;for(we=0<ne.gb[0],y=y[0];;){e:{var _e=u;ye=h,ce=y;var Ae=z,Ne=re,We=le=[0];if((ze=de=[de])[0]=0,8>ce[0])ce=7;else{if(!r(_e,ye[0],"VP8X")){if(He(_e,ye[0]+4)!=10){ce=3;break e}if(18>ce[0]){ce=7;break e}var Me=He(_e,ye[0]+8),ft=1+Pe(_e,ye[0]+12);if(2147483648<=ft*(_e=1+Pe(_e,ye[0]+15))){ce=3;break e}We!=null&&(We[0]=Me),Ae!=null&&(Ae[0]=ft),Ne!=null&&(Ne[0]=_e),ye[0]+=18,ce[0]-=18,ze[0]=1}ce=0}}if(de=de[0],le=le[0],ce!=0)return ce;if(ye=!!(2&le),!we&&de)return 3;if(P!=null&&(P[0]=!!(16&le)),T!=null&&(T[0]=ye),I!=null&&(I[0]=0),T=z[0],le=re[0],de&&ye&&F==null){ce=0;break}if(4>y){ce=7;break}if(we&&de||!we&&!de&&!r(u,h[0],"ALPH")){y=[y],ne.na=[ne.na],ne.P=[ne.P],ne.Sa=[ne.Sa];e:{Me=u,ce=h,we=y;var ze=ne.gb;Ae=ne.na,Ne=ne.P,We=ne.Sa,ft=22,t(Me!=null),t(we!=null),_e=ce[0];var xt=we[0];for(t(Ae!=null),t(We!=null),Ae[0]=null,Ne[0]=null,We[0]=0;;){if(ce[0]=_e,we[0]=xt,8>xt){ce=7;break e}var kr=He(Me,_e+4);if(4294967286<kr){ce=3;break e}var pt=8+kr+1&-2;if(ft+=pt,0<ze&&ft>ze){ce=3;break e}if(!r(Me,_e,"VP8 ")||!r(Me,_e,"VP8L")){ce=0;break e}if(xt[0]<pt){ce=7;break e}r(Me,_e,"ALPH")||(Ae[0]=Me,Ne[0]=_e+8,We[0]=kr),_e+=pt,xt-=pt}}if(y=y[0],ne.na=ne.na[0],ne.P=ne.P[0],ne.Sa=ne.Sa[0],ce!=0)break}y=[y],ne.Ja=[ne.Ja],ne.xa=[ne.xa];e:if(ze=u,ce=h,we=y,Ae=ne.gb[0],Ne=ne.Ja,We=ne.xa,Me=ce[0],_e=!r(ze,Me,"VP8 "),ft=!r(ze,Me,"VP8L"),t(ze!=null),t(we!=null),t(Ne!=null),t(We!=null),8>we[0])ce=7;else{if(_e||ft){if(ze=He(ze,Me+4),12<=Ae&&ze>Ae-12){ce=3;break e}if($&&ze>we[0]-8){ce=7;break e}Ne[0]=ze,ce[0]+=8,we[0]-=8,We[0]=ft}else We[0]=5<=we[0]&&ze[Me+0]==47&&!(ze[Me+4]>>5),Ne[0]=we[0];ce=0}if(y=y[0],ne.Ja=ne.Ja[0],ne.xa=ne.xa[0],h=h[0],ce!=0)break;if(4294967286<ne.Ja)return 3;if(I==null||ye||(I[0]=ne.xa?2:1),T=[T],le=[le],ne.xa){if(5>y){ce=7;break}I=T,$=le,ye=P,u==null||5>y?u=0:5<=y&&u[h+0]==47&&!(u[h+4]>>5)?(we=[0],ze=[0],Ae=[0],R(Ne=new D,u,h,y),Xi(Ne,we,ze,Ae)?(I!=null&&(I[0]=we[0]),$!=null&&($[0]=ze[0]),ye!=null&&(ye[0]=Ae[0]),u=1):u=0):u=0}else{if(10>y){ce=7;break}I=le,u==null||10>y||!td(u,h+3,y-3)?u=0:($=u[h+0]|u[h+1]<<8|u[h+2]<<16,ye=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&$||3<($>>1&7)||!($>>4&1)||$>>5>=ne.Ja||!ye||!u?u=0:(T&&(T[0]=ye),I&&(I[0]=u),u=1))}if(!u||(T=T[0],le=le[0],de&&(z[0]!=T||re[0]!=le)))return 3;F!=null&&(F[0]=ne,F.offset=h-F.w,t(4294967286>h-F.w),t(F.offset==F.ha-y));break}return ce==0||ce==7&&de&&F==null?(P!=null&&(P[0]|=ne.na!=null&&0<ne.na.length),b!=null&&(b[0]=T),L!=null&&(L[0]=le),0):ce}function cu(u,h,y){var b=h.width,L=h.height,P=0,T=0,I=b,F=L;if(h.Da=u!=null&&0<u.Da,h.Da&&(I=u.cd,F=u.bd,P=u.v,T=u.j,11>y||(P&=-2,T&=-2),0>P||0>T||0>=I||0>=F||P+I>b||T+F>L))return 0;if(h.v=P,h.j=T,h.va=P+I,h.o=T+F,h.U=I,h.T=F,h.da=u!=null&&0<u.da,h.da){if(!Ye(I,F,y=[u.ib],P=[u.hb]))return 0;h.ib=y[0],h.hb=P[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*b/4&&h.hb<3*L/4,h.Kb=0),1}function du(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function Os(u,h,y,b){if(b==null||0>=u||0>=h)return 2;if(y!=null){if(y.Da){var L=y.cd,P=y.bd,T=-2&y.v,I=-2&y.j;if(0>T||0>I||0>=L||0>=P||T+L>u||I+P>h)return 2;u=L,h=P}if(y.da){if(!Ye(u,h,L=[y.ib],P=[y.hb]))return 2;u=L[0],h=P[0]}}b.width=u,b.height=h;e:{var F=b.width,z=b.height;if(u=b.S,0>=F||0>=z||!(u>=gd&&13>u))u=2;else{if(0>=b.Rd&&b.sd==null){T=P=L=h=0;var re=(I=F*Wg[u])*z;if(11>u||(P=(z+1)/2*(h=(F+1)/2),u==12&&(T=(L=F)*z)),(z=s(re+2*P+T))==null){u=1;break e}b.sd=z,11>u?((F=b.f.RGBA).eb=z,F.fb=0,F.A=I,F.size=re):((F=b.f.kb).y=z,F.O=0,F.fa=I,F.Fd=re,F.f=z,F.N=0+re,F.Ab=h,F.Cd=P,F.ea=z,F.W=0+re+P,F.Db=h,F.Ed=P,u==12&&(F.F=z,F.J=0+re+2*P),F.Tc=T,F.lb=L)}if(h=1,L=b.S,P=b.width,T=b.height,L>=gd&&13>L)if(11>L)u=b.f.RGBA,h&=(I=Math.abs(u.A))*(T-1)+P<=u.size,h&=I>=P*Wg[L],h&=u.eb!=null;else{u=b.f.kb,I=(P+1)/2,re=(T+1)/2,F=Math.abs(u.fa),z=Math.abs(u.Ab);var de=Math.abs(u.Db),$=Math.abs(u.lb),ne=$*(T-1)+P;h&=F*(T-1)+P<=u.Fd,h&=z*(re-1)+I<=u.Cd,h=(h&=de*(re-1)+I<=u.Ed)&F>=P&z>=I&de>=I,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,L==12&&(h&=$>=P,h&=ne<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||y!=null&&y.fd&&(u=du(b)),u}var Ha=64,kn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],An=24,Is=32,us=8,Rs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(u){return u},O.Predictor2=function(u,h,y){return h[y+0]},O.Predictor3=function(u,h,y){return h[y+1]},O.Predictor4=function(u,h,y){return h[y-1]},O.Predictor5=function(u,h,y){return Ve(Ve(u,h[y+1]),h[y+0])},O.Predictor6=function(u,h,y){return Ve(u,h[y-1])},O.Predictor7=function(u,h,y){return Ve(u,h[y+0])},O.Predictor8=function(u,h,y){return Ve(h[y-1],h[y+0])},O.Predictor9=function(u,h,y){return Ve(h[y+0],h[y+1])},O.Predictor10=function(u,h,y){return Ve(Ve(u,h[y-1]),Ve(h[y+0],h[y+1]))},O.Predictor11=function(u,h,y){var b=h[y+0];return 0>=Te(b>>24&255,u>>24&255,(h=h[y-1])>>24&255)+Te(b>>16&255,u>>16&255,h>>16&255)+Te(b>>8&255,u>>8&255,h>>8&255)+Te(255&b,255&u,255&h)?b:u},O.Predictor12=function(u,h,y){var b=h[y+0];return(ve((u>>24&255)+(b>>24&255)-((h=h[y-1])>>24&255))<<24|ve((u>>16&255)+(b>>16&255)-(h>>16&255))<<16|ve((u>>8&255)+(b>>8&255)-(h>>8&255))<<8|ve((255&u)+(255&b)-(255&h)))>>>0},O.Predictor13=function(u,h,y){var b=h[y-1];return(Oe((u=Ve(u,h[y+0]))>>24&255,b>>24&255)<<24|Oe(u>>16&255,b>>16&255)<<16|Oe(u>>8&255,b>>8&255)<<8|Oe(255&u,255&b))>>>0};var hu=O.PredictorAdd0;O.PredictorAdd1=Xe,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var Mo=O.PredictorAdd2;Ie("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Ie("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var ur,fd=O.ColorIndexInverseTransform,Ii=O.MapARGB,Ri=O.VP8LColorIndexInverseTransformAlpha,fu=O.MapAlpha,pu=O.VP8LPredictorsAdd=[];pu.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var mu,gu,Fs,Ms,Ds,Va,Bs,Ga,Jn,Fi,Pt,Ft,cr,Nr,cs,vu,Do,pd,yg,wg,bg,_g,xg,Sg,yu,Ng,kg,Ag,jg=s(511),Lg=s(2041),Eg=s(225),Pg=s(767),Cg=0,i0=Lg,md=Eg,jn=Pg,Yn=jg,gd=0,vd=1,Tg=2,yd=3,wd=4,s0=5,Og=6,a0=7,o0=8,bd=9,l0=10,Tx=[2,3,7],Ox=[3,3,11],Ig=[280,256,256,256,40],Ix=[0,1,1,1,0],Rx=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Fx=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Mx=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Dx=8,u0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],c0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],wu=null,Bx=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ux=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Rg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$x=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],qx=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Wx=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Us=[],hi=[],ds=[],Hx=1,Fg=2,zs=[],Zn=[];os("UpsampleRgbLinePair",Ts,3),os("UpsampleBgrLinePair",Br,3),os("UpsampleRgbaLinePair",sn,4),os("UpsampleBgraLinePair",uu,4),os("UpsampleArgbLinePair",lu,4),os("UpsampleRgba4444LinePair",qa,2),os("UpsampleRgb565LinePair",$a,2);var Vx=O.UpsampleRgbLinePair,Gx=O.UpsampleBgrLinePair,Mg=O.UpsampleRgbaLinePair,Dg=O.UpsampleBgraLinePair,Bg=O.UpsampleArgbLinePair,Ug=O.UpsampleRgba4444LinePair,Kx=O.UpsampleRgb565LinePair,_d=16,xd=1<<_d-1,bu=-227,d0=482,zg=6,Jx=(256<<zg)-1,$g=0,Yx=s(256),Zx=s(256),Xx=s(256),Qx=s(256),e3=s(d0-bu),t3=s(d0-bu);ls("YuvToRgbRow",Ts,3),ls("YuvToBgrRow",Br,3),ls("YuvToRgbaRow",sn,4),ls("YuvToBgraRow",uu,4),ls("YuvToArgbRow",lu,4),ls("YuvToRgba4444Row",qa,2),ls("YuvToRgb565Row",$a,2);var qg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sd=[0,2,8],r3=[8,7,6,4,4,2,2,2,1,1,1,1],n3=1;this.WebPDecodeRGBA=function(u,h,y,b,L){var P=vd,T=new be,I=new yt;T.ba=I,I.S=P,I.width=[I.width],I.height=[I.height];var F=I.width,z=I.height,re=new Qe;if(re==null||u==null)var de=2;else t(re!=null),de=Wa(u,h,y,re.width,re.height,re.Pd,re.Qd,re.format,null);if(de!=0?F=0:(F!=null&&(F[0]=re.width[0]),z!=null&&(z[0]=re.height[0]),F=1),F){I.width=I.width[0],I.height=I.height[0],b!=null&&(b[0]=I.width),L!=null&&(L[0]=I.height);e:{if(b=new Po,(L=new Se).data=u,L.w=h,L.ha=y,L.kd=1,h=[0],t(L!=null),((u=Wa(L.data,L.w,L.ha,null,null,null,h,null,L))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(t(T!=null),b.data=L.data,b.w=L.w+L.offset,b.ha=L.ha-L.offset,b.put=et,b.ac=Li,b.bc=Zi,b.ma=T,L.xa){if((u=Oa())==null){T=1;break e}if(function($,ne){var le=[0],ye=[0],ce=[0];t:for(;;){if($==null)return 0;if(ne==null)return $.a=2,0;if($.l=ne,$.a=0,R($.m,ne.data,ne.w,ne.ha),!Xi($.m,le,ye,ce)){$.a=3;break t}if($.xb=Fg,ne.width=le[0],ne.height=ye[0],!Pi(le[0],ye[0],1,$,null))break t;return 1}return t($.a!=0),0}(u,b)){if(b=(h=Os(b.width,b.height,T.Oa,T.ba))==0){t:{b=u;r:for(;;){if(b==null){b=0;break t}if(t(b.s.yc!=null),t(b.s.Ya!=null),t(0<b.s.Wb),t((y=b.l)!=null),t((L=y.ma)!=null),b.xb!=0){if(b.ca=L.ba,b.tb=L.tb,t(b.ca!=null),!cu(L.Oa,y,yd)){b.a=2;break r}if(!Ia(b,y.width)||y.da)break r;if((y.da||tt(b.ca.S))&&di(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&di()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!U(b.s.vb,b.s.Wa.Xa)){b.a=1;break r}b.xb=0}if(!ui(b,b.V,b.Ba,b.c,b.i,y.o,Ps))break r;L.Dc=b.Ma,b=1;break t}t(b.a!=0),b=0}b=!b}b&&(h=u.a)}else h=u.a}else{if((u=new qf)==null){T=1;break e}if(u.Fa=L.na,u.P=L.P,u.qc=L.Sa,Ti(u,b)){if((h=Os(b.width,b.height,T.Oa,T.ba))==0){if(u.Aa=0,y=T.Oa,t((L=u)!=null),y!=null){if(0<(F=0>(F=y.Md)?0:100<F?255:255*F/100)){for(z=re=0;4>z;++z)12>(de=L.pb[z]).lc&&(de.ia=F*r3[0>de.lc?0:de.lc]>>3),re|=de.ia;re&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=y.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}(function($,ne){if($==null)return 0;if(ne==null)return yr($,2,"NULL VP8Io parameter in VP8Decode().");if(!$.cb&&!Ti($,ne))return 0;if(t($.cb),ne.ac==null||ne.ac(ne)){ne.ob&&($.L=0);var le=Sd[$.L];if($.L==2?($.yb=0,$.zb=0):($.yb=ne.v-le>>4,$.zb=ne.j-le>>4,0>$.yb&&($.yb=0),0>$.zb&&($.zb=0)),$.Va=ne.o+15+le>>4,$.Hb=ne.va+15+le>>4,$.Hb>$.za&&($.Hb=$.za),$.Va>$.Ub&&($.Va=$.Ub),0<$.L){var ye=$.ed;for(le=0;4>le;++le){var ce;if($.Qa.Cb){var we=$.Qa.Lb[le];$.Qa.Fb||(we+=ye.Tb)}else we=ye.Tb;for(ce=0;1>=ce;++ce){var _e=$.gd[le][ce],Ae=we;if(ye.Pc&&(Ae+=ye.vd[0],ce&&(Ae+=ye.od[0])),0<(Ae=0>Ae?0:63<Ae?63:Ae)){var Ne=Ae;0<ye.wb&&(Ne=4<ye.wb?Ne>>2:Ne>>1)>9-ye.wb&&(Ne=9-ye.wb),1>Ne&&(Ne=1),_e.dd=Ne,_e.tc=2*Ae+Ne,_e.ld=40<=Ae?2:15<=Ae?1:0}else _e.tc=0;_e.La=ce}}}le=0}else yr($,6,"Frame setup failed"),le=$.a;if(le=le==0){if(le){$.$c=0,0<$.Aa||($.Ic=n3);t:{le=$.Ic,ye=4*(Ne=$.za);var We=32*Ne,Me=Ne+1,ft=0<$.L?Ne*(0<$.Aa?2:1):0,ze=($.Aa==2?2:1)*Ne;if((_e=ye+832+(ce=3*(16*le+Sd[$.L])/2*We)+(we=$.Fa!=null&&0<$.Fa.length?$.Kc.c*$.Kc.i:0))!=_e)le=0;else{if(_e>$.Vb){if($.Vb=0,$.Ec=s(_e),$.Fc=0,$.Ec==null){le=yr($,1,"no memory during frame initialization.");break t}$.Vb=_e}_e=$.Ec,Ae=$.Fc,$.Ac=_e,$.Bc=Ae,Ae+=ye,$.Gd=a(We,Qc),$.Hd=0,$.rb=a(Me+1,Zl),$.sb=1,$.wa=ft?a(ft,Vn):null,$.Y=0,$.D.Nb=0,$.D.wa=$.wa,$.D.Y=$.Y,0<$.Aa&&($.D.Y+=Ne),t(!0),$.oc=_e,$.pc=Ae,Ae+=832,$.ya=a(ze,Xl),$.aa=0,$.D.ya=$.ya,$.D.aa=$.aa,$.Aa==2&&($.D.aa+=Ne),$.R=16*Ne,$.B=8*Ne,Ne=(We=Sd[$.L])*$.R,We=We/2*$.B,$.sa=_e,$.ta=Ae+Ne,$.qa=$.sa,$.ra=$.ta+16*le*$.R+We,$.Ha=$.qa,$.Ia=$.ra+8*le*$.B+We,$.$c=0,Ae+=ce,$.mb=we?_e:null,$.nb=we?Ae:null,t(Ae+we<=$.Fc+$.Vb),rd($),i($.Ac,$.Bc,0,ye),le=1}}if(le){if(ne.ka=0,ne.y=$.sa,ne.O=$.ta,ne.f=$.qa,ne.N=$.ra,ne.ea=$.Ha,ne.Vd=$.Ia,ne.fa=$.R,ne.Rc=$.B,ne.F=null,ne.J=0,!Cg){for(le=-255;255>=le;++le)jg[255+le]=0>le?-le:le;for(le=-1020;1020>=le;++le)Lg[1020+le]=-128>le?-128:127<le?127:le;for(le=-112;112>=le;++le)Eg[112+le]=-16>le?-16:15<le?15:le;for(le=-255;510>=le;++le)Pg[255+le]=0>le?0:255<le?255:le;Cg=1}Bs=To,Ga=Hf,Fi=Oi,Pt=id,Ft=sd,Jn=Wf,cr=cd,Nr=Ba,cs=j,vu=W,Do=dd,pd=g,yg=Q,wg=ae,bg=Da,_g=au,xg=ld,Sg=ud,hi[0]=Qf,hi[1]=Vf,hi[2]=Zf,hi[3]=Xf,hi[4]=es,hi[5]=e0,hi[6]=ts,hi[7]=t0,hi[8]=tu,hi[9]=Oo,Us[0]=Jf,Us[1]=Kf,Us[2]=Ql,Us[3]=ad,Us[4]=Fa,Us[5]=eu,Us[6]=Yf,ds[0]=n0,ds[1]=Gf,ds[2]=Ma,ds[3]=r0,ds[4]=nu,ds[5]=ru,ds[6]=od,le=1}else le=0}le&&(le=function(xt,kr){for(xt.M=0;xt.M<xt.Va;++xt.M){var pt,$e=xt.Jc[xt.M&xt.Xb],Ee=xt.m,dr=xt;for(pt=0;pt<dr.za;++pt){var ut=Ee,Nt=dr,Ht=Nt.Ac,Ur=Nt.Bc+4*pt,an=Nt.zc,sr=Nt.ya[Nt.aa+pt];if(Nt.Qa.Bb?sr.$b=fe(ut,Nt.Pa.jb[0])?2+fe(ut,Nt.Pa.jb[2]):fe(ut,Nt.Pa.jb[1]):sr.$b=0,Nt.kc&&(sr.Ad=fe(ut,Nt.Bd)),sr.Za=!fe(ut,145)+0,sr.Za){var Kr=sr.Ob,on=0;for(Nt=0;4>Nt;++Nt){var Ar,At=an[0+Nt];for(Ar=0;4>Ar;++Ar){At=$x[Ht[Ur+Ar]][At];for(var Ct=Rg[fe(ut,At[0])];0<Ct;)Ct=Rg[2*Ct+fe(ut,At[Ct])];At=-Ct,Ht[Ur+Ar]=At}n(Kr,on,Ht,Ur,4),on+=4,an[0+Nt]=At}}else At=fe(ut,156)?fe(ut,128)?1:3:fe(ut,163)?2:0,sr.Ob[0]=At,i(Ht,Ur,At,4),i(an,0,At,4);sr.Dd=fe(ut,142)?fe(ut,114)?fe(ut,183)?1:3:2:0}if(dr.m.Ka)return yr(xt,7,"Premature end-of-partition0 encountered.");for(;xt.ja<xt.za;++xt.ja){if(dr=$e,ut=(Ee=xt).rb[Ee.sb-1],Ht=Ee.rb[Ee.sb+Ee.ja],pt=Ee.ya[Ee.aa+Ee.ja],Ur=Ee.kc?pt.Ad:0)ut.la=Ht.la=0,pt.Za||(ut.Na=Ht.Na=0),pt.Hc=0,pt.Gc=0,pt.ia=0;else{var ar,Tt;if(ut=Ht,Ht=dr,Ur=Ee.Pa.Xc,an=Ee.ya[Ee.aa+Ee.ja],sr=Ee.pb[an.$b],Nt=an.ad,Kr=0,on=Ee.rb[Ee.sb-1],At=Ar=0,i(Nt,Kr,0,384),an.Za)var zr=0,fi=Ur[3];else{Ct=s(16);var hr=ut.Na+on.Na;if(hr=wu(Ht,Ur[1],hr,sr.Eb,0,Ct,0),ut.Na=on.Na=(0<hr)+0,1<hr)Bs(Ct,0,Nt,Kr);else{var mn=Ct[0]+3>>3;for(Ct=0;256>Ct;Ct+=16)Nt[Kr+Ct]=mn}zr=1,fi=Ur[0]}var Mt=15&ut.la,jr=15&on.la;for(Ct=0;4>Ct;++Ct){var Ln=1&jr;for(mn=Tt=0;4>mn;++mn)Mt=Mt>>1|(Ln=(hr=wu(Ht,fi,hr=Ln+(1&Mt),sr.Sc,zr,Nt,Kr))>zr)<<7,Tt=Tt<<2|(3<hr?3:1<hr?2:Nt[Kr+0]!=0),Kr+=16;Mt>>=4,jr=jr>>1|Ln<<7,Ar=(Ar<<8|Tt)>>>0}for(fi=Mt,zr=jr>>4,ar=0;4>ar;ar+=2){for(Tt=0,Mt=ut.la>>4+ar,jr=on.la>>4+ar,Ct=0;2>Ct;++Ct){for(Ln=1&jr,mn=0;2>mn;++mn)hr=Ln+(1&Mt),Mt=Mt>>1|(Ln=0<(hr=wu(Ht,Ur[2],hr,sr.Qc,0,Nt,Kr)))<<3,Tt=Tt<<2|(3<hr?3:1<hr?2:Nt[Kr+0]!=0),Kr+=16;Mt>>=2,jr=jr>>1|Ln<<5}At|=Tt<<4*ar,fi|=Mt<<4<<ar,zr|=(240&jr)<<ar}ut.la=fi,on.la=zr,an.Hc=Ar,an.Gc=At,an.ia=43690&At?0:sr.ia,Ur=!(Ar|At)}if(0<Ee.L&&(Ee.wa[Ee.Y+Ee.ja]=Ee.gd[pt.$b][pt.Za],Ee.wa[Ee.Y+Ee.ja].La|=!Ur),dr.Ka)return yr(xt,7,"Premature end-of-file encountered.")}if(rd(xt),Ee=kr,dr=1,pt=($e=xt).D,ut=0<$e.L&&$e.M>=$e.zb&&$e.M<=$e.Va,$e.Aa==0)t:{if(pt.M=$e.M,pt.uc=ut,Kn($e,pt),dr=1,pt=(Tt=$e.D).Nb,ut=(At=Sd[$e.L])*$e.R,Ht=At/2*$e.B,Ct=16*pt*$e.R,mn=8*pt*$e.B,Ur=$e.sa,an=$e.ta-ut+Ct,sr=$e.qa,Nt=$e.ra-Ht+mn,Kr=$e.Ha,on=$e.Ia-Ht+mn,jr=(Mt=Tt.M)==0,Ar=Mt>=$e.Va-1,$e.Aa==2&&Kn($e,Tt),Tt.uc)for(Ln=(hr=$e).D.M,t(hr.D.uc),Tt=hr.yb;Tt<hr.Hb;++Tt){zr=Tt,fi=Ln;var ln=(En=($r=hr).D).Nb;ar=$r.R;var En=En.wa[En.Y+zr],Pn=$r.sa,gn=$r.ta+16*ln*ar+16*zr,Cn=En.dd,$t=En.tc;if($t!=0)if(t(3<=$t),$r.L==1)0<zr&&_g(Pn,gn,ar,$t+4),En.La&&Sg(Pn,gn,ar,$t),0<fi&&bg(Pn,gn,ar,$t+4),En.La&&xg(Pn,gn,ar,$t);else{var Tn=$r.B,pi=$r.qa,Ka=$r.ra+8*ln*Tn+8*zr,hs=$r.Ha,$r=$r.Ia+8*ln*Tn+8*zr;ln=En.ld,0<zr&&(Nr(Pn,gn,ar,$t+4,Cn,ln),vu(pi,Ka,hs,$r,Tn,$t+4,Cn,ln)),En.La&&(pd(Pn,gn,ar,$t,Cn,ln),wg(pi,Ka,hs,$r,Tn,$t,Cn,ln)),0<fi&&(cr(Pn,gn,ar,$t+4,Cn,ln),cs(pi,Ka,hs,$r,Tn,$t+4,Cn,ln)),En.La&&(Do(Pn,gn,ar,$t,Cn,ln),yg(pi,Ka,hs,$r,Tn,$t,Cn,ln))}}if($e.ia&&alert("todo:DitherRow"),Ee.put!=null){if(Tt=16*Mt,Mt=16*(Mt+1),jr?(Ee.y=$e.sa,Ee.O=$e.ta+Ct,Ee.f=$e.qa,Ee.N=$e.ra+mn,Ee.ea=$e.Ha,Ee.W=$e.Ia+mn):(Tt-=At,Ee.y=Ur,Ee.O=an,Ee.f=sr,Ee.N=Nt,Ee.ea=Kr,Ee.W=on),Ar||(Mt-=At),Mt>Ee.o&&(Mt=Ee.o),Ee.F=null,Ee.J=null,$e.Fa!=null&&0<$e.Fa.length&&Tt<Mt&&(Ee.J=zt($e,Ee,Tt,Mt-Tt),Ee.F=$e.mb,Ee.F==null&&Ee.F.length==0)){dr=yr($e,3,"Could not decode alpha data.");break t}Tt<Ee.j&&(At=Ee.j-Tt,Tt=Ee.j,t(!(1&At)),Ee.O+=$e.R*At,Ee.N+=$e.B*(At>>1),Ee.W+=$e.B*(At>>1),Ee.F!=null&&(Ee.J+=Ee.width*At)),Tt<Mt&&(Ee.O+=Ee.v,Ee.N+=Ee.v>>1,Ee.W+=Ee.v>>1,Ee.F!=null&&(Ee.J+=Ee.v),Ee.ka=Tt-Ee.j,Ee.U=Ee.va-Ee.v,Ee.T=Mt-Tt,dr=Ee.put(Ee))}pt+1!=$e.Ic||Ar||(n($e.sa,$e.ta-ut,Ur,an+16*$e.R,ut),n($e.qa,$e.ra-Ht,sr,Nt+8*$e.B,Ht),n($e.Ha,$e.Ia-Ht,Kr,on+8*$e.B,Ht))}if(!dr)return yr(xt,6,"Output aborted.")}return 1}($,ne)),ne.bc!=null&&ne.bc(ne),le&=1}return le?($.cb=0,le):0})(u,b)||(h=u.a)}}else h=u.a}h==0&&T.Oa!=null&&T.Oa.fd&&(h=du(T.ba))}T=h}P=T!=0?null:11>P?I.f.RGBA.eb:I.f.kb.y}else P=null;return P};var Wg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(O,q){for(var C="",M=0;M<4;M++)C+=String.fromCharCode(O[q++]);return C}function d(O,q){return O[q+0]|O[q+1]<<8}function m(O,q){return(O[q+0]|O[q+1]<<8|O[q+2]<<16)>>>0}function v(O,q){return(O[q+0]|O[q+1]<<8|O[q+2]<<16|O[q+3]<<24)>>>0}new l;var p=[0],_=[0],S=[],k=new l,w=e,x=function(O,q){var C={},M=0,K=!1,J=0,he=0;if(C.frames=[],!function(A,D){for(var H=0;H<4;H++)if(A[D+H]!="RIFF".charCodeAt(H))return!0;return!1}(O,q)){for(v(O,q+=4),q+=8;q<O.length;){var me=c(O,q),ue=v(O,q+=4);q+=4;var Z=ue+(1&ue);switch(me){case"VP8 ":case"VP8L":C.frames[M]===void 0&&(C.frames[M]={}),(se=C.frames[M]).src_off=K?he:q-8,se.src_size=J+ue+8,M++,K&&(K=!1,J=0,he=0);break;case"VP8X":(se=C.header={}).feature_flags=O[q];var R=q+4;se.canvas_width=1+m(O,R),R+=3,se.canvas_height=1+m(O,R),R+=3;break;case"ALPH":K=!0,J=Z+8,he=q-8;break;case"ANIM":(se=C.header).bgcolor=v(O,q),R=q+4,se.loop_count=d(O,R),R+=2;break;case"ANMF":var oe,se;(se=C.frames[M]={}).offset_x=2*m(O,q),q+=3,se.offset_y=2*m(O,q),q+=3,se.width=1+m(O,q),q+=3,se.height=1+m(O,q),q+=3,se.duration=m(O,q),q+=3,oe=O[q++],se.dispose=1&oe,se.blend=oe>>1&1}me!="ANMF"&&(q+=Z)}return C}}(w,0);x.response=w,x.rgbaoutput=!0,x.dataurl=!1;var N=x.header?x.header:null,E=x.frames?x.frames:null;if(N){N.loop_counter=N.loop_count,p=[N.canvas_height],_=[N.canvas_width];for(var G=0;G<E.length&&E[G].blend!=0;G++);}var V=E[0],Y=k.WebPDecodeRGBA(w,V.src_off,V.src_size,_,p);V.rgba=Y,V.imgwidth=_[0],V.imgheight=p[0];for(var B=0;B<_[0]*p[0]*4;B++)S[B]=Y[B];return this.width=_,this.height=p,this.data=S,this}(function(e){var t,r,n,i,s,a,o,l,c,d=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new l,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new a,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new a,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var m=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var D=A;Object.defineProperty(this,"pdf",{get:function(){return D}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(U){H=!!U}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(U){X=!!U}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(U){isNaN(U)||(ee=U)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(U){isNaN(U)||(ie=U)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(U){var Ce;typeof U=="number"?Ce=[U,U,U,U]:((Ce=new Array(4))[0]=U[0],Ce[1]=U.length>=2?U[1]:Ce[0],Ce[2]=U.length>=3?U[2]:Ce[0],Ce[3]=U.length>=4?U[3]:Ce[1]),c.margin=Ce}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(U){ge=U}});var te=0;Object.defineProperty(this,"lastBreak",{get:function(){return te},set:function(U){te=U}});var fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return fe},set:function(U){fe=U}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(U){U instanceof d&&(c=U)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(U){c.path=U}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(U){xe=U}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(U){var Ce;Ce=v(U),this.ctx.fillStyle=Ce.style,this.ctx.isFillTransparent=Ce.a===0,this.ctx.fillOpacity=Ce.a,this.pdf.setFillColor(Ce.r,Ce.g,Ce.b,{a:Ce.a}),this.pdf.setTextColor(Ce.r,Ce.g,Ce.b,{a:Ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(U){var Ce=v(U);this.ctx.strokeStyle=Ce.style,this.ctx.isStrokeTransparent=Ce.a===0,this.ctx.strokeOpacity=Ce.a,Ce.a===0?this.pdf.setDrawColor(255,255,255):(Ce.a,this.pdf.setDrawColor(Ce.r,Ce.g,Ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(U){["butt","round","square"].indexOf(U)!==-1&&(this.ctx.lineCap=U,this.pdf.setLineCap(U))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(U){isNaN(U)||(this.ctx.lineWidth=U,this.pdf.setLineWidth(U))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(U){["bevel","round","miter"].indexOf(U)!==-1&&(this.ctx.lineJoin=U,this.pdf.setLineJoin(U))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(U){isNaN(U)||(this.ctx.miterLimit=U,this.pdf.setMiterLimit(U))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(U){this.ctx.textBaseline=U}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(U){["right","end","center","left","start"].indexOf(U)!==-1&&(this.ctx.textAlign=U)}});var Le=null,Pe=null,He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(U){Le=null,Pe=null,He=U}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(U){var Ce;if(this.ctx.font=U,(Ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(U))!==null){var ct=Ce[1];Ce[2];var Ye=Ce[3],ke=Ce[4];Ce[5];var Ke=Ce[6],Re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(Re==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:Re==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Je=function(Ie){var mt,wt,gt=[],vt=Ie.trim();if(vt==="")return Lp;if(vt in ny)return[ny[vt]];for(;vt!=="";){switch(wt=null,mt=(vt=sy(vt)).charAt(0)){case'"':case"'":wt=PL(vt.substring(1),mt);break;default:wt=CL(vt)}if(wt===null||(gt.push(wt[0]),(vt=sy(wt[1]))!==""&&vt.charAt(0)!==","))return Lp;vt=vt.replace(/^,/,"")}return gt}(Ke);if(this.fontFaces){var Ve=function(Ie,mt){var wt=Ie.getFontList(),gt=JSON.stringify(wt);if(Le===null||Pe!==gt){var vt=function(Jt){var Ze=[];return Object.keys(Jt).forEach(function(Ut){Jt[Ut].forEach(function(tt){var lt=null;switch(tt){case"bold":lt={family:Ut,weight:"bold"};break;case"italic":lt={family:Ut,style:"italic"};break;case"bolditalic":lt={family:Ut,weight:"bold",style:"italic"};break;case"":case"normal":lt={family:Ut}}lt!==null&&(lt.ref={name:Ut,style:tt},Ze.push(lt))})}),Ze}(wt);Le=function(Jt){for(var Ze={},Ut=0;Ut<Jt.length;++Ut){var tt=jp(Jt[Ut]),lt=tt.family,Yt=tt.stretch,yt=tt.style,Qe=tt.weight;Ze[lt]=Ze[lt]||{},Ze[lt][Yt]=Ze[lt][Yt]||{},Ze[lt][Yt][yt]=Ze[lt][Yt][yt]||{},Ze[lt][Yt][yt][Qe]=tt}return Ze}(vt.concat(mt)),Pe=gt}return Le}(this.pdf,this.fontFaces),ve=Je.map(function(Ie){return{family:Ie,stretch:"normal",weight:Ye,style:ct}}),Oe=function(Ie,mt,wt){for(var gt=(wt=wt||{}).defaultFontFamily||"times",vt=Object.assign({},EL,wt.genericFontFamilies||{}),Jt=null,Ze=null,Ut=0;Ut<mt.length;++Ut)if(vt[(Jt=jp(mt[Ut])).family]&&(Jt.family=vt[Jt.family]),Ie.hasOwnProperty(Jt.family)){Ze=Ie[Jt.family];break}if(!(Ze=Ze||Ie[gt]))throw new Error("Could not find a font-family for the rule '"+iy(Jt)+"' and default family '"+gt+"'.");if(Ze=function(tt,lt){if(lt[tt])return lt[tt];var Yt=em[tt],yt=Yt<=em.normal?-1:1,Qe=ry(lt,Ax,Yt,yt);if(!Qe)throw new Error("Could not find a matching font-stretch value for "+tt);return Qe}(Jt.stretch,Ze),Ze=function(tt,lt){if(lt[tt])return lt[tt];for(var Yt=kx[tt],yt=0;yt<Yt.length;++yt)if(lt[Yt[yt]])return lt[Yt[yt]];throw new Error("Could not find a matching font-style for "+tt)}(Jt.style,Ze),!(Ze=function(tt,lt){if(lt[tt])return lt[tt];if(tt===400&&lt[500])return lt[500];if(tt===500&&lt[400])return lt[400];var Yt=LL[tt],yt=ry(lt,jx,Yt,tt<400?-1:1);if(!yt)throw new Error("Could not find a matching font-weight for value "+tt);return yt}(Jt.weight,Ze)))throw new Error("Failed to resolve a font for the rule '"+iy(Jt)+"'.");return Ze}(Ve,ve);this.pdf.setFont(Oe.ref.name,Oe.ref.style)}else{var Te="";(Ye==="bold"||parseInt(Ye,10)>=700||ct==="bold")&&(Te="bold"),ct==="italic"&&(Te+="italic"),Te.length===0&&(Te="normal");for(var Xe="",ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Be=0;Be<Je.length;Be++){if(this.pdf.internal.getFont(Je[Be],Te,{noFallback:!0,disableWarning:!0})!==void 0){Xe=Je[Be];break}if(Te==="bolditalic"&&this.pdf.internal.getFont(Je[Be],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Xe=Je[Be],Te="bold";else if(this.pdf.internal.getFont(Je[Be],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Xe=Je[Be],Te="normal";break}}if(Xe===""){for(var nt=0;nt<Je.length;nt++)if(ot[Je[nt]]){Xe=ot[Je[nt]];break}}Xe=Xe===""?"Times":Xe,this.pdf.setFont(Xe,Te)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(U){this.ctx.globalCompositeOperation=U}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(U){this.ctx.globalAlpha=U}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(U){this.ctx.lineDashOffset=U,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(U){this.ctx.lineDash=U,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(U){this.ctx.ignoreClearRect=!!U}})};m.prototype.setLineDash=function(A){this.lineDash=A},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){E.call(this,"fill",!1)},m.prototype.stroke=function(){E.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(A,D){if(isNaN(A)||isNaN(D))throw Bt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new a(A,D));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new a(A,D)},m.prototype.closePath=function(){var A=new a(0,0),D=0;for(D=this.path.length-1;D!==-1;D--)if(this.path[D].type==="begin"&&It(this.path[D+1])==="object"&&typeof this.path[D+1].x=="number"){A=new a(this.path[D+1].x,this.path[D+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(A.x,A.y)},m.prototype.lineTo=function(A,D){if(isNaN(A)||isNaN(D))throw Bt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new a(A,D));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new a(H.x,H.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},m.prototype.quadraticCurveTo=function(A,D,H,X){if(isNaN(H)||isNaN(X)||isNaN(A)||isNaN(D))throw Bt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new a(H,X)),ie=this.ctx.transform.applyToPoint(new a(A,D));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(ee.x,ee.y)},m.prototype.bezierCurveTo=function(A,D,H,X,ee,ie){if(isNaN(ee)||isNaN(ie)||isNaN(A)||isNaN(D)||isNaN(H)||isNaN(X))throw Bt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new a(ee,ie)),te=this.ctx.transform.applyToPoint(new a(A,D)),fe=this.ctx.transform.applyToPoint(new a(H,X));this.path.push({type:"bct",x1:te.x,y1:te.y,x2:fe.x,y2:fe.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new a(ge.x,ge.y)},m.prototype.arc=function(A,D,H,X,ee,ie){if(isNaN(A)||isNaN(D)||isNaN(H)||isNaN(X)||isNaN(ee))throw Bt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new a(A,D));A=ge.x,D=ge.y;var te=this.ctx.transform.applyToPoint(new a(0,H)),fe=this.ctx.transform.applyToPoint(new a(0,0));H=Math.sqrt(Math.pow(te.x-fe.x,2)+Math.pow(te.y-fe.y,2))}Math.abs(ee-X)>=2*Math.PI&&(X=0,ee=2*Math.PI),this.path.push({type:"arc",x:A,y:D,radius:H,startAngle:X,endAngle:ee,counterclockwise:ie})},m.prototype.arcTo=function(A,D,H,X,ee){throw new Error("arcTo not implemented.")},m.prototype.rect=function(A,D,H,X){if(isNaN(A)||isNaN(D)||isNaN(H)||isNaN(X))throw Bt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,D),this.lineTo(A+H,D),this.lineTo(A+H,D+X),this.lineTo(A,D+X),this.lineTo(A,D),this.lineTo(A+H,D),this.lineTo(A,D)},m.prototype.fillRect=function(A,D,H,X){if(isNaN(A)||isNaN(D)||isNaN(H)||isNaN(X))throw Bt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,D,H,X),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},m.prototype.strokeRect=function(A,D,H,X){if(isNaN(A)||isNaN(D)||isNaN(H)||isNaN(X))throw Bt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(A,D,H,X),this.stroke())},m.prototype.clearRect=function(A,D,H,X){if(isNaN(A)||isNaN(D)||isNaN(H)||isNaN(X))throw Bt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,D,H,X))},m.prototype.save=function(A){A=typeof A!="boolean"||A;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(D),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},m.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(D),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(A){var D,H,X,ee;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))D=0,H=0,X=0,ee=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(ie!==null)D=parseInt(ie[1]),H=parseInt(ie[2]),X=parseInt(ie[3]),ee=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)D=parseInt(ie[1]),H=parseInt(ie[2]),X=parseInt(ie[3]),ee=parseFloat(ie[4]);else{if(ee=1,typeof A=="string"&&A.charAt(0)!=="#"){var ge=new yx(A);A=ge.ok?ge.toHex():"#000000"}A.length===4?(D=A.substring(1,2),D+=D,H=A.substring(2,3),H+=H,X=A.substring(3,4),X+=X):(D=A.substring(1,3),H=A.substring(3,5),X=A.substring(5,7)),D=parseInt(D,16),H=parseInt(H,16),X=parseInt(X,16)}}return{r:D,g:H,b:X,a:ee,style:A}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(A,D,H,X){if(isNaN(D)||isNaN(H)||typeof A!="string")throw Bt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!p.call(this)){var ee=Z(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;M.call(this,{text:A,x:D,y:H,scale:ie,angle:ee,align:this.textAlign,maxWidth:X})}},m.prototype.strokeText=function(A,D,H,X){if(isNaN(D)||isNaN(H)||typeof A!="string")throw Bt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){X=isNaN(X)?void 0:X;var ee=Z(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;M.call(this,{text:A,x:D,y:H,scale:ie,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:X})}},m.prototype.measureText=function(A){if(typeof A!="string")throw Bt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var D=this.pdf,H=this.pdf.internal.scaleFactor,X=D.internal.getFontSize(),ee=D.getStringUnitWidth(A)*X/D.internal.scaleFactor;return new function(ie){var ge=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this}({width:ee*=Math.round(96*H/72*1e4)/1e4})},m.prototype.scale=function(A,D){if(isNaN(A)||isNaN(D))throw Bt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new l(A,0,0,D,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},m.prototype.rotate=function(A){if(isNaN(A))throw Bt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var D=new l(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(D)},m.prototype.translate=function(A,D){if(isNaN(A)||isNaN(D))throw Bt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new l(1,0,0,1,A,D);this.ctx.transform=this.ctx.transform.multiply(H)},m.prototype.transform=function(A,D,H,X,ee,ie){if(isNaN(A)||isNaN(D)||isNaN(H)||isNaN(X)||isNaN(ee)||isNaN(ie))throw Bt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new l(A,D,H,X,ee,ie);this.ctx.transform=this.ctx.transform.multiply(ge)},m.prototype.setTransform=function(A,D,H,X,ee,ie){A=isNaN(A)?1:A,D=isNaN(D)?0:D,H=isNaN(H)?0:H,X=isNaN(X)?1:X,ee=isNaN(ee)?0:ee,ie=isNaN(ie)?0:ie,this.ctx.transform=new l(A,D,H,X,ee,ie)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(A,D,H,X,ee,ie,ge,te,fe){var xe=this.pdf.getImageProperties(A),Le=1,Pe=1,He=1,U=1;X!==void 0&&te!==void 0&&(He=te/X,U=fe/ee,Le=xe.width/X*te/X,Pe=xe.height/ee*fe/ee),ie===void 0&&(ie=D,ge=H,D=0,H=0),X!==void 0&&te===void 0&&(te=X,fe=ee),X===void 0&&te===void 0&&(te=xe.width,fe=xe.height);var Ce=this.ctx.transform.decompose(),ct=Z(Ce.rotate.shx),Ye=new l,ke=(Ye=(Ye=(Ye=Ye.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale)).applyToRectangle(new o(ie-D*He,ge-H*U,X*Le,ee*Pe));if(this.autoPaging){for(var Ke,Re=k.call(this,ke),Je=[],Ve=0;Ve<Re.length;Ve+=1)Je.indexOf(Re[Ve])===-1&&Je.push(Re[Ve]);N(Je);for(var ve=Je[0],Oe=Je[Je.length-1],Te=ve;Te<Oe+1;Te++){this.pdf.setPage(Te);var Xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=Te===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=Te===1?0:Be+(Te-2)*nt;if(this.ctx.clip_path.length!==0){var mt=this.path;Ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Ke,this.posX+this.margin[3],-Ie+ot+this.ctx.prevPageLastElemOffset),G.call(this,"fill",!0),this.path=mt}var wt=JSON.parse(JSON.stringify(ke));wt=x([wt],this.posX+this.margin[3],-Ie+ot+this.ctx.prevPageLastElemOffset)[0];var gt=(Te>ve||Te<Oe)&&S.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,nt,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",wt.x,wt.y,wt.w,wt.h,null,null,ct),gt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(A,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,ct)};var k=function(A,D,H){var X=[];D=D||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":X.push(Math.floor((A.y+ee)/H)+1);break;case"arc":X.push(Math.floor((A.y+ee-A.radius)/H)+1),X.push(Math.floor((A.y+ee+A.radius)/H)+1);break;case"qct":var ie=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);X.push(Math.floor((ie.y+ee)/H)+1),X.push(Math.floor((ie.y+ie.h+ee)/H)+1);break;case"bct":var ge=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);X.push(Math.floor((ge.y+ee)/H)+1),X.push(Math.floor((ge.y+ge.h+ee)/H)+1);break;case"rect":X.push(Math.floor((A.y+ee)/H)+1),X.push(Math.floor((A.y+A.h+ee)/H)+1)}for(var te=0;te<X.length;te+=1)for(;this.pdf.internal.getNumberOfPages()<X[te];)w.call(this);return X},w=function(){var A=this.fillStyle,D=this.strokeStyle,H=this.font,X=this.lineCap,ee=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=D,this.font=H,this.lineCap=X,this.lineWidth=ee,this.lineJoin=ie},x=function(A,D,H){for(var X=0;X<A.length;X++)switch(A[X].type){case"bct":A[X].x2+=D,A[X].y2+=H;case"qct":A[X].x1+=D,A[X].y1+=H;default:A[X].x+=D,A[X].y+=H}return A},N=function(A){return A.sort(function(D,H){return D-H})},E=function(A,D){var H=this.fillStyle,X=this.strokeStyle,ee=this.lineCap,ie=this.lineWidth,ge=Math.abs(ie*this.ctx.transform.scaleX),te=this.lineJoin;if(this.autoPaging){for(var fe,xe,Le=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),He=[],U=0;U<Pe.length;U++)if(Pe[U].x!==void 0)for(var Ce=k.call(this,Pe[U]),ct=0;ct<Ce.length;ct+=1)He.indexOf(Ce[ct])===-1&&He.push(Ce[ct]);for(var Ye=0;Ye<He.length;Ye++)for(;this.pdf.internal.getNumberOfPages()<He[Ye];)w.call(this);N(He);for(var ke=He[0],Ke=He[He.length-1],Re=ke;Re<Ke+1;Re++){this.pdf.setPage(Re),this.fillStyle=H,this.strokeStyle=X,this.lineCap=ee,this.lineWidth=ge,this.lineJoin=te;var Je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=Re===1?this.posY+this.margin[0]:this.margin[0],ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Te=Re===1?0:ve+(Re-2)*Oe;if(this.ctx.clip_path.length!==0){var Xe=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(fe,this.posX+this.margin[3],-Te+Ve+this.ctx.prevPageLastElemOffset),G.call(this,A,!0),this.path=Xe}if(xe=JSON.parse(JSON.stringify(Le)),this.path=x(xe,this.posX+this.margin[3],-Te+Ve+this.ctx.prevPageLastElemOffset),D===!1||Re===0){var ot=(Re>ke||Re<Ke)&&S.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,Oe,null).clip().discardPath()),G.call(this,A,D),ot&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}this.path=Le}else this.lineWidth=ge,G.call(this,A,D),this.lineWidth=ie},G=function(A,D){if((A!=="stroke"||D||!_.call(this))&&(A==="stroke"||D||!p.call(this))){for(var H,X,ee=[],ie=this.path,ge=0;ge<ie.length;ge++){var te=ie[ge];switch(te.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:te,deltas:[],abs:[]});break;case"lt":var fe=ee.length;if(ie[ge-1]&&!isNaN(ie[ge-1].x)&&(H=[te.x-ie[ge-1].x,te.y-ie[ge-1].y],fe>0)){for(;fe>=0;fe--)if(ee[fe-1].close!==!0&&ee[fe-1].begin!==!0){ee[fe-1].deltas.push(H),ee[fe-1].abs.push(te);break}}break;case"bct":H=[te.x1-ie[ge-1].x,te.y1-ie[ge-1].y,te.x2-ie[ge-1].x,te.y2-ie[ge-1].y,te.x-ie[ge-1].x,te.y-ie[ge-1].y],ee[ee.length-1].deltas.push(H);break;case"qct":var xe=ie[ge-1].x+2/3*(te.x1-ie[ge-1].x),Le=ie[ge-1].y+2/3*(te.y1-ie[ge-1].y),Pe=te.x+2/3*(te.x1-te.x),He=te.y+2/3*(te.y1-te.y),U=te.x,Ce=te.y;H=[xe-ie[ge-1].x,Le-ie[ge-1].y,Pe-ie[ge-1].x,He-ie[ge-1].y,U-ie[ge-1].x,Ce-ie[ge-1].y],ee[ee.length-1].deltas.push(H);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(te)}}X=D?null:A==="stroke"?"stroke":"fill";for(var ct=!1,Ye=0;Ye<ee.length;Ye++)if(ee[Ye].arc)for(var ke=ee[Ye].abs,Ke=0;Ke<ke.length;Ke++){var Re=ke[Ke];Re.type==="arc"?B.call(this,Re.x,Re.y,Re.radius,Re.startAngle,Re.endAngle,Re.counterclockwise,void 0,D,!ct):K.call(this,Re.x,Re.y),ct=!0}else if(ee[Ye].close===!0)this.pdf.internal.out("h"),ct=!1;else if(ee[Ye].begin!==!0){var Je=ee[Ye].start.x,Ve=ee[Ye].start.y;J.call(this,ee[Ye].deltas,Je,Ve),ct=!0}X&&O.call(this,X),D&&q.call(this)}},V=function(A){var D=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=D*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-H;case"top":return A+D-H;case"hanging":return A+D-2*H;case"middle":return A+D/2-H;default:return A}},Y=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(D,H){this.colorStops.push([D,H])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(A,D,H,X,ee,ie,ge,te,fe){for(var xe=me.call(this,H,X,ee,ie),Le=0;Le<xe.length;Le++){var Pe=xe[Le];Le===0&&(fe?C.call(this,Pe.x1+A,Pe.y1+D):K.call(this,Pe.x1+A,Pe.y1+D)),he.call(this,A,D,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}te?q.call(this):O.call(this,ge)},O=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(A,D){this.pdf.internal.out(r(A)+" "+n(D)+" m")},M=function(A){var D;switch(A.align){case"right":case"end":D="right";break;case"center":D="center";break;default:D="left"}var H,X,ee,ie=this.pdf.getTextDimensions(A.text),ge=V.call(this,A.y),te=Y.call(this,ge)-ie.h,fe=this.ctx.transform.applyToPoint(new a(A.x,ge));if(this.autoPaging){var xe=this.ctx.transform.decompose(),Le=new l;Le=(Le=(Le=Le.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var Pe=this.ctx.transform.applyToRectangle(new o(A.x,ge,ie.w,ie.h)),He=Le.applyToRectangle(new o(A.x,te,ie.w,ie.h)),U=k.call(this,He),Ce=[],ct=0;ct<U.length;ct+=1)Ce.indexOf(U[ct])===-1&&Ce.push(U[ct]);N(Ce);for(var Ye=Ce[0],ke=Ce[Ce.length-1],Ke=Ye;Ke<ke+1;Ke++){this.pdf.setPage(Ke);var Re=Ke===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],ve=Ve-this.margin[0],Oe=this.pdf.internal.pageSize.width-this.margin[1],Te=Oe-this.margin[3],Xe=Ke===1?0:Je+(Ke-2)*ve;if(this.ctx.clip_path.length!==0){var ot=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(H,this.posX+this.margin[3],-1*Xe+Re),G.call(this,"fill",!0),this.path=ot}var Be=x([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-Xe+Re+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*A.scale),ee=this.lineWidth,this.lineWidth=ee*A.scale);var nt=this.autoPaging!=="text";if(nt||Be.y+Be.h<=Ve){if(nt||Be.y>=Re&&Be.x<=Oe){var Ie=nt?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||Oe-Be.x)[0],mt=x([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-Xe+Re+this.ctx.prevPageLastElemOffset)[0],wt=nt&&(Ke>Ye||Ke<ke)&&S.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Te,ve,null).clip().discardPath()),this.pdf.text(Ie,mt.x,mt.y,{angle:A.angle,align:D,renderingMode:A.renderingMode}),wt&&this.pdf.restoreGraphicsState()}}else Be.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-Be.y);A.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=ee)}}else A.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*A.scale),ee=this.lineWidth,this.lineWidth=ee*A.scale),this.pdf.text(A.text,fe.x+this.posX,fe.y+this.posY,{angle:A.angle,align:D,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=ee)},K=function(A,D,H,X){H=H||0,X=X||0,this.pdf.internal.out(r(A+H)+" "+n(D+X)+" l")},J=function(A,D,H){return this.pdf.lines(A,D,H,null,null)},he=function(A,D,H,X,ee,ie,ge,te){this.pdf.internal.out([t(i(H+A)),t(s(X+D)),t(i(ee+A)),t(s(ie+D)),t(i(ge+A)),t(s(te+D)),"c"].join(" "))},me=function(A,D,H,X){for(var ee=2*Math.PI,ie=Math.PI/2;D>H;)D-=ee;var ge=Math.abs(H-D);ge<ee&&X&&(ge=ee-ge);for(var te=[],fe=X?-1:1,xe=D;ge>1e-5;){var Le=xe+fe*Math.min(ge,ie);te.push(ue.call(this,A,xe,Le)),ge-=Math.abs(Le-xe),xe=Le}return te},ue=function(A,D,H){var X=(H-D)/2,ee=A*Math.cos(X),ie=A*Math.sin(X),ge=ee,te=-ie,fe=ge*ge+te*te,xe=fe+ge*ee+te*ie,Le=4/3*(Math.sqrt(2*fe*xe)-xe)/(ge*ie-te*ee),Pe=ge-Le*te,He=te+Le*ge,U=Pe,Ce=-He,ct=X+D,Ye=Math.cos(ct),ke=Math.sin(ct);return{x1:A*Math.cos(D),y1:A*Math.sin(D),x2:Pe*Ye-He*ke,y2:Pe*ke+He*Ye,x3:U*Ye-Ce*ke,y3:U*ke+Ce*Ye,x4:A*Math.cos(H),y4:A*Math.sin(H)}},Z=function(A){return 180*A/Math.PI},R=function(A,D,H,X,ee,ie){var ge=A+.5*(H-A),te=D+.5*(X-D),fe=ee+.5*(H-ee),xe=ie+.5*(X-ie),Le=Math.min(A,ee,ge,fe),Pe=Math.max(A,ee,ge,fe),He=Math.min(D,ie,te,xe),U=Math.max(D,ie,te,xe);return new o(Le,He,Pe-Le,U-He)},oe=function(A,D,H,X,ee,ie,ge,te){var fe,xe,Le,Pe,He,U,Ce,ct,Ye,ke,Ke,Re,Je,Ve,ve=H-A,Oe=X-D,Te=ee-H,Xe=ie-X,ot=ge-ee,Be=te-ie;for(xe=0;xe<41;xe++)Ye=(Ce=(Le=A+(fe=xe/40)*ve)+fe*((He=H+fe*Te)-Le))+fe*(He+fe*(ee+fe*ot-He)-Ce),ke=(ct=(Pe=D+fe*Oe)+fe*((U=X+fe*Xe)-Pe))+fe*(U+fe*(ie+fe*Be-U)-ct),xe==0?(Ke=Ye,Re=ke,Je=Ye,Ve=ke):(Ke=Math.min(Ke,Ye),Re=Math.min(Re,ke),Je=Math.max(Je,Ye),Ve=Math.max(Ve,ke));return new o(Math.round(Ke),Math.round(Re),Math.round(Je-Ke),Math.round(Ve-Re))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,D,H=(A=this.ctx.lineDash,D=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:D}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(Ge.API),function(e){var t=function(a){var o,l,c,d,m,v,p,_,S,k;for(l=[],c=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>c;c+=4)(m=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(v=(m=((m=((m=((m=(m-(k=m%85))/85)-(S=m%85))/85)-(_=m%85))/85)-(p=m%85))/85)%85,l.push(v+33,p+33,_+33,S+33,k+33)):l.push(122);return function(w,x){for(var N=x;N>0;N--)w.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,c,d,m,v=String,p="length",_=255,S="charCodeAt",k="slice",w="replace";for(a[k](-2),a=a[k](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),c=[],d=0,m=(a+=o="uuuuu"[k](a[p]%5||5))[p];m>d;d+=5)l=52200625*(a[S](d)-33)+614125*(a[S](d+1)-33)+7225*(a[S](d+2)-33)+85*(a[S](d+3)-33)+(a[S](d+4)-33),c.push(_&l>>24,_&l>>16,_&l>>8,_&l);return function(x,N){for(var E=N;E>0;E--)x.pop()}(c,o[p]),v.fromCharCode.apply(v,c)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=z1(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,o){var l=0,c=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(Ge.API),function(e){e.loadFile=function(t,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,d){var m=new XMLHttpRequest,v=0,p=function(_){var S=_.length,k=[],w=String.fromCharCode;for(v=0;v<S;v+=1)k.push(w(255&_.charCodeAt(v)));return k.join("")};if(m.open("GET",l,!c),m.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(m.onload=function(){m.status===200?d(p(this.responseText)):d(void 0)}),m.send(null),c&&m.status===200)return p(m.responseText)}(i,s,a)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Ge.API),function(e){function t(){return(rt.html2canvas?Promise.resolve(rt.html2canvas):ya(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(rt.DOMPurify?Promise.resolve(rt.DOMPurify):ya(()=>import("./purify.es-sOfw8HaZ.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=It(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},s=function o(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),m=l.firstChild;m;m=m.nextSibling)c!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||d.appendChild(o(m,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return(d=d.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var _=d[p],S=_.src.find(function(k){return k.format==="truetype"});S&&c.addFont(S.url,_.ref.name,_.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,c.context2d.save(!0),l(this.prop.container,v)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||Ge.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,m){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(v){return c.updateProgress(null,d),v}).then(d,m).then(function(v){return c.updateProgress(1),v})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),v=c.call(m,o,l);return a.convert(v,d.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ge.getPageSize=function(o,l,c){if(It(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var m,v=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+l}var _,S=0,k=0;if(p.hasOwnProperty(v))S=p[v][1]/m,k=p[v][0]/m;else try{S=c[1],k=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",k>S&&(_=k,k=S,S=_);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",S>k&&(_=k,k=S,S=_)}return{width:k,height:S,unit:l,k:m,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(jp):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(Ge.API),Ge.API.addJS=function(e){return oy=e,this.internal.events.subscribe("postPutResources",function(){uh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(uh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ay=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+oy+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){uh!==void 0&&ay!==void 0&&this.internal.out("/Names <</JavaScript "+uh+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(s=0;s<c;s++){var m=r.internal.newObject();d.push(m);var v=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Ge.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,s,a,o){var l,c=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(m){for(var v,p=256*m.charCodeAt(4)+m.charCodeAt(5),_=m.length,S={width:0,height:0,numcomponents:1},k=4;k<_;k+=2){if(k+=p,t.indexOf(m.charCodeAt(k+1))!==-1){v=256*m.charCodeAt(k+5)+m.charCodeAt(k+6),S={width:256*m.charCodeAt(k+7)+m.charCodeAt(k+8),height:v,numcomponents:m.charCodeAt(k+9)};break}p=256*m.charCodeAt(k+2)+m.charCodeAt(k+3)}return S}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return d}}(Ge.API),Ge.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=pL(e,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,d=s.depth;i=c&&l===1?function(B){for(var O=B.width,q=B.height,C=B.data,M=B.palette,K=B.depth,J=!1,he=[],me=[],ue=void 0,Z=!1,R=0,oe=0;oe<M.length;oe++){var se=t5(M[oe],4),A=se[0],D=se[1],H=se[2],X=se[3];he.push(A,D,H),X!=null&&(X===0?(R++,me.length<1&&me.push(oe)):X<255&&(Z=!0))}if(Z||R>1){J=!0,me=void 0;var ee=O*q;ue=new Uint8Array(ee);for(var ie=new DataView(C.buffer),ge=0;ge<ee;ge++){var te=Ep(ie,ge,K),fe=t5(M[te],4)[3];ue[ge]=fe}}else R===0&&(me=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:C,alphaBytes:ue,needSMask:J,palette:he,mask:me}}(s):l===2||l===4?function(B){for(var O=B.data,q=B.width,C=B.height,M=B.channels,K=B.depth,J=M===2?"DeviceGray":"DeviceRGB",he=M-1,me=q*C,ue=he,Z=me*ue,R=1*me,oe=Math.ceil(Z*K/8),se=Math.ceil(R*K/8),A=new Uint8Array(oe),D=new Uint8Array(se),H=new DataView(O.buffer),X=new DataView(A.buffer),ee=new DataView(D.buffer),ie=!1,ge=0;ge<me;ge++){for(var te=ge*M,fe=0;fe<ue;fe++)gy(X,Ep(H,te+fe,K),ge*ue+fe,K);var xe=Ep(H,te+ue,K);xe<(1<<K)-1&&(ie=!0),gy(ee,xe,1*ge,K)}return{colorSpace:J,colorsPerPixel:he,sMaskBitsPerComponent:ie?K:void 0,colorBytes:A,alphaBytes:D,needSMask:ie}}(s):function(B){var O=B.data,q=B.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:O instanceof Uint16Array?function(C){for(var M=C.length,K=new Uint8Array(2*M),J=new DataView(K.buffer,K.byteOffset,K.byteLength),he=0;he<M;he++)J.setUint16(2*he,C[he],!1);return K}(O):O,needSMask:!1}}(s);var m,v,p,_=i,S=_.colorSpace,k=_.colorsPerPixel,w=_.sMaskBitsPerComponent,x=_.colorBytes,N=_.alphaBytes,E=_.needSMask,G=_.palette,V=_.mask,Y=null;return n!==Ge.API.image_compression.NONE&&typeof z1=="function"?(Y=function(B){var O;switch(B){case Ge.API.image_compression.FAST:O=11;break;case Ge.API.image_compression.MEDIUM:O=13;break;case Ge.API.image_compression.SLOW:O=14;break;default:O=12}return O}(n),m=this.decode.FLATE_DECODE,v="/Predictor ".concat(Y," /Colors ").concat(k," /BitsPerComponent ").concat(d," /Columns ").concat(a),e=dy(x,Math.ceil(a*k*d/8),k,d,n),E&&(p=dy(N,Math.ceil(a*w/8),1,w,n))):(m=void 0,v=void 0,e=x,E&&(p=N)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:e,index:t,filter:m,decodeParameters:v,transparency:V,palette:G,sMask:p,predictor:Y,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:w,colorSpace:S}}},function(e){e.processGIF89A=function(t,r,n,i){var s=new RL(t),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},d=new Pp(100).encode(c,100);return e.processJPEG.call(this,d,r,n,i)},e.processGIF87A=e.processGIF89A}(Ge.API),gi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Bt.log("bit decode error:"+r)}},gi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},gi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},gi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},gi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,d=n*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=c}this.pos+=e}},gi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/t*255|0,d=i*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},gi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},gi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},gi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var s=new gi(t,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new Pp(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(Ge.API),yy.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var s=new yy(t),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new Pp(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(Ge.API),Ge.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var d=n[c],m=n[c+1],v=n[c+2],p=n[c+3];s[o++]=d,s[o++]=m,s[o++]=v,a[l++]=p}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:_,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ge.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jo=Ge.API,ch=Jo.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,m=t.doKerning!==!1,v=0,p=e.length,_=0,S=o[0]||l,k=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(v=m&&It(c[n])==="object"&&!isNaN(parseInt(c[n][_],10))?c[n][_]/d:0,k.push((o[n]||S)/l+v)),_=n;return k},ly=Jo.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Jo.processArabic&&(e=Jo.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:ch.apply(this,arguments).reduce(function(s,a){return s+a},0)},uy=function(e,t,r,n){for(var i=[],s=0,a=e.length,o=0;s!==a&&o+t[s]<r;)o+=t[s],s++;i.push(e.slice(0,s));var l=s;for(o=0;s!==a;)o+t[s]>n&&(i.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},cy=function(e,t,r){r||(r={});var n,i,s,a,o,l,c,d=[],m=[d],v=r.textIndent||0,p=0,_=0,S=e.split(" "),k=ch.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?S[0].length+2:r.lineIndent||0){var w=Array(l).join(" "),x=[];S.map(function(E){(E=E.split(/\s*\n/)).length>1?x=x.concat(E.map(function(G,V){return(V&&G.length?`
`:"")+G})):x.push(E[0])}),S=x,l=ly.apply(this,[w,r])}for(s=0,a=S.length;s<a;s++){var N=0;if(n=S[s],l&&n[0]==`
`&&(n=n.substr(1),N=1),v+p+(_=(i=ch.apply(this,[n,r])).reduce(function(E,G){return E+G},0))>t||N){if(_>t){for(o=uy.apply(this,[n,i,t-(v+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)m.push([o.shift()]);_=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(E,G){return E+G},0)}else d=[n];m.push(d),v=_+l,p=k}else d.push(n),v+=p+_,p=k}return c=l?function(E,G){return(G?w:"")+E.join(" ")}:function(E){return E.join(" ")},m.map(c)},Jo.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var m=this.internal.getFont(d.fontName,d.fontStyle),v="Unicode";return m.metadata[v]?{widths:m.metadata[v].widths||{0:1},kerning:m.metadata[v].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(cy.apply(this,[n[o],a,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=t[s],i[t[s]]=r[s];var a=function(v){return"0x"+parseInt(v,10).toString(16)},o=e.__fontmetrics__.compress=function(v){var p,_,S,k,w=["{"];for(var x in v){if(p=v[x],isNaN(parseInt(x,10))?_="'"+x+"'":(x=parseInt(x,10),_=(_=a(x).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof p=="number")p<0?(S=a(p).slice(3),k="-"):(S=a(p).slice(2),k=""),S=k+S.slice(0,-1)+i[S.slice(-1)];else{if(It(p)!=="object")throw new Error("Don't know what to do with value type "+It(p)+".");S=o(p)}w.push(_+S)}return w.push("}"),w.join("")},l=e.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,_,S,k,w={},x=1,N=w,E=[],G="",V="",Y=v.length-1,B=1;B<Y;B+=1)(k=v[B])=="'"?p?(S=p.join(""),p=void 0):p=[]:p?p.push(k):k=="{"?(E.push([N,S]),N={},S=void 0):k=="}"?((_=E.pop())[0][_[1]]=N,S=void 0,N=_[0]):k=="-"?x=-1:S===void 0?n.hasOwnProperty(k)?(G+=n[k],S=parseInt(G,16)*x,x=1,G=""):G+=k:n.hasOwnProperty(k)?(V+=n[k],N[S]=parseInt(V,16)*x,x=1,S=void 0,V=""):V+=k;return w},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},m={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(v){var p=v.font,_=m.Unicode[p.postScriptName];_&&(p.metadata.Unicode={},p.metadata.Unicode.widths=_.widths,p.metadata.Unicode.kerning=_.kerning);var S=d.Unicode[p.postScriptName];S&&(p.metadata.Unicode.encoding=S,p.encoding=S.codePages[0])}])}(Ge.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Lh(o)),a.metadata=e.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(Ge),Ge.API.addSvgAsImage=function(e,t,r,n,i,s,a,o){if(isNaN(t)||isNaN(r))throw Bt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Bt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(rt.canvg?Promise.resolve(rt.canvg):ya(()=>import("./index.es-C-duhcgi.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(c,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(d)}).then(function(){m.addImage(l.toDataURL("image/jpeg",1),t,r,n,i,a,o)})},Ge.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},Ge.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,d=0,m=0;function v(_,S){var k,w=!1;for(k=0;k<_.length;k+=1)_[k]===S&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(m=0;m<p;m+=1)r[o[m]].value=r[o[m]].defaultValue,r[o[m]].explicitSet=!1}if(It(e)==="object"){for(i in e)if(s=e[i],v(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&v(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(d=0;d<s[c].length;d+=1)typeof s[c][d]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,S=[];for(_ in r)r[_].explicitSet===!0&&(r[_].type==="name"?S.push("/"+_+" /"+r[_].value):S.push("/"+_+" "+r[_].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Ge.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],m=0,v=s.length;m<v;++m){if(o=a.metadata.characterToGlyph(s.charCodeAt(m)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(m),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(c[4-o.length],o)}return d.join("")},n=function(s){var a,o,l,c,d,m,v;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,v=(o=Object.keys(s).sort(function(p,_){return p-_})).length;m<v;m++)a=o[m],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,d=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,v=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",_=0;_<v.length;_++)p+=String.fromCharCode(v[_]);var S=c();d({data:p,addLength1:!0,objectId:S}),l("endobj");var k=c();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+tl(o.fontName)),l("/FontFile2 "+S+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var x=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+tl(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+e.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+k+" 0 R"),l("/BaseFont /"+tl(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,d=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,v="",p=0;p<m.length;p++)v+=String.fromCharCode(m[p]);var _=c();d({data:v,addLength1:!0,objectId:_}),l("endobj");var S=c();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var k=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+tl(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+tl(o.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,d=s.options||{},m=s.mutex||{},v=m.pdfEscape,p=m.activeFontKey,_=m.fonts,S=p,k="",w=0,x="",N=_[S].encoding;if(_[S].encoding!=="Identity-H")return{text:o,x:l,y:c,options:d,mutex:m};for(x=o,S=p,Array.isArray(o)&&(x=o[0]),w=0;w<x.length;w+=1)_[S].metadata.hasOwnProperty("cmap")&&(a=_[S].metadata.cmap.unicode.codeMap[x[w].charCodeAt(0)]),a||x[w].charCodeAt(0)<256&&_[S].metadata.hasOwnProperty("Unicode")?k+=x[w]:k+="";var E="";return parseInt(S.slice(1))<14||N==="WinAnsiEncoding"?E=v(k,S).split("").map(function(G){return G.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(E=r(k,_[S])),m.isHex=!0,{text:E,x:l,y:c,options:d,mutex:m}};t.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(Ge),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ge.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,s,a,o,l,c,d,m=t,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,N=0;this.__bidiEngine__={};var E=function(C){var M=C.charCodeAt(),K=M>>8,J=S[K];return J!==void 0?m[256*J+(255&M)]:K===252||K===253?"AL":w.test(K)?"L":K===8?"R":"N"},G=function(C){for(var M,K=0;K<C.length;K++){if((M=E(C.charAt(K)))==="L")return!1;if(M==="R")return!0}return!1},V=function(C,M,K,J){var he,me,ue,Z,R=M[J];switch(R){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&(R="AN");break;case"AL":x=!0,R="R";break;case"WS":case"BN":R="N";break;case"CS":J<1||J+1>=M.length||(he=K[J-1])!=="EN"&&he!=="AN"||(me=M[J+1])!=="EN"&&me!=="AN"?R="N":x&&(me="AN"),R=me===he?me:"N";break;case"ES":R=(he=J>0?K[J-1]:"B")==="EN"&&J+1<M.length&&M[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&K[J-1]==="EN"){R="EN";break}if(x){R="N";break}for(ue=J+1,Z=M.length;ue<Z&&M[ue]==="ET";)ue++;R=ue<Z&&M[ue]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(Z=M.length,ue=J+1;ue<Z&&M[ue]==="NSM";)ue++;if(ue<Z){var oe=C[J],se=oe>=1425&&oe<=2303||oe===64286;if(he=M[ue],se&&(he==="R"||he==="AL")){R="R";break}}}R=J<1||(he=M[J-1])==="B"?"N":K[J-1];break;case"B":x=!1,i=!0,R=N;break;case"S":s=!0,R="N"}return R},Y=function(C,M,K){var J=C.split("");return K&&B(J,K,{hiLevel:N}),J.reverse(),M&&M.reverse(),J.join("")},B=function(C,M,K){var J,he,me,ue,Z,R=-1,oe=C.length,se=0,A=[],D=N?p:v,H=[];for(x=!1,i=!1,s=!1,he=0;he<oe;he++)H[he]=E(C[he]);for(me=0;me<oe;me++){if(Z=se,A[me]=V(C,H,A,me),J=240&(se=D[Z][_[A[me]]]),se&=15,M[me]=ue=D[se][5],J>0)if(J===16){for(he=R;he<me;he++)M[he]=1;R=-1}else R=-1;if(D[se][6])R===-1&&(R=me);else if(R>-1){for(he=R;he<me;he++)M[he]=ue;R=-1}H[me]==="B"&&(M[me]=0),K.hiLevel|=ue}s&&function(X,ee,ie){for(var ge=0;ge<ie;ge++)if(X[ge]==="S"){ee[ge]=N;for(var te=ge-1;te>=0&&X[te]==="WS";te--)ee[te]=N}}(H,M,oe)},O=function(C,M,K,J,he){if(!(he.hiLevel<C)){if(C===1&&N===1&&!i)return M.reverse(),void(K&&K.reverse());for(var me,ue,Z,R,oe=M.length,se=0;se<oe;){if(J[se]>=C){for(Z=se+1;Z<oe&&J[Z]>=C;)Z++;for(R=se,ue=Z-1;R<ue;R++,ue--)me=M[R],M[R]=M[ue],M[ue]=me,K&&(me=K[R],K[R]=K[ue],K[ue]=me);se=Z}se++}}},q=function(C,M,K){var J=C.split(""),he={hiLevel:N};return K||(K=[]),B(J,K,he),function(me,ue,Z){if(Z.hiLevel!==0&&d)for(var R,oe=0;oe<me.length;oe++)ue[oe]===1&&(R=k.indexOf(me[oe]))>=0&&(me[oe]=k[R+1])}(J,K,he),O(2,J,M,K,he),O(1,J,M,K,he),J.join("")};return this.__bidiEngine__.doBidiReorder=function(C,M,K){if(function(he,me){if(me)for(var ue=0;ue<he.length;ue++)me[ue]=ue;o===void 0&&(o=G(he)),c===void 0&&(c=G(he))}(C,M),a||!l||c)if(a&&l&&o^c)N=o?1:0,C=Y(C,M,K);else if(!a&&l&&c)N=o?1:0,C=q(C,M,K),C=Y(C,M);else if(!a||o||l||c){if(a&&!l&&o^c)C=Y(C,M),o?(N=0,C=q(C,M,K)):(N=1,C=q(C,M,K),C=Y(C,M));else if(a&&o&&!l&&c)N=1,C=q(C,M,K),C=Y(C,M);else if(!a&&!l&&o^c){var J=d;o?(N=1,C=q(C,M,K),N=0,d=!1,C=q(C,M,K),d=J):(N=0,C=q(C,M,K),C=Y(C,M),N=1,d=!1,C=q(C,M,K),d=J,C=Y(C,M))}}else N=0,C=q(C,M,K);else N=o?1:0,C=q(C,M,K);return C},this.__bidiEngine__.setOptions=function(C){C&&(a=C.isInputVisual,l=C.isOutputVisual,o=C.isInputRtl,c=C.isOutputRtl,d=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Ge),Ge.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Na(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new YL(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new FL(this.contents),this.head=new DL(this),this.name=new qL(this),this.cmap=new Ex(this),this.toUnicode={},this.hhea=new BL(this),this.maxp=new WL(this),this.hmtx=new HL(this),this.post=new zL(this),this.os2=new UL(this),this.loca=new JL(this),this.glyf=new VL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)t=l[a],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,s,a,o;for(a=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ji,Na=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,s,a,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,s;for(s=[],n=0,i=t.length;n<i;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),FL=function(){var e;function t(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,s,a,o,l,c,d,m,v,p,_,S;for(S in p=Object.keys(r).length,l=Math.log(2),m=16*Math.floor(Math.log(p)/l),a=Math.floor(m/l),d=16*p-m,(i=new Na).writeInt(this.scalarType),i.writeShort(p),i.writeShort(m),i.writeShort(a),i.writeShort(d),s=16*p,c=i.pos+s,o=null,_=[],r)for(v=r[S],i.writeString(S),i.writeInt(e(v)),i.writeInt(c),i.writeInt(v.length),_=_.concat(v),S==="head"&&(o=c),c+=v.length;c%4;)_.push(0),c++;return i.write(_),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(r){var n,i,s,a;for(r=Px.call(r);r.length%4;)r.push(0);for(s=new Na(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},t}(),ML={}.hasOwnProperty,Ji=function(e,t){for(var r in t)ML.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ji=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var DL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,ji),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Na).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),wy=function(){function e(t,r){var n,i,s,a,o,l,c,d,m,v,p,_,S,k,w,x,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),v=p/2,t.pos+=6,s=function(){var E,G;for(G=[],l=E=0;0<=v?E<v:E>v;l=0<=v?++E:--E)G.push(t.readUInt16());return G}(),t.pos+=2,S=function(){var E,G;for(G=[],l=E=0;0<=v?E<v:E>v;l=0<=v?++E:--E)G.push(t.readUInt16());return G}(),c=function(){var E,G;for(G=[],l=E=0;0<=v?E<v:E>v;l=0<=v?++E:--E)G.push(t.readUInt16());return G}(),d=function(){var E,G;for(G=[],l=E=0;0<=v?E<v:E>v;l=0<=v?++E:--E)G.push(t.readUInt16());return G}(),i=(this.length-t.pos+this.offset)/2,o=function(){var E,G;for(G=[],l=E=0;0<=i?E<i:E>i;l=0<=i?++E:--E)G.push(t.readUInt16());return G}(),l=w=0,N=s.length;w<N;l=++w)for(k=s[l],n=x=_=S[l];_<=k?x<=k:x>=k;n=_<=k?++x:--x)d[l]===0?a=n+c[l]:(a=o[d[l]/2+(n-_)-(v-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}t.pos=m}return e.encode=function(t,r){var n,i,s,a,o,l,c,d,m,v,p,_,S,k,w,x,N,E,G,V,Y,B,O,q,C,M,K,J,he,me,ue,Z,R,oe,se,A,D,H,X,ee,ie,ge,te,fe,xe,Le;switch(J=new Na,a=Object.keys(t).sort(function(Pe,He){return Pe-He}),r){case"macroman":for(S=0,k=function(){var Pe=[];for(_=0;_<256;++_)Pe.push(0);return Pe}(),x={0:0},s={},he=0,R=a.length;he<R;he++)x[te=t[i=a[he]]]==null&&(x[te]=++S),s[i]={old:t[i],new:x[t[i]]},k[i]=x[t[i]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(k),{charMap:s,subtable:J.data,maxGlyphID:S+1};case"unicode":for(M=[],m=[],N=0,x={},n={},w=c=null,me=0,oe=a.length;me<oe;me++)x[G=t[i=a[me]]]==null&&(x[G]=++N),n[i]={old:G,new:x[G]},o=x[G]-i,w!=null&&o===c||(w&&m.push(w),M.push(i),c=o),w=i;for(w&&m.push(w),m.push(65535),M.push(65535),q=2*(O=M.length),B=2*Math.pow(Math.log(O)/Math.LN2,2),v=Math.log(B/2)/Math.LN2,Y=2*O-B,l=[],V=[],p=[],_=ue=0,se=M.length;ue<se;_=++ue){if(C=M[_],d=m[_],C===65535){l.push(0),V.push(0);break}if(C-(K=n[C].new)>=32768)for(l.push(0),V.push(2*(p.length+O-_)),i=Z=C;C<=d?Z<=d:Z>=d;i=C<=d?++Z:--Z)p.push(n[i].new);else l.push(K-C),V.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*O+2*p.length),J.writeUInt16(0),J.writeUInt16(q),J.writeUInt16(B),J.writeUInt16(v),J.writeUInt16(Y),ie=0,A=m.length;ie<A;ie++)i=m[ie],J.writeUInt16(i);for(J.writeUInt16(0),ge=0,D=M.length;ge<D;ge++)i=M[ge],J.writeUInt16(i);for(fe=0,H=l.length;fe<H;fe++)o=l[fe],J.writeUInt16(o);for(xe=0,X=V.length;xe<X;xe++)E=V[xe],J.writeUInt16(E);for(Le=0,ee=p.length;Le<ee;Le++)S=p[Le],J.writeUInt16(S);return{charMap:n,subtable:J.data,maxGlyphID:N+1}}},e}(),Ex=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,ji),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new wy(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=wy.encode(t,r),(i=new Na).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),BL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,ji),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),UL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,ji),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),zL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,ji),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(t.readUInt32());return l}).call(this)}},e}(),$L=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},qL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,ji),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,s,a,o,l,c,d,m,v;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},s=d=0,m=n.length;d<m;s=++d)i=n[s],t.pos=i.offset,c=t.readString(i.length),a=new $L(c,i),l[v=i.nameID]==null&&(l[v]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),WL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,ji),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),HL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,ji),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,s,a,o,l;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)d.push(t.readInt16());return d}(),this.widths=(function(){var c,d,m,v;for(v=[],c=0,d=(m=this.metrics).length;c<d;c++)s=m[c],v.push(s.advance);return v}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),Px=[].slice,VL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,ji),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,s,a,o,l,c,d,m;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,a=(o=new Na(r.read(i))).readShort(),c=o.readShort(),m=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[t]=a===-1?new KL(o,c,m,l,d):new GL(o,a,c,m,l,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=r.length;o<l;o++)i=t[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},e}(),GL=function(){function e(t,r,n,i,s,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),KL=function(){function e(t,r,n,i,s){var a,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Na(Px.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),JL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ji(e,ji),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),d=0;d<n.length;++d)c[4*d+3]=255&n[d],c[4*d+2]=(65280&n[d])>>8,c[4*d+1]=(16711680&n[d])>>16,c[4*d]=(4278190080&n[d])>>24;return c},e}(),YL=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,s,a,o,l;for(i={},a=0,o=t.length;a<o;a++)i[s=t[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},e.prototype.encode=function(t,r){var n,i,s,a,o,l,c,d,m,v,p,_,S,k,w;for(i in n=Ex.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),p={0:0},w=n.charMap)p[(l=w[i]).old]=l.new;for(_ in v=n.maxGlyphID,a)_ in p||(p[_]=v++);return d=function(x){var N,E;for(N in E={},x)E[x[N]]=N;return E}(p),m=Object.keys(d).sort(function(x,N){return x-N}),S=function(){var x,N,E;for(E=[],x=0,N=m.length;x<N;x++)o=m[x],E.push(d[o]);return E}(),s=this.font.glyf.encode(a,S,p),c=this.font.loca.encode(s.offsets,S),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},e}();Ge.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+t.convert(a));return s.push(">>"),s.join(`
`)}return""+r},t}();const ZL=e=>{switch(e){case"fixed":return"Fix";case"turn":return"Deschidere";case"tilt-turn":return"Oscilobatant";default:return e}},XL=(e,t,r,n,i,s,a,o,l,c)=>{const d=Math.min(n/s,i/a)*.8,m=s*d,v=a*d,p=t+(n-m)/2,_=r+10;if(e.setDrawColor(0,0,0),e.setLineWidth(1),e.rect(p,_,m,v),l>1){const x=m/l;for(let N=1;N<l;N++)e.line(p+N*x,_,p+N*x,_+v)}const S=5;if(l>1&&c&&c.length===l){const x=m/l;c.forEach((N,E)=>{const G=p+E*x;N==="panel"?(e.setFillColor(255,255,255),e.setDrawColor(200,200,200)):(e.setFillColor(224,242,254),e.setDrawColor(200,200,200)),e.setLineWidth(.5),e.rect(G+S,_+S,x-2*S,v-2*S,"FD")})}else e.setFillColor(224,242,254),e.setDrawColor(200,200,200),e.setLineWidth(.5),e.rect(p+S,_+S,m-2*S,v-2*S,"FD");e.setFontSize(8),e.setFont("helvetica","normal"),e.setTextColor(0,0,0);const k=_-5;e.line(p,k,p+m,k),e.line(p,k-2,p,k+2),e.line(p+m,k-2,p+m,k+2),e.text(`${s}`,p+m/2,k-3,{align:"center"});const w=p-8;e.line(w,_,w,_+v),e.line(w-2,_,w+2,_),e.line(w-2,_+v,w+2,_+v),e.text(`${a}`,w-3,_+v/2,{align:"right",angle:90}),o&&(e.setDrawColor(100,100,100),e.setLineWidth(2),e.line(p,_+v,p+m,_+v))};function QL({quote:e,settings:t,onClose:r}){const n=pe.useRef(null),i=()=>{const a=new Ge,o=a.internal.pageSize.getWidth(),l=a.internal.pageSize.getHeight(),c=20;let d=c;const m=e.id.slice(-4)||"0001",p=new Date(e.created_at).toLocaleDateString("ro-RO",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/");a.setFontSize(9),a.setFont("helvetica","normal"),a.setTextColor(0,0,0),a.text(`Oferta nr. ${m} / ${p}`,c,d);const _=a.getNumberOfPages();if(a.text('Realizat cu programul "Termopane Manager"',o-c,d,{align:"right"}),d+=4,a.text(`Pagina nr. ${_} / ${_}`,o-c,d,{align:"right"}),d+=10,a.setFontSize(28),a.setFont("helvetica","bold"),a.setTextColor(0,0,0),a.text("OFERTA DE PRET",o/2,d,{align:"center"}),d+=12,a.setFontSize(11),a.setFont("helvetica","normal"),a.text("Stimate Domnule/Doamna,",c,d),d+=6,a.text("Va prezentam oferta noastra de pret:",c,d),d+=15,e.items.forEach((k,w)=>{if(w>0){a.addPage(),d=c,a.setFontSize(9),a.setFont("helvetica","normal"),a.text(`Oferta nr. ${m} / ${p}`,c,d);const ue=a.getNumberOfPages();a.text(`Pagina nr. ${ue} / ${ue}`,o-c,d,{align:"right"}),d+=25}const x=k.configuration,N=t.profileSeries.find(ue=>ue.id===x.selectedProfileId),E=t.glassTypes.find(ue=>ue.id===x.selectedGlassId),G=t.hardwareOptions.find(ue=>ue.id===x.selectedHardwareId),V=k.item_type==="door";a.setFontSize(12),a.setFont("helvetica","bold");const Y=k.label||`${k.item_type==="window"?"Fereastr":k.item_type==="door"?"U":"Articol"}`,B=e.client_name||"Client";a.text(`${B.toUpperCase()} - ${Y.toUpperCase()} ${w+1} / ${e.items.length} Buc (Cant: ${k.quantity})`,c,d),d+=10;const O=80,q=c+O+10,C=60,M=x.sashes.map(ue=>ue.fillType);XL(a,c,d,O,C,k.width_mm,k.height_mm,V,x.sashCount,M),a.setFontSize(9),a.setFont("helvetica","normal");let K=d+5;a.setFont("helvetica","bold"),a.text("Profil:",q,K),a.setFont("helvetica","normal");const J=N?`${N.name}, ${N.chambers} cam`:"N/A";a.text(J,q+25,K),K+=5,x.selectedColor&&(a.setFont("helvetica","bold"),a.text("Culoare (ext/int):",q,K),a.setFont("helvetica","normal"),a.text(x.selectedColor,q+40,K),K+=5),G&&(a.setFont("helvetica","bold"),a.text("Feronerie:",q,K),a.setFont("helvetica","normal"),a.text(G.name,q+25,K),K+=5),a.setFont("helvetica","bold"),a.text("Geam:",q,K),a.setFont("helvetica","normal");const he=E?E.name:"N/A";a.text(he,q+25,K),K+=5,a.setFont("helvetica","bold"),a.text("Dimensiuni:",q,K),a.setFont("helvetica","normal"),a.text(`${k.width_mm}  ${k.height_mm} mm`,q+30,K),K+=5;const me=(k.width_mm*k.height_mm/1e6).toFixed(2);if(a.setFont("helvetica","bold"),a.text("Suprafata:",q,K),a.setFont("helvetica","normal"),a.text(`${me} m`,q+30,K),K+=5,V&&(a.setFont("helvetica","bold"),a.text("Prag:",q,K),a.setFont("helvetica","normal"),a.text("Prag aluminiu usa",q+20,K),K+=5),x.sashes.length>0){a.setFont("helvetica","bold"),a.text("Compartimente:",q,K),K+=5;const ue=k.width_mm/x.sashCount;x.sashes.forEach((Z,R)=>{a.setFont("helvetica","normal"),a.setFontSize(8);const oe=Z.fillType==="panel"?" (Panel PVC)":"";a.text(`  ${R+1}. ${ue.toFixed(0)}${k.height_mm.toFixed(0)}mm - ${ZL(Z.openingType)}${oe}`,q+5,K),K+=4})}if(d+=C+10,w===e.items.length-1){a.setFontSize(10),a.setFont("helvetica","normal"),e.items.forEach((R,oe)=>{const se=(R.width_mm*R.height_mm/1e6).toFixed(2);a.text(`Articol ${oe+1}: ${R.label||"Fr denumire"} - ${se} m  ${R.quantity} buc = ${(R.total_with_vat*R.quantity).toFixed(2)} RON`,c,d),d+=5}),d+=5;const ue=o-c-80;a.setFontSize(10),a.setFont("helvetica","bold"),a.text("Subtotal:",ue,d),a.setFont("helvetica","normal"),a.text(`${e.subtotal.toFixed(2)} RON`,o-c,d,{align:"right"}),d+=6,e.discount_total>0&&(a.setFont("helvetica","bold"),a.text("Discount:",ue,d),a.setFont("helvetica","normal"),a.text(`-${e.discount_total.toFixed(2)} RON`,o-c,d,{align:"right"}),d+=6),a.setFont("helvetica","bold"),a.text("Valoare fr TVA:",ue,d),a.setFont("helvetica","normal");const Z=e.subtotal-e.discount_total;a.text(`${Z.toFixed(2)} RON`,o-c,d,{align:"right"}),d+=6,a.setFont("helvetica","bold"),a.text(`Cota TVA ${(e.vat_rate*100).toFixed(0)}%:`,ue,d),a.setFont("helvetica","normal"),a.text(`${e.vat_amount.toFixed(2)} RON`,o-c,d,{align:"right"}),d+=6,a.setFontSize(12),a.setFont("helvetica","bold"),a.text("Valoare lucrare:",ue,d),a.text(`${e.total.toFixed(2)} RON`,o-c,d,{align:"right"}),d+=15}}),e.items.length>0){let k=d;k>l-60&&(a.addPage(),k=c+20),a.setFontSize(10),a.setFont("helvetica","bold"),a.setTextColor(0,0,0),a.text("REZUMAT MATERIALE (pentru informare intern):",c,k),k+=8,a.setFont("helvetica","normal"),a.setFontSize(9),e.totalGlassAreaSqm&&e.totalGlassAreaSqm>0&&(a.text(`- Total sticl: ${e.totalGlassAreaSqm.toFixed(2)} m`,c+5,k),k+=6),e.totalProfileLengthBySeries&&Object.keys(e.totalProfileLengthBySeries).length>0&&(a.setFont("helvetica","bold"),a.text("Profiluri utilizate:",c+5,k),k+=6,a.setFont("helvetica","normal"),Object.entries(e.totalProfileLengthBySeries).forEach(([w,x])=>{x>0&&(a.text(`- ${w}: ${x.toFixed(2)} ml`,c+5,k),k+=6)}))}const S=a.getNumberOfPages();S===1&&a.addPage();for(let k=1;k<=S;k++)if(a.setPage(k),a.setFontSize(8),a.setFont("helvetica","normal"),a.setTextColor(100,100,100),a.text(`Pagina nr. ${k} / ${S}`,o-c,l-10,{align:"right"}),k===S){a.setFontSize(7),a.text("Fenestra 2000: 1.0.0",c,l-10),a.text("Model de ofertare dealer (Fara montaj)",c,l-5);const w=l-50;a.setFontSize(9),a.setFont("helvetica","bold"),a.setTextColor(0,0,0),a.text("Termen de livrare:",c,w),a.text("Avans:",c,w+6),a.text("Garantie:",c,w+12),a.text("Valabilitatea ofertei:",c,w+18),a.setFont("helvetica","normal");const x=[e.client_name&&`Nume: ${e.client_name}`,e.client_address&&`Adres: ${e.client_address}`,e.client_phone&&`Telefon: ${e.client_phone}`,e.client_email&&`Email: ${e.client_email}`].filter(Boolean).join(" | ");x&&a.text(`Client: ${x}`,c,w+30),a.setFont("helvetica","normal"),a.text("Cu respect,",c,w+40)}return a};pe.useEffect(()=>{const o=i().output("blob"),l=URL.createObjectURL(o);return n.current&&(n.current.src=l),()=>{URL.revokeObjectURL(l)}},[e,t]);const s=()=>{const a=i(),l=`Oferta_${(e.client_name||"Client").replace(/\s+/g,"_")}_${new Date(e.created_at).toISOString().split("T")[0]}.pdf`;a.save(l)};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-5xl h-[90vh] flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Previzualizare PDF"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[f.jsx(K6,{className:"w-4 h-4"}),"Export PDF"]}),f.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:f.jsx(Jm,{className:"w-5 h-5"})})]})]}),(e.totalGlassAreaSqm||e.totalProfileLengthBySeries)&&f.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Rezumat Materiale"}),f.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-700",children:[e.totalGlassAreaSqm&&e.totalGlassAreaSqm>0&&f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:"Total sticl:"})," ",f.jsxs("span",{className:"text-blue-600",children:[e.totalGlassAreaSqm.toFixed(2)," m"]})]}),e.totalProfileLengthBySeries&&Object.entries(e.totalProfileLengthBySeries).map(([a,o])=>o<=0?null:f.jsxs("div",{children:[f.jsxs("span",{className:"font-medium",children:["Profil ",a,":"]})," ",f.jsxs("span",{className:"text-blue-600",children:[o.toFixed(2)," ml"]})]},a))]})]}),f.jsx("div",{className:"flex-1 overflow-hidden",children:f.jsx("iframe",{ref:n,className:"w-full h-full border-0",title:"PDF Preview"})})]})})}function eE({summary:e,quote:t,onClose:r}){return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:r,children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:n=>n.stopPropagation(),children:[f.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Necesar materiale pentru ofert"}),f.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.id," ",t.client_name&&` ${t.client_name}`,t.reference&&`  ${t.reference}`]})]}),f.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"nchide",children:f.jsx(Jm,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Profiluri (ml)"}),e.profiles.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Productor"}),f.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Tip profil"}),f.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Culoare"}),f.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Total ml"})]})}),f.jsx("tbody",{children:e.profiles.map((n,i)=>f.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[f.jsx("td",{className:"py-3 px-4",children:n.manufacturer}),f.jsx("td",{className:"py-3 px-4",children:n.profile_type}),f.jsx("td",{className:"py-3 px-4",children:n.color_name}),f.jsxs("td",{className:"py-3 px-4 text-right font-medium",children:[n.total_length_m.toFixed(3)," ml"]})]},i))}),f.jsx("tfoot",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("td",{colSpan:3,className:"py-3 px-4 font-semibold text-gray-800",children:"Total:"}),f.jsxs("td",{className:"py-3 px-4 text-right font-bold text-blue-700",children:[e.profiles.reduce((n,i)=>n+i.total_length_m,0).toFixed(3)," ","ml"]})]})})]})}):f.jsx("p",{className:"text-gray-500 italic",children:"Nu exist profiluri n aceast ofert."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Sticl (m)"}),e.glass.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Tip sticl"}),f.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Total m"})]})}),f.jsx("tbody",{children:e.glass.map((n,i)=>f.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[f.jsx("td",{className:"py-3 px-4",children:n.name}),f.jsxs("td",{className:"py-3 px-4 text-right font-medium",children:[n.total_area_sqm.toFixed(3)," m"]})]},i))}),f.jsx("tfoot",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("td",{className:"py-3 px-4 font-semibold text-gray-800",children:"Total:"}),f.jsxs("td",{className:"py-3 px-4 text-right font-bold text-blue-700",children:[e.glass.reduce((n,i)=>n+i.total_area_sqm,0).toFixed(3)," ","m"]})]})})]})}):f.jsx("p",{className:"text-gray-500 italic",children:"Nu exist sticl n aceast ofert."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Feronerie (pachete)"}),e.hardware.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Productor"}),f.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Tip"}),f.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Buci"})]})}),f.jsx("tbody",{children:e.hardware.map((n,i)=>f.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[f.jsx("td",{className:"py-3 px-4",children:n.manufacturer}),f.jsx("td",{className:"py-3 px-4",children:n.name}),f.jsxs("td",{className:"py-3 px-4 text-right font-medium",children:[n.total_packs," ",n.total_packs===1?"bucat":"buci"]})]},i))}),f.jsx("tfoot",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("td",{colSpan:2,className:"py-3 px-4 font-semibold text-gray-800",children:"Total:"}),f.jsxs("td",{className:"py-3 px-4 text-right font-bold text-blue-700",children:[e.hardware.reduce((n,i)=>n+i.total_packs,0)," ","buci"]})]})})]})}):f.jsx("p",{className:"text-gray-500 italic",children:"Nu exist feronerie n aceast ofert."})]})]}),f.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end",children:f.jsx("button",{onClick:r,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"nchide"})})]})})}function tE(e,t,r,n){const i=new Map,s=new Map,a=new Map;e.items.forEach(d=>{var E,G,V;const m=d.quantity||1;if(d.profile_series_id){const Y=t.find(B=>B.id===d.profile_series_id);if(Y){let B=d.profile_length_m||0;if(!B&&d.base_cost>0&&Y.pricePerMeter>0&&(B=d.base_cost/Y.pricePerMeter),B>0){const O=`${Y.manufacturer||"N/A"}|${Y.profile_type||"N/A"}|${Y.color_name||Y.colorCategory||"N/A"}`,q=B*m;if(i.has(O)){const C=i.get(O);C.total_length_m+=q}else i.set(O,{manufacturer:Y.manufacturer||"N/A",profile_type:Y.profile_type||"N/A",color_name:Y.color_name||Y.colorCategory||"N/A",total_length_m:q})}}}let v;(E=d.configuration)!=null&&E.selectedGlassId&&(v=d.configuration.selectedGlassId);let p=d.glass_area_sqm||0;if(!p&&d.width_mm>0&&d.height_mm>0&&(p=d.width_mm*d.height_mm/1e6),p>0){const Y=v?r.find(q=>q.id===v):null,B=(Y==null?void 0:Y.name)||"Necunoscut",O=p*m;if(s.has(B)){const q=s.get(B);q.total_area_sqm+=O}else s.set(B,{name:B,total_area_sqm:O})}let _;(G=d.configuration)!=null&&G.selectedHardwareId&&(_=d.configuration.selectedHardwareId);const S=_?n.find(Y=>Y.id===_):null;let k=0;(V=d.configuration)!=null&&V.sashes&&(k=d.configuration.sashes.filter(Y=>Y.openingType!=="fixed").length),k===0&&(k=1);const w=k*m,x=(S==null?void 0:S.name)||"Necunoscut",N=x;if(a.has(N)){const Y=a.get(N);Y.total_packs+=w}else a.set(N,{manufacturer:"N/A",name:x,total_packs:w})});const o=Array.from(i.values()).sort((d,m)=>d.manufacturer!==m.manufacturer?d.manufacturer.localeCompare(m.manufacturer):d.profile_type!==m.profile_type?d.profile_type.localeCompare(m.profile_type):d.color_name.localeCompare(m.color_name)),l=Array.from(s.values()).sort((d,m)=>d.name.localeCompare(m.name)),c=Array.from(a.values()).sort((d,m)=>d.manufacturer!==m.manufacturer?d.manufacturer.localeCompare(m.manufacturer):d.name.localeCompare(m.name));return{profiles:o,glass:l,hardware:c}}function rE({onEditQuote:e}){const t=Mf(O=>O.settings),[r,n]=pe.useState([]),[i,s]=pe.useState(!0),[a,o]=pe.useState(null),[l,c]=pe.useState(null),[d,m]=pe.useState(null),[v,p]=pe.useState(null),[_,S]=pe.useState(!1),[k,w]=pe.useState("");pe.useEffect(()=>{x()},[]);const x=async()=>{try{s(!0);const O=await pl.fetchQuotes();n(O)}catch(O){console.error("Error loading quotes:",O)}finally{s(!1)}},N=async O=>{try{const q=await pl.fetchQuoteWithItems(O);q&&o(q)}catch(q){console.error("Error loading quote details:",q)}},E=async O=>{if(confirm("Eti sigur c vrei s tergi aceast ofert?"))try{c(O),await pl.deleteQuote(O),n(r.filter(q=>q.id!==O))}catch(q){console.error("Error deleting quote:",q),alert("Eroare la tergerea ofertei. Te rugm s ncerci din nou.")}finally{c(null)}},G=async O=>{try{S(!0);const q=await pl.fetchQuoteWithItems(O);if(!q){alert("Oferta nu a fost gsit.");return}const C=tE(q,t.profileSeries,t.glassTypes,t.hardwareOptions);m(C),p(q)}catch(q){console.error("Error loading material summary:",q),alert("Eroare la ncrcarea sumarului de materiale. Te rugm s ncerci din nou.")}finally{S(!1)}},V=O=>{const q={draft:{label:"Ciorn",color:"bg-gray-100 text-gray-800"},sent:{label:"Trimis",color:"bg-blue-100 text-blue-800"},accepted:{label:"Acceptat",color:"bg-green-100 text-green-800"},rejected:{label:"Respins",color:"bg-red-100 text-red-800"},cancelled:{label:"Anulat",color:"bg-yellow-100 text-yellow-800"}},C=q[O]||q.draft;return f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.color}`,children:C.label})},Y=O=>new Date(O).toLocaleDateString("ro-RO",{year:"numeric",month:"2-digit",day:"2-digit"}),B=pe.useMemo(()=>{if(!k.trim())return r;const O=k.toLowerCase();return r.filter(q=>{var C,M;return((C=q.client_name)==null?void 0:C.toLowerCase().includes(O))||((M=q.reference)==null?void 0:M.toLowerCase().includes(O))})},[r,k]);return f.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-6xl mx-auto",children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-2",children:"Ofertele Mele"}),f.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6 sm:mb-8",children:"Toate ofertele create pentru clieni"}),r.length>0&&f.jsx("div",{className:"mb-6",children:f.jsxs("div",{className:"relative max-w-md",children:[f.jsx(mv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),f.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Caut dup client sau referin...",value:k,onChange:O=>w(O.target.value)})]})}),i?f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[f.jsx(Tu,{className:"w-8 h-8 text-gray-400 mx-auto mb-4 animate-spin"}),f.jsx("p",{className:"text-gray-500",children:"Se ncarc ofertele..."})]}):B.length===0?f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[f.jsx(mv,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nicio ofert gsit"}),f.jsx("p",{className:"text-gray-500",children:k?"ncearc cu alt termen de cutare":"Creeaz prima ta ofert folosind configuratorul vizual"}),k&&f.jsx("button",{onClick:()=>w(""),className:"mt-4 px-4 py-2 text-sm text-blue-600 hover:text-blue-800",children:"terge cutarea"})]}):r.length===0?f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[f.jsx(Fb,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nicio ofert nc"}),f.jsx("p",{className:"text-gray-500",children:"Creeaz prima ta ofert folosind configuratorul vizual"})]}):f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[f.jsx("div",{className:"block md:hidden divide-y divide-gray-200",children:B.map(O=>f.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-medium text-gray-900 mb-1",children:O.client_name||"Fr client"}),f.jsx("div",{className:"text-sm text-gray-600",children:Y(O.created_at)}),O.reference&&f.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Ref: ",O.reference]})]}),f.jsx("div",{className:"ml-4",children:V(O.status)})]}),f.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[f.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[O.total.toFixed(2)," RON"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>N(O.id),className:"p-2.5 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Vezi PDF",children:f.jsx(dv,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>G(O.id),disabled:_,className:"p-2.5 text-green-600 hover:text-green-800 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50",title:"Materiale",children:_?f.jsx(Tu,{className:"w-5 h-5 animate-spin"}):f.jsx(hv,{className:"w-5 h-5"})}),e&&f.jsx("button",{onClick:()=>e(O.id),className:"p-2.5 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Editeaz",children:f.jsx(fv,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>E(O.id),disabled:l===O.id,className:"p-2.5 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"terge",children:l===O.id?f.jsx(Tu,{className:"w-5 h-5 animate-spin"}):f.jsx(ho,{className:"w-5 h-5"})})]})]})]},O.id))}),f.jsx("div",{className:"hidden md:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Data"}),f.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Nume client"}),f.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Referin"}),f.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Status"}),f.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Total (cu TVA)"}),f.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Aciuni"})]})}),f.jsx("tbody",{children:B.map(O=>f.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[f.jsx("td",{className:"py-3 px-4",children:Y(O.created_at)}),f.jsx("td",{className:"py-3 px-4 font-medium",children:O.client_name||"Fr client"}),f.jsx("td",{className:"py-3 px-4 text-gray-600",children:O.reference||"-"}),f.jsx("td",{className:"py-3 px-4",children:V(O.status)}),f.jsxs("td",{className:"py-3 px-4 text-right font-semibold",children:[O.total.toFixed(2)," RON"]}),f.jsx("td",{className:"py-3 px-4",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("button",{onClick:()=>N(O.id),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Export PDF",children:f.jsx(dv,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>G(O.id),disabled:_,className:"p-2 text-green-600 hover:text-green-800 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Materiale",children:_?f.jsx(Tu,{className:"w-4 h-4 animate-spin"}):f.jsx(hv,{className:"w-4 h-4"})}),e&&f.jsx("button",{onClick:()=>e(O.id),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Editeaz",children:f.jsx(fv,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>E(O.id),disabled:l===O.id,className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"terge",children:l===O.id?f.jsx(Tu,{className:"w-4 h-4 animate-spin"}):f.jsx(ho,{className:"w-4 h-4"})})]})})]},O.id))})]})})]}),a&&f.jsx(QL,{quote:a,settings:t,onClose:()=>o(null)}),d&&v&&f.jsx(eE,{summary:d,quote:v,onClose:()=>{m(null),p(null)}})]})}const dh=.3,hh=60,Dt=40,Yo=20;function nE({width:e,height:t,productType:r,sashCount:n,sashes:i}){const s=e*dh+hh*2+Yo*2,a=t*dh+hh*2+Yo*2,o=hh+Yo,l=hh+Yo,c=e*dh,d=t*dh,m=n>1?c/n:c,v=()=>{const p=[];if(p.push(f.jsx("rect",{x:o,y:l,width:c,height:d,fill:"#ffffff",stroke:"#6b7280",strokeWidth:"2"},"outer-frame")),r==="door"){const G=Dt/3;p.push(f.jsx("rect",{x:o+1,y:l+d-G,width:c-2,height:G,fill:"#e5e7eb",stroke:"#9ca3af",strokeWidth:"1"},"door-threshold"))}if(n>1)for(let G=1;G<n;G++){const V=o+G*m-Dt/2;p.push(f.jsx("rect",{x:V,y:l,width:Dt,height:d,fill:"#e5e7eb",stroke:"#6b7280",strokeWidth:"1"},`mullion-${G}`))}i.forEach((G,V)=>{const Y=o+V*m,B=m,O=G.fillType==="panel";if(G.openingType==="fixed")p.push(f.jsx("rect",{x:Y+Dt/2,y:l+Dt/2,width:B-Dt,height:d-Dt,fill:O?"#ffffff":"#e0f2fe",stroke:O?"#9ca3af":"none",strokeWidth:O?1:0},`glass-fixed-${V}`)),O&&p.push(f.jsx("line",{x1:Y+Dt/2,y1:l+Dt/2,x2:Y+B-Dt/2,y2:l+d-Dt/2,stroke:"#d1d5db",strokeWidth:1,strokeDasharray:"4 4"},`panel-fixed-hatch-${V}`));else{const q=Y+Dt/2,C=l+Dt/2,M=B-Dt,K=d-Dt;p.push(f.jsx("rect",{x:q,y:C,width:M,height:K,fill:"#ffffff",stroke:"#4b5563",strokeWidth:"1.5"},`sash-frame-${V}`));const J=q+Dt/4,he=C+Dt/4,me=M-Dt/2,ue=K-Dt/2;p.push(f.jsx("rect",{x:J,y:he,width:me,height:ue,fill:O?"#ffffff":"#e0f2fe",stroke:O?"#9ca3af":"none",strokeWidth:O?1:0},`glass-${V}`)),O&&p.push(f.jsx("line",{x1:J,y1:he,x2:J+me,y2:he+ue,stroke:"#d1d5db",strokeWidth:1,strokeDasharray:"4 4"},`panel-hatch-${V}`));const Z=q+M,R=q,oe=C+K/2;if(G.openingType==="turn"||G.openingType==="tilt-turn"){const ee=Z-Dt/2,ie=R+Dt/2,ge=C+Dt/2,te=C+K-Dt/2;p.push(f.jsx("polyline",{points:`${ie},${ge} ${ee},${oe} ${ie},${te}`,fill:"none",stroke:"#374151",strokeWidth:"1.5"},`turn-triangle-${V}`))}if(G.openingType==="tilt-turn"){const ee=Math.min(M*.25,K*.25),ie=q+M/2,ge=C+Dt/2,te=C+K-Dt/2,fe=ie-ee/2,xe=ie+ee/2;p.push(f.jsx("polyline",{points:`${fe},${te} ${ie},${ge} ${xe},${te}`,fill:"none",stroke:"#374151",strokeWidth:"1.5"},`tilt-triangle-${V}`))}const se=Z-Dt/2,A=oe,D=8;p.push(f.jsxs("g",{children:[f.jsx("line",{x1:se,y1:A-D,x2:se,y2:A+D,stroke:"#1f2937",strokeWidth:"2"}),f.jsx("line",{x1:se,y1:A,x2:se+D,y2:A,stroke:"#1f2937",strokeWidth:"2"})]},`handle-${V}`));const H=3,X=K/(H+1);for(let ee=1;ee<=H;ee++){const ie=C+ee*X;p.push(f.jsx("rect",{x:R+Dt/4,y:ie-3,width:6,height:6,fill:"#1f2937",stroke:"none"},`hinge-${V}-${ee}`))}}});const _=o-Yo,S=l,k=l+d,w=5;p.push(f.jsxs("g",{children:[f.jsx("line",{x1:o,y1:S,x2:_,y2:S,stroke:"#6b7280",strokeWidth:"1"}),f.jsx("line",{x1:o,y1:k,x2:_,y2:k,stroke:"#6b7280",strokeWidth:"1"}),f.jsx("line",{x1:_,y1:S-w,x2:_,y2:k+w,stroke:"#6b7280",strokeWidth:"1"}),f.jsx("text",{x:_-5,y:(S+k)/2,textAnchor:"end",fill:"#374151",fontSize:"11",dominantBaseline:"middle",children:t})]},"height-dimension"));const x=o,N=o+c,E=l-Yo;return p.push(f.jsxs("g",{children:[f.jsx("line",{x1:x,y1:l,x2:x,y2:E,stroke:"#6b7280",strokeWidth:"1"}),f.jsx("line",{x1:N,y1:l,x2:N,y2:E,stroke:"#6b7280",strokeWidth:"1"}),f.jsx("line",{x1:x-w,y1:E,x2:N+w,y2:E,stroke:"#6b7280",strokeWidth:"1"}),f.jsx("text",{x:(x+N)/2,y:E-5,textAnchor:"middle",fill:"#374151",fontSize:"11",children:e})]},"width-dimension")),p};return f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[f.jsx("p",{className:"text-xs text-gray-600 mb-3 font-medium",children:"PREVIZUALIZARE"}),f.jsx("div",{className:"flex justify-center overflow-auto",children:f.jsx("svg",{width:s,height:a,viewBox:`0 0 ${s} ${a}`,className:"border border-gray-300 bg-white",style:{fontFamily:"Arial, sans-serif"},children:v()})})]})}const Ys=400,Zo=2500;function iE({onConfigChange:e,initialProfileId:t="",initialGlassId:r="",initialHardwareId:n="",hidePricing:i=!1,template:s=null,onTemplateApplied:a}){var Ve;const{settings:o}=Mf(),[l,c]=pe.useState(1e3),[d,m]=pe.useState(1200),[v,p]=pe.useState("window"),[_,S]=pe.useState(t),[k,w]=pe.useState(r),[x,N]=pe.useState(n),[E,G]=pe.useState(""),[V,Y]=pe.useState(1);pe.useEffect(()=>{t&&S(t),r&&w(r),n&&N(n)},[t,r,n]),pe.useEffect(()=>{if(s){p(s.itemType),c(s.defaultWidthMm),m(s.defaultHeightMm);const ve=s.compartments;Y(ve);const Oe=s.sashConfigs.map((Te,Xe)=>({id:String(Xe+1),openingType:Te.openingType,fillType:Te.fillType}));O(Oe),t&&S(t),r&&w(r),n&&N(n),a&&a()}},[s,a,t,r,n]);const[B,O]=pe.useState([{id:"1",openingType:"fixed",fillType:"glass"}]),[q,C]=pe.useState(20),[M,K]=pe.useState(0),[J,he]=pe.useState(0),[me,ue]=pe.useState(0),Z=pe.useMemo(()=>{if(!_||!k||!x)return 0;const ve=o.profileSeries.find(mt=>mt.id===_),Oe=o.glassTypes.find(mt=>mt.id===k),Te=o.hardwareOptions.find(mt=>mt.id===x);if(!ve||!Oe||!Te)return 0;const ot=(l*2+d*2)/1e3*ve.pricePerMeter,nt=l*d/1e6*Oe.pricePerSqMeter;let Ie=0;return B.forEach(mt=>{mt.openingType==="turn"?Ie+=Te.pricePerTurn:mt.openingType==="tilt-turn"&&(Ie+=Te.pricePerTiltTurn)}),ot+nt+Ie},[l,d,_,k,x,B,o]),{profileLengthMeters:R,profileCost:oe}=pe.useMemo(()=>{if(!_)return{profileLengthMeters:0,profileCost:0};const ve=o.profileSeries.find(Xe=>Xe.id===_);if(!ve)return{profileLengthMeters:0,profileCost:0};const Oe=(l*2+d*2)/1e3,Te=Oe*ve.pricePerMeter;return{profileLengthMeters:Oe,profileCost:Te}},[l,d,_,o.profileSeries]),se=pe.useMemo(()=>{if(!k)return 0;const ve=o.glassTypes.find(Te=>Te.id===k);return ve?l*d/1e6*ve.pricePerSqMeter:0},[l,d,k,o.glassTypes]),A=pe.useMemo(()=>{if(!x)return 0;const ve=o.hardwareOptions.find(Te=>Te.id===x);if(!ve)return 0;let Oe=0;return B.forEach(Te=>{Te.openingType==="turn"?Oe+=ve.pricePerTurn:Te.openingType==="tilt-turn"&&(Oe+=ve.pricePerTiltTurn)}),Oe},[x,B,o.hardwareOptions]),{glassPieces:D,glassAreaSqm:H}=pe.useMemo(()=>{if(!_)return{glassPieces:[],glassAreaSqm:0};const ve=o.profileSeries.find(Ie=>Ie.id===_);if(!ve)return{glassPieces:[],glassAreaSqm:0};const Oe=l/V,Te=d,Xe=[];B.forEach(Ie=>{if(Ie.fillType==="glass"){const mt=Math.max(0,Oe-ve.glass_width_deduction_mm),wt=Math.max(0,Te-ve.glass_height_deduction_mm);Xe.push({width_mm:mt,height_mm:wt})}});const ot=new Map;Xe.forEach(Ie=>{const mt=`${Ie.width_mm.toFixed(1)}x${Ie.height_mm.toFixed(1)}`;if(ot.has(mt)){const wt=ot.get(mt);wt.quantity+=1}else ot.set(mt,{width_mm:Ie.width_mm,height_mm:Ie.height_mm,quantity:1})});const Be=Array.from(ot.values()),nt=Be.reduce((Ie,mt)=>Ie+mt.width_mm/1e3*(mt.height_mm/1e3)*mt.quantity,0);return{glassPieces:Be,glassAreaSqm:nt}},[l,d,V,B,_,o.profileSeries]),X=Z,ee=X>0?X*o.defaultLaborPercentage/100:0,ie=X+ee,ge=ie>0?ie*(1+(q||0)/100)+(M||0):0,fe=(ge>0?ge*(J||0)/100:0)+(me||0),xe=Math.max(ge-fe,0),Le=xe*1.19,Pe=Le-xe,He=ge-ie;pe.useEffect(()=>{const ve=[];for(let Oe=0;Oe<V;Oe++)B[Oe]?ve.push(B[Oe]):ve.push({id:`${Oe+1}`,openingType:"fixed",fillType:"glass"});O(ve)},[V]);const U=ve=>{p(ve),ve==="door"?(c(900),m(2e3)):ve==="window"&&(c(1e3),m(1200))};pe.useEffect(()=>{e&&e({width:l,height:d,selectedProfileId:_,selectedGlassId:k,selectedHardwareId:x,selectedColor:E,sashCount:V,sashes:B,calculatedPrice:Z,productType:v,baseCost:ie,markupPercent:q,markupFixed:M,discountPercent:J,discountFixed:me,sellingPrice:xe,vatAmount:Pe,finalPriceWithVAT:Le,glassPieces:D,glassAreaSqm:H,profileLengthMeters:R})},[l,d,_,k,x,E,V,B,Z,v,ie,D,H,R,q,M,J,me,xe,Pe,Le]);const Ce=ve=>{const Oe=ve.target.value;if(Oe===""){c(0);return}const Te=parseFloat(Oe);isNaN(Te)||c(Te)},ct=()=>{const ve=Math.min(Math.max(l||Ys,Ys),Zo);c(ve)},Ye=ve=>{const Oe=ve.target.value;if(Oe===""){m(0);return}const Te=parseFloat(Oe);isNaN(Te)||m(Te)},ke=()=>{const ve=Math.min(Math.max(d||Ys,Ys),Zo);m(ve)},Ke=(ve,Oe)=>{O(Te=>Te.map(Xe=>Xe.id===ve?{...Xe,openingType:Oe}:Xe))},Re=(ve,Oe)=>{O(Te=>Te.map(Xe=>Xe.id===ve?{...Xe,fillType:Oe}:Xe))},Je=pe.useMemo(()=>{const ve=new Set;return o.profileSeries.forEach(Oe=>{Oe.colorCategory&&ve.add(Oe.colorCategory)}),Array.from(ve)},[o.profileSeries]);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:v==="door"?"Configurare U":"Configurare Fereastr"}),f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tip Produs:"}),f.jsx("div",{className:"inline-flex rounded-lg border border-gray-200 bg-gray-50 p-1",children:[{type:"window",label:"Fereastr"},{type:"door",label:"U"},{type:"other",label:"Altele"}].map(ve=>f.jsx("button",{type:"button",onClick:()=>U(ve.type),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-colors ${v===ve.type?"bg-blue-600 text-white shadow-sm":"text-gray-700 hover:bg-white"}`,children:ve.label},ve.type))})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lime (mm)"}),f.jsx("input",{type:"number",value:l,onChange:Ce,onBlur:ct,min:Ys,max:Zo,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"}),f.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Min: ",Ys,"mm, Max: ",Zo,"mm"]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"nlime (mm)"}),f.jsx("input",{type:"number",value:d,onChange:Ye,onBlur:ke,min:Ys,max:Zo,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"}),f.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Min: ",Ys,"mm, Max: ",Zo,"mm"]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seria de Profil"}),f.jsxs("select",{value:_,onChange:ve=>S(ve.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",children:[f.jsx("option",{value:"",children:"Selecteaz profil..."}),o.profileSeries.map(ve=>f.jsxs("option",{value:ve.id,children:[ve.name," (",ve.chambers," camere) - ",ve.pricePerMeter," RON/m"]},ve.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tip Geam"}),f.jsxs("select",{value:k,onChange:ve=>w(ve.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",children:[f.jsx("option",{value:"",children:"Selecteaz geam..."}),o.glassTypes.map(ve=>f.jsxs("option",{value:ve.id,children:[ve.name," - ",ve.pricePerSqMeter," RON/m"]},ve.id))]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feronerie"}),f.jsxs("select",{value:x,onChange:ve=>N(ve.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",children:[f.jsx("option",{value:"",children:"Selecteaz feronerie..."}),o.hardwareOptions.map(ve=>f.jsx("option",{value:ve.id,children:ve.name},ve.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Culoare"}),f.jsxs("select",{value:E,onChange:ve=>G(ve.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",children:[f.jsx("option",{value:"",children:"Selecteaz culoare..."}),Je.map(ve=>f.jsx("option",{value:ve,children:ve},ve))]})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Numr Compartimente (Sash)"}),f.jsx("div",{className:"flex gap-4",children:[1,2,3].map(ve=>f.jsxs("button",{onClick:()=>Y(ve),className:`px-6 py-2 rounded-lg font-medium transition-colors ${V===ve?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[ve," ",ve===1?"compartiment":"compartimente"]},ve))})]}),V>1&&f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tip Deschidere per Compartiment"}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:B.map((ve,Oe)=>f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[f.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:["Compartiment ",Oe+1]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("select",{value:ve.openingType,onChange:Te=>Ke(ve.id,Te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[f.jsx("option",{value:"fixed",children:"Fix"}),f.jsx("option",{value:"turn",children:"Deschidere"}),f.jsx("option",{value:"tilt-turn",children:"Oscilobatant"})]}),f.jsxs("select",{value:ve.fillType,onChange:Te=>Re(ve.id,Te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[f.jsx("option",{value:"glass",children:"Umplutur: Sticl"}),f.jsx("option",{value:"panel",children:"Umplutur: Panel PVC"})]})]})]},ve.id))})]}),V===1&&B[0]&&f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tip Deschidere"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("select",{value:B[0].openingType,onChange:ve=>Ke(B[0].id,ve.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"fixed",children:"Fix"}),f.jsx("option",{value:"turn",children:"Deschidere"}),f.jsx("option",{value:"tilt-turn",children:"Oscilobatant"})]}),f.jsxs("select",{value:B[0].fillType,onChange:ve=>Re(B[0].id,ve.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"glass",children:"Umplutur: Sticl"}),f.jsx("option",{value:"panel",children:"Umplutur: Panel PVC"})]})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4",children:"Previzualizare"}),f.jsx(nE,{width:l,height:d,productType:v,sashCount:V,sashes:B})]}),!i&&f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4",children:"Calcul Pre"}),f.jsx("div",{className:"space-y-6",children:_&&k&&x?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Cost Producie"}),f.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Profil:"}),f.jsxs("span",{children:[oe.toFixed(2)," RON"]})]}),_&&R>0&&f.jsxs("div",{className:"flex justify-between text-xs text-gray-500 italic",children:[f.jsx("span",{children:"Profil necesar:"}),f.jsxs("span",{children:[R.toFixed(3)," ml [",((Ve=o.profileSeries.find(ve=>ve.id===_))==null?void 0:Ve.name)||"N/A","]"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Geam:"}),f.jsxs("span",{children:[se.toFixed(2)," RON"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Feronerie:"}),f.jsxs("span",{children:[A.toFixed(2)," RON"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("span",{children:["Manoper (",o.defaultLaborPercentage,"%):"]}),f.jsxs("span",{children:[ee.toFixed(2)," RON"]})]})]}),f.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-base font-semibold text-gray-700",children:"Total Cost Materiale:"}),f.jsxs("span",{className:"text-xl font-bold text-blue-700",children:[ie.toFixed(2)," RON"]})]})})]}),f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Modificri Pre"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Adaos Comercial (%)"}),f.jsx("input",{type:"number",value:q,onChange:ve=>C(parseFloat(ve.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Adaos Comercial Fix (RON)"}),f.jsx("input",{type:"number",value:M,onChange:ve=>K(parseFloat(ve.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Discount (%)"}),f.jsx("input",{type:"number",min:"0",max:"100",value:J,onChange:ve=>{const Oe=parseFloat(ve.target.value)||0;he(Math.min(Math.max(Oe,0),100))},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Discount Fix (RON)"}),f.jsx("input",{type:"number",value:me,onChange:ve=>ue(parseFloat(ve.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]})]}),f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Detalii Pre"}),f.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Pre Materiale:"}),f.jsxs("span",{children:[ie.toFixed(2)," RON"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Adaos:"}),f.jsxs("span",{children:[He.toFixed(2)," RON"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Discount:"}),f.jsxs("span",{children:["-",fe.toFixed(2)," RON"]})]}),f.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-2 mt-2",children:[f.jsx("span",{className:"font-medium",children:"Pre Fr TVA:"}),f.jsxs("span",{className:"font-semibold",children:[xe.toFixed(2)," RON"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"TVA (19%):"}),f.jsxs("span",{children:[Pe.toFixed(2)," RON"]})]})]})]}),f.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-4",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-lg font-bold text-gray-900",children:"TOTAL DE PLAT:"}),f.jsxs("span",{className:"text-3xl font-extrabold text-blue-700",children:[Le.toFixed(2)," RON"]})]})})]}):f.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:f.jsx("p",{className:"text-yellow-700",children:"Selecteaz profil, geam i feronerie pentru a calcula preul"})})})]}),i&&_&&k&&x&&f.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Estimat:"}),f.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[ie.toFixed(2)," RON"]}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Preul final va fi calculat n Pre & Export"})]})]})]})}const by=[{id:"geam-1-canat",name:"Geam Simplu (1 Canat)",itemType:"window",defaultWidthMm:800,defaultHeightMm:1200,compartments:1,sashConfigs:[{openingType:"tilt-turn",fillType:"glass"}]},{id:"geam-2-canate",name:"Geam Dublu (2 Canate)",itemType:"window",defaultWidthMm:1400,defaultHeightMm:1200,compartments:2,sashConfigs:[{openingType:"fixed",fillType:"glass"},{openingType:"tilt-turn",fillType:"glass"}]},{id:"geam-3-canate",name:"Geam Triplu (3 Canate)",itemType:"window",defaultWidthMm:2100,defaultHeightMm:1200,compartments:3,sashConfigs:[{openingType:"fixed",fillType:"glass"},{openingType:"tilt-turn",fillType:"glass"},{openingType:"fixed",fillType:"glass"}]},{id:"usa-simpla",name:"U Simpl (Panel PVC)",itemType:"door",defaultWidthMm:900,defaultHeightMm:2e3,compartments:1,sashConfigs:[{openingType:"turn",fillType:"panel"}]},{id:"usa-dubla-mix",name:"U Dubl (Sticl + Panel)",itemType:"door",defaultWidthMm:1600,defaultHeightMm:2e3,compartments:2,sashConfigs:[{openingType:"turn",fillType:"glass"},{openingType:"fixed",fillType:"panel"}]}];function sE(e){const{items:t,markupPercent:r,markupFixed:n,discountPercent:i,discountFixed:s,vatRate:a}=e,o=t.reduce((S,k)=>S+k.base_cost*k.quantity,0),l=t.reduce((S,k)=>S+k.price_without_vat*k.quantity,0),c=o>0?o*(1+r/100)+n:0,d=c>0?c*i/100+s:0,m=Math.max(c-d,0),v=m*a,p=m+v,_=l-m;return{totalMaterialCost:o,subtotalBeforeAdjustments:l,priceWithMarkup:c,discountAmount:d,priceAfterDiscount:m,vatAmount:v,totalWithVAT:p,discountTotal:_,vatRate:a}}function aE(){const[e,t]=pe.useState({name:"",phone:"",email:"",address:"",reference:""}),[r,n]=pe.useState([]),[i,s]=pe.useState(""),[a,o]=pe.useState(1),l=()=>{s(""),o(1)};return{clientInfo:e,setClientInfo:t,items:r,currentItemLabel:i,currentItemQuantity:a,setCurrentItemLabel:s,setCurrentItemQuantity:o,addItem:(v,p)=>{const _=[];if(v?(v.selectedProfileId||_.push("Selecteaz o serie de profil"),v.selectedGlassId||_.push("Selecteaz un tip de geam"),v.selectedHardwareId||_.push("Selecteaz feronerie"),v.selectedColor||_.push("Selecteaz culoarea"),(v.width<=0||v.height<=0)&&_.push("Dimensiunile trebuie s fie mai mari dect 0")):_.push("Configuraia articolului este invalid"),a<=0&&_.push("Cantitatea trebuie s fie mai mare dect 0"),_.length>0||!v)return _;const S={item_type:v.productType,label:i.trim()||void 0,width_mm:v.width,height_mm:v.height,quantity:a,configuration:{width:v.width,height:v.height,selectedProfileId:v.selectedProfileId,selectedGlassId:v.selectedGlassId,selectedHardwareId:v.selectedHardwareId,selectedColor:v.selectedColor,sashCount:v.sashCount,sashes:v.sashes.map(k=>({id:k.id,openingType:k.openingType,fillType:k.fillType})),productType:v.productType,baseCost:v.baseCost,markupPercent:v.markupPercent,markupFixed:v.markupFixed,discountPercent:v.discountPercent,discountFixed:v.discountFixed,sellingPrice:v.sellingPrice,vatAmount:v.vatAmount,finalPriceWithVAT:v.finalPriceWithVAT,profileLengthMeters:v.profileLengthMeters,glassPieces:v.glassPieces,glassAreaSqm:v.glassAreaSqm},base_cost:v.baseCost,price_without_vat:v.sellingPrice,vat_rate:p,total_with_vat:v.finalPriceWithVAT,profile_series_id:v.selectedProfileId,profile_length_m:Math.round(v.profileLengthMeters*1e3)/1e3,glass_area_sqm:Math.round(v.glassAreaSqm*1e3)/1e3};return n([...r,S]),l(),[]},removeItem:v=>{n(r.filter((p,_)=>_!==v))},setItems:n,resetCurrentItem:l,resetDraft:()=>{t({name:"",phone:"",email:"",address:"",reference:""}),n([]),l()}}}function oE({onSave:e,editQuoteId:t,onEditCancel:r}){const{settings:n}=Mf(),[i,s]=pe.useState("client"),a=aE(),{clientInfo:o,setClientInfo:l,items:c,currentItemLabel:d,currentItemQuantity:m,setCurrentItemLabel:v,setCurrentItemQuantity:p,addItem:_,removeItem:S,setItems:k,resetDraft:w}=a,[x,N]=pe.useState(null),[E,G]=pe.useState([]),[V,Y]=pe.useState(!1),[B,O]=pe.useState(!1),[q,C]=pe.useState(null),[M,K]=pe.useState({}),[J,he]=pe.useState(20),[me,ue]=pe.useState(0),[Z,R]=pe.useState(0),[oe,se]=pe.useState(0),[A,D]=pe.useState(.19);pe.useEffect(()=>{(async()=>{try{const fe=await M1.get();fe&&K({default_profile_series_id:fe.default_profile_series_id,default_glass_id:fe.default_glass_id,default_hardware_id:fe.default_hardware_id,company_name:fe.company_name})}catch(fe){console.error("Failed to load company settings:",fe)}})()},[]),pe.useEffect(()=>{(async()=>{if(t)try{const fe=await pl.fetchQuoteWithItems(t);if(fe){l({name:fe.client_name||"",phone:fe.client_phone||"",email:fe.client_email||"",address:fe.client_address||"",reference:fe.reference||""});const xe=fe.items.map(Le=>({item_type:Le.item_type,label:Le.label,width_mm:Le.width_mm,height_mm:Le.height_mm,quantity:Le.quantity,configuration:Le.configuration,base_cost:Le.base_cost,price_without_vat:Le.price_without_vat,vat_rate:Le.vat_rate,total_with_vat:Le.total_with_vat,profile_series_id:Le.profile_series_id,profile_length_m:Le.profile_length_m,glass_area_sqm:Le.glass_area_sqm}));k(xe),D(fe.vat_rate),s("price")}}catch(fe){console.error("Failed to load quote for edit:",fe),G(["Eroare la ncrcarea ofertei pentru editare."])}})()},[t]);const H=pe.useMemo(()=>sE({items:c,markupPercent:J,markupFixed:me,discountPercent:Z,discountFixed:oe,vatRate:A}),[c,J,me,Z,oe,A]),X=()=>{if(!x){G(["Configuraia articolului este invalid"]),s("configurator");return}const te=_(x,A);if(te.length>0){G(te),s("configurator");return}G([]),N(null),s("price")},ee=te=>{S(te)},ie=async()=>{const te=[];if(o.name.trim()||te.push("Numele clientului este obligatoriu"),c.length===0&&te.push("Adaug cel puin un articol n ofert"),M.company_name||te.push("Numele firmei nu este configurat. Te rugm s completezi informaiile firmei n Setri."),te.length>0){G(te);return}G([]),Y(!0);try{await pl.createQuoteWithItems({header:{client_name:o.name.trim()||void 0,client_phone:o.phone.trim()||void 0,client_email:o.email.trim()||void 0,client_address:o.address.trim()||void 0,reference:o.reference.trim()||void 0,status:"draft",subtotal:H.priceAfterDiscount,discount_total:H.discountTotal,vat_rate:H.vatRate,vat_amount:H.vatAmount,total:H.totalWithVAT},items:c}),t?G([]):(w(),N(null),C(null),G([]),he(20),ue(0),R(0),se(0)),e&&e()}catch(fe){console.error("Error saving quote:",fe),G(["Eroare la salvarea ofertei. Te rugm s ncerci din nou."])}finally{Y(!1)}},ge=pe.useMemo(()=>({profileId:M.default_profile_series_id||"",glassId:M.default_glass_id||"",hardwareId:M.default_hardware_id||""}),[M]);return f.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-6xl mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:t?"Editeaz Ofert":"Ofert Nou"}),t&&r&&f.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Anuleaz"})]}),f.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6 sm:mb-8",children:t?"Modific oferta i export ca ofert nou":"Configureaz articolele i genereaz oferta automat"}),f.jsx("div",{className:"mb-6 border-b border-gray-200",children:f.jsxs("nav",{className:"flex space-x-8",children:[f.jsx("button",{onClick:()=>s("client"),className:`py-4 px-1 border-b-2 font-medium text-sm ${i==="client"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Informaii Client"}),f.jsx("button",{onClick:()=>s("configurator"),className:`py-4 px-1 border-b-2 font-medium text-sm ${i==="configurator"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Configurator"}),f.jsx("button",{onClick:()=>s("price"),className:`py-4 px-1 border-b-2 font-medium text-sm ${i==="price"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Pre & Export"})]})}),E.length>0&&f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[f.jsx("h3",{className:"text-sm font-semibold text-red-800 mb-2",children:"Erori de validare:"}),f.jsx("ul",{className:"list-disc list-inside text-sm text-red-700 space-y-1",children:E.map((te,fe)=>f.jsx("li",{children:te},fe))})]}),i==="client"&&f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[f.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-4",children:"Informaii Client"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nume Client ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{type:"text",value:o.name,onChange:te=>l({...o,name:te.target.value}),placeholder:"Introdu numele clientului",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon"}),f.jsx("input",{type:"tel",value:o.phone,onChange:te=>l({...o,phone:te.target.value}),placeholder:"Introdu numrul de telefon",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),f.jsx("input",{type:"email",value:o.email,onChange:te=>l({...o,email:te.target.value}),placeholder:"Introdu adresa de email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adres"}),f.jsx("input",{type:"text",value:o.address,onChange:te=>l({...o,address:te.target.value}),placeholder:"Introdu adresa",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referin Lucrare"}),f.jsx("input",{type:"text",value:o.reference,onChange:te=>l({...o,reference:te.target.value}),placeholder:"Introdu referina lucrrii",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),i==="configurator"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[f.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-4",children:"Configurare Articol"}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Selecteaz ablon ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsxs("select",{value:(q==null?void 0:q.id)||"",onChange:te=>{const fe=by.find(xe=>xe.id===te.target.value);C(fe||null)},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",children:[f.jsx("option",{value:"",children:"Selecteaz un ablon..."}),by.map(te=>f.jsx("option",{value:te.id,children:te.name},te.id))]}),!q&&f.jsx("p",{className:"mt-2 text-sm text-gray-500 italic",children:"Selecteaz mai nti un ablon pentru a ncepe configurarea."})]}),q?f.jsx(iE,{onConfigChange:N,initialProfileId:ge.profileId,initialGlassId:ge.glassId,initialHardwareId:ge.hardwareId,hidePricing:!0,template:q,onTemplateApplied:()=>{}}):f.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:f.jsx("p",{className:"text-gray-600",children:"Selecteaz un ablon pentru a configura articolul"})}),x&&x.glassPieces.length>0&&f.jsxs("div",{className:"mt-6 border border-gray-200 rounded-lg",children:[f.jsxs("button",{type:"button",onClick:()=>O(!B),className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 transition-colors rounded-t-lg",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Detalii sticl"}),B?f.jsx("span",{className:"text-gray-600",children:""}):f.jsx("span",{className:"text-gray-600",children:""})]}),B&&f.jsxs("div",{className:"p-4",children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-200",children:[f.jsx("th",{className:"text-left py-2 px-3 font-semibold text-gray-700",children:"Nr. buc"}),f.jsx("th",{className:"text-right py-2 px-3 font-semibold text-gray-700",children:"Lime (mm)"}),f.jsx("th",{className:"text-right py-2 px-3 font-semibold text-gray-700",children:"nlime (mm)"}),f.jsx("th",{className:"text-right py-2 px-3 font-semibold text-gray-700",children:"Suprafa (m)"})]})}),f.jsx("tbody",{children:x.glassPieces.map((te,fe)=>{const xe=te.width_mm/1e3*(te.height_mm/1e3)*te.quantity;return f.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[f.jsx("td",{className:"py-2 px-3",children:te.quantity}),f.jsx("td",{className:"py-2 px-3 text-right",children:te.width_mm.toFixed(1)}),f.jsx("td",{className:"py-2 px-3 text-right",children:te.height_mm.toFixed(1)}),f.jsx("td",{className:"py-2 px-3 text-right",children:xe.toFixed(3)})]},fe)})})]})}),f.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:f.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:["Total sticl: ",f.jsxs("span",{className:"text-blue-600",children:[x.glassAreaSqm.toFixed(2)," m"]})]})})]})]}),f.jsxs("div",{className:"mt-4 sm:mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Denumire Articol (opional)"}),f.jsx("input",{type:"text",value:d,onChange:te=>v(te.target.value),placeholder:"Ex: Fereastr dormitor, U intrare",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Cantitate ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{type:"number",min:"1",value:m,onChange:te=>p(Math.max(1,parseInt(te.target.value)||1)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),f.jsx("div",{className:"mt-4 sm:mt-6",children:f.jsxs("button",{onClick:X,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-base",children:[f.jsx(kh,{className:"w-5 h-5"}),"Adaug n co"]})})]}),c.length>0&&f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[f.jsxs("h3",{className:"text-base font-semibold text-gray-800 mb-4",children:["Co (",c.length," articol",c.length!==1?"e":"",")"]}),f.jsxs("div",{className:"space-y-2",children:[c.slice(0,3).map((te,fe)=>f.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[f.jsxs("span",{className:"text-sm text-gray-700",children:[te.label||`${te.item_type==="window"?"Fereastr":te.item_type==="door"?"U":"Altele"}`,"  ",te.width_mm,"mm  ",te.height_mm,"mm  Qty: ",te.quantity]}),f.jsx("button",{onClick:()=>ee(fe),className:"p-1 text-red-600 hover:text-red-800",title:"terge",children:f.jsx(ho,{className:"w-4 h-4"})})]},fe)),c.length>3&&f.jsxs("p",{className:"text-sm text-gray-500 italic",children:["... i ",c.length-3," mai multe"]})]}),f.jsx("button",{onClick:()=>s("price"),className:"mt-4 text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Vezi toate articolele n Pre & Export "})]})]}),i==="price"&&f.jsx("div",{className:"space-y-6",children:c.length>0?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[f.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-4",children:"Articole n Co"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-200",children:[f.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Denumire"}),f.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Tip"}),f.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Dimensiuni"}),f.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Cantitate"}),f.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Cost Materiale"}),f.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Aciuni"})]})}),f.jsx("tbody",{children:c.map((te,fe)=>{const xe=te.profile_series_id?n.profileSeries.find(Le=>Le.id===te.profile_series_id):null;return f.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[f.jsxs("td",{className:"py-3 px-4",children:[f.jsx("div",{children:te.label||"-"}),te.profile_length_m&&te.profile_length_m>0&&f.jsxs("div",{className:"text-xs text-gray-500 italic mt-1",children:["Profil: ",te.profile_length_m.toFixed(3)," ml",xe&&` [${xe.name}]`]})]}),f.jsx("td",{className:"py-3 px-4",children:te.item_type==="window"?"Fereastr":te.item_type==="door"?"U":"Altele"}),f.jsxs("td",{className:"py-3 px-4",children:[te.width_mm,"mm  ",te.height_mm,"mm"]}),f.jsx("td",{className:"py-3 px-4 text-right",children:te.quantity}),f.jsxs("td",{className:"py-3 px-4 text-right",children:[(te.base_cost*te.quantity).toFixed(2)," RON"]}),f.jsx("td",{className:"py-3 px-4 text-center",children:f.jsx("button",{onClick:()=>ee(fe),className:"text-red-600 hover:text-red-800 transition-colors",title:"terge articol",children:f.jsx(ho,{className:"w-5 h-5"})})})]},fe)})})]})})]}),f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[f.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-4",children:"Calcul Pre"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Cost Materiale"}),f.jsxs("div",{className:"text-2xl font-bold text-blue-700",children:[H.totalMaterialCost.toFixed(2)," RON"]}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Suma costurilor materiale pentru toate articolele"})]}),f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Adaos Comercial"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Adaos Comercial (%)"}),f.jsx("input",{type:"number",value:J,onChange:te=>he(parseFloat(te.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Adaos Comercial Fix (RON)"}),f.jsx("input",{type:"number",value:me,onChange:te=>ue(parseFloat(te.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),f.jsxs("div",{className:"mt-3 text-sm text-gray-700",children:["Pre dup adaos: ",f.jsxs("span",{className:"font-semibold",children:[H.priceWithMarkup.toFixed(2)," RON"]})]})]}),f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Discount"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Discount (%)"}),f.jsx("input",{type:"number",min:"0",max:"100",value:Z,onChange:te=>{const fe=parseFloat(te.target.value)||0;R(Math.min(Math.max(fe,0),100))},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Discount Fix (RON)"}),f.jsx("input",{type:"number",value:oe,onChange:te=>se(parseFloat(te.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),f.jsxs("div",{className:"mt-3 text-sm text-gray-700",children:["Discount total: ",f.jsxs("span",{className:"font-semibold text-red-600",children:["-",H.discountAmount.toFixed(2)," RON"]})]})]}),f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"TVA"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Rata TVA (%)"}),f.jsx("input",{type:"number",value:A*100,onChange:te=>D((parseFloat(te.target.value)||0)/100),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),f.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-4",children:f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-700",children:"Pre Materiale:"}),f.jsxs("span",{className:"font-medium",children:[H.totalMaterialCost.toFixed(2)," RON"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-700",children:"Adaos:"}),f.jsxs("span",{className:"font-medium",children:["+",(H.priceWithMarkup-H.totalMaterialCost).toFixed(2)," RON"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-700",children:"Discount:"}),f.jsxs("span",{className:"font-medium text-red-600",children:["-",H.discountAmount.toFixed(2)," RON"]})]}),f.jsxs("div",{className:"flex justify-between border-t border-gray-300 pt-2 mt-2",children:[f.jsx("span",{className:"font-medium text-gray-800",children:"Pre Fr TVA:"}),f.jsxs("span",{className:"font-semibold",children:[H.priceAfterDiscount.toFixed(2)," RON"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("span",{className:"text-gray-700",children:["TVA (",A*100,"%):"]}),f.jsxs("span",{className:"font-medium",children:[H.vatAmount.toFixed(2)," RON"]})]}),f.jsxs("div",{className:"flex justify-between border-t-2 border-blue-400 pt-2 mt-2",children:[f.jsx("span",{className:"text-lg font-bold text-gray-900",children:"TOTAL DE PLAT:"}),f.jsxs("span",{className:"text-2xl font-extrabold text-blue-700",children:[H.totalWithVAT.toFixed(2)," RON"]})]})]})})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{onClick:ie,disabled:V||c.length===0,className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:bg-gray-400 disabled:cursor-not-allowed",children:[f.jsx(J6,{className:"w-5 h-5"}),V?"Se salveaz...":"Export acum"]})})]}):f.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-8 text-center",children:[f.jsx("p",{className:"text-yellow-700 mb-4",children:"Nu exist articole n co."}),f.jsx("button",{onClick:()=>s("configurator"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Adaug articole n Configurator"})]})})]})}function Cx({title:e,subtitle:t,children:r}){return f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-8",children:f.jsx("div",{className:"w-full max-w-md",children:f.jsxs("div",{className:"bg-white shadow-md rounded-xl border border-gray-200 px-4 sm:px-8 py-8 sm:py-10",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 text-center",children:e}),t&&f.jsx("p",{className:"text-sm text-gray-500 mb-6 text-center",children:t}),r]})})})}function lE(){const{signIn:e}=Wc(),t=zc(),[r,n]=pe.useState(""),[i,s]=pe.useState(""),[a,o]=pe.useState(!1),[l,c]=pe.useState(null),d=async m=>{m.preventDefault(),o(!0),c(null);const{error:v}=await e({email:r,password:i});if(o(!1),v){c(v||"Autentificare euat. Verific datele i ncearc din nou.");return}t("/",{replace:!0})};return f.jsx(Cx,{title:"Autentificare",subtitle:"Intr n cont pentru a-i gestiona ofertele i materialele.",children:f.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l&&f.jsx("div",{className:"rounded-md bg-red-50 border border-red-200 px-3 py-2 text-sm text-red-700",children:l}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"email",children:"Email"}),f.jsx("input",{id:"email",type:"email",required:!0,autoComplete:"email",value:r,onChange:m=>n(m.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"you@example.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"password",children:"Parol"}),f.jsx("input",{id:"password",type:"password",required:!0,autoComplete:"current-password",value:i,onChange:m=>s(m.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:""})]}),f.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center items-center px-4 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors font-medium text-base",children:a?"Se autentific...":"Autentific-te"}),f.jsxs("p",{className:"text-center text-sm text-gray-500",children:["Nu ai cont?"," ",f.jsx(Vb,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Creeaz cont nou"})]})]})})}function uE(){const{signUp:e}=Wc(),t=zc(),[r,n]=pe.useState(""),[i,s]=pe.useState(""),[a,o]=pe.useState(!1),[l,c]=pe.useState(null),[d,m]=pe.useState(null),v=async p=>{p.preventDefault(),o(!0),c(null),m(null);const{error:_}=await e({email:r,password:i});if(o(!1),_){c(_||"nregistrarea a euat. Te rugm s ncerci din nou.");return}m("Cont creat cu succes. Verific email-ul dac este necesar confirmarea."),t("/login",{replace:!0})};return f.jsx(Cx,{title:"Creeaz cont",subtitle:"nregistreaz-te pentru a-i salva materialele i ofertele n cloud.",children:f.jsxs("form",{onSubmit:v,className:"space-y-4",children:[l&&f.jsx("div",{className:"rounded-md bg-red-50 border border-red-200 px-3 py-2 text-sm text-red-700",children:l}),d&&f.jsx("div",{className:"rounded-md bg-green-50 border border-green-200 px-3 py-2 text-sm text-green-700",children:d}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"email",children:"Email"}),f.jsx("input",{id:"email",type:"email",required:!0,autoComplete:"email",value:r,onChange:p=>n(p.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"you@example.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"password",children:"Parol"}),f.jsx("input",{id:"password",type:"password",required:!0,minLength:6,autoComplete:"new-password",value:i,onChange:p=>s(p.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"Minim 6 caractere"})]}),f.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center items-center px-4 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors font-medium text-base",children:a?"Se creeaz contul...":"Creeaz cont"}),f.jsxs("p",{className:"text-center text-sm text-gray-500",children:["Ai deja cont?"," ",f.jsx(Vb,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Autentific-te"})]})]})})}function cE({children:e}){const{user:t,loading:r}=Wc(),n=Wl();return r?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsx("div",{className:"text-gray-600 text-sm",children:"Se verific sesiunea..."})}):t?f.jsx(f.Fragment,{children:e}):f.jsx(Hb,{to:"/login",replace:!0,state:{from:n}})}function dE(){const[e,t]=pe.useState("settings"),[r,n]=pe.useState(null),i=()=>{switch(e){case"settings":return f.jsx(Kv,{});case"quotes":return f.jsx(rE,{onEditQuote:s=>{n(s),t("new-quote")}});case"new-quote":return f.jsx(oE,{onSave:()=>{t("quotes"),n(null)},editQuoteId:r,onEditCancel:()=>{n(null)}});default:return f.jsx(Kv,{})}};return f.jsx(y8,{currentPage:e,onNavigate:t,children:i()})}function hE(){return f.jsx(YS,{basename:"/demo-termopane/",children:f.jsx(v8,{children:f.jsxs(qS,{children:[f.jsx($u,{path:"/",element:f.jsx(cE,{children:f.jsx(dE,{})})}),f.jsx($u,{path:"/login",element:f.jsx(lE,{})}),f.jsx($u,{path:"/register",element:f.jsx(uE,{})}),f.jsx($u,{path:"*",element:f.jsx(Hb,{to:"/",replace:!0})})]})})})}Rb(document.getElementById("root")).render(f.jsx(pe.StrictMode,{children:f.jsx(hE,{})}));export{It as _,ni as c,_y as g};
