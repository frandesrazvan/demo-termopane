var c3=Object.defineProperty;var d3=(e,t,r)=>t in e?c3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Rt=(e,t,r)=>d3(e,typeof t!="symbol"?t+"":t,r);function h3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var hi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function f3(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var vy={exports:{}},df={},yy={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=Symbol.for("react.element"),p3=Symbol.for("react.portal"),m3=Symbol.for("react.fragment"),g3=Symbol.for("react.strict_mode"),v3=Symbol.for("react.profiler"),y3=Symbol.for("react.provider"),w3=Symbol.for("react.context"),b3=Symbol.for("react.forward_ref"),_3=Symbol.for("react.suspense"),x3=Symbol.for("react.memo"),S3=Symbol.for("react.lazy"),e2=Symbol.iterator;function N3(e){return e===null||typeof e!="object"?null:(e=e2&&e[e2]||e["@@iterator"],typeof e=="function"?e:null)}var wy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},by=Object.assign,_y={};function Dl(e,t,r){this.props=e,this.context=t,this.refs=_y,this.updater=r||wy}Dl.prototype.isReactComponent={};Dl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xy(){}xy.prototype=Dl.prototype;function Q1(e,t,r){this.props=e,this.context=t,this.refs=_y,this.updater=r||wy}var em=Q1.prototype=new xy;em.constructor=Q1;by(em,Dl.prototype);em.isPureReactComponent=!0;var t2=Array.isArray,Sy=Object.prototype.hasOwnProperty,tm={current:null},Ny={key:!0,ref:!0,__self:!0,__source:!0};function ky(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Sy.call(t,n)&&!Ny.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Fc,type:e,key:s,ref:a,props:i,_owner:tm.current}}function k3(e,t){return{$$typeof:Fc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fc}function A3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var r2=/\/+/g;function y0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?A3(""+e.key):t.toString(36)}function ch(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Fc:case p3:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+y0(a,0):n,t2(i)?(r="",e!=null&&(r=e.replace(r2,"$&/")+"/"),ch(i,t,r,"",function(c){return c})):i!=null&&(rm(i)&&(i=k3(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(r2,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",t2(e))for(var o=0;o<e.length;o++){s=e[o];var l=n+y0(s,o);a+=ch(s,t,r,l,i)}else if(l=N3(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=n+y0(s,o++),a+=ch(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ed(e,t,r){if(e==null)return e;var n=[],i=0;return ch(e,n,"","",function(s){return t.call(r,s,i++)}),n}function j3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yn={current:null},dh={transition:null},L3={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:dh,ReactCurrentOwner:tm};function Ay(){throw Error("act(...) is not supported in production builds of React.")}St.Children={map:Ed,forEach:function(e,t,r){Ed(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ed(e,function(){t++}),t},toArray:function(e){return Ed(e,function(t){return t})||[]},only:function(e){if(!rm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};St.Component=Dl;St.Fragment=m3;St.Profiler=v3;St.PureComponent=Q1;St.StrictMode=g3;St.Suspense=_3;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L3;St.act=Ay;St.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=by({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=tm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Sy.call(t,l)&&!Ny.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Fc,type:e.type,key:i,ref:s,props:n,_owner:a}};St.createContext=function(e){return e={$$typeof:w3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:y3,_context:e},e.Consumer=e};St.createElement=ky;St.createFactory=function(e){var t=ky.bind(null,e);return t.type=e,t};St.createRef=function(){return{current:null}};St.forwardRef=function(e){return{$$typeof:b3,render:e}};St.isValidElement=rm;St.lazy=function(e){return{$$typeof:S3,_payload:{_status:-1,_result:e},_init:j3}};St.memo=function(e,t){return{$$typeof:x3,type:e,compare:t===void 0?null:t}};St.startTransition=function(e){var t=dh.transition;dh.transition={};try{e()}finally{dh.transition=t}};St.unstable_act=Ay;St.useCallback=function(e,t){return yn.current.useCallback(e,t)};St.useContext=function(e){return yn.current.useContext(e)};St.useDebugValue=function(){};St.useDeferredValue=function(e){return yn.current.useDeferredValue(e)};St.useEffect=function(e,t){return yn.current.useEffect(e,t)};St.useId=function(){return yn.current.useId()};St.useImperativeHandle=function(e,t,r){return yn.current.useImperativeHandle(e,t,r)};St.useInsertionEffect=function(e,t){return yn.current.useInsertionEffect(e,t)};St.useLayoutEffect=function(e,t){return yn.current.useLayoutEffect(e,t)};St.useMemo=function(e,t){return yn.current.useMemo(e,t)};St.useReducer=function(e,t,r){return yn.current.useReducer(e,t,r)};St.useRef=function(e){return yn.current.useRef(e)};St.useState=function(e){return yn.current.useState(e)};St.useSyncExternalStore=function(e,t,r){return yn.current.useSyncExternalStore(e,t,r)};St.useTransition=function(){return yn.current.useTransition()};St.version="18.3.1";yy.exports=St;var pe=yy.exports;const jy=gy(pe),P3=h3({__proto__:null,default:jy},[pe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E3=pe,C3=Symbol.for("react.element"),T3=Symbol.for("react.fragment"),O3=Object.prototype.hasOwnProperty,I3=E3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R3={key:!0,ref:!0,__self:!0,__source:!0};function Ly(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)O3.call(t,n)&&!R3.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:C3,type:e,key:s,ref:a,props:i,_owner:I3.current}}df.Fragment=T3;df.jsx=Ly;df.jsxs=Ly;vy.exports=df;var p=vy.exports,Py={exports:{}},Zn={},Ey={exports:{}},Cy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,R){var oe=X.length;X.push(R);e:for(;0<oe;){var Z=oe-1>>>1,A=X[Z];if(0<i(A,R))X[Z]=R,X[oe]=A,oe=Z;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var R=X[0],oe=X.pop();if(oe!==R){X[0]=oe;e:for(var Z=0,A=X.length,M=A>>>1;Z<M;){var V=2*(Z+1)-1,Q=X[V],re=V+1,ae=X[re];if(0>i(Q,oe))re<A&&0>i(ae,Q)?(X[Z]=ae,X[re]=oe,Z=re):(X[Z]=Q,X[V]=oe,Z=V);else if(re<A&&0>i(ae,oe))X[Z]=ae,X[re]=oe,Z=re;else break e}}return R}function i(X,R){var oe=X.sortIndex-R.sortIndex;return oe!==0?oe:X.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,g=null,v=3,f=!1,_=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(X){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=X)n(c),R.sortIndex=R.expirationTime,t(l,R);else break;R=r(c)}}function P(X){if(S=!1,N(X),!_)if(r(l)!==null)_=!0,he(Y);else{var R=r(c);R!==null&&ue(P,R.startTime-X)}}function Y(X,R){_=!1,S&&(S=!1,w(z),z=-1),f=!0;var oe=v;try{for(N(R),g=r(l);g!==null&&(!(g.expirationTime>R)||X&&!T());){var Z=g.callback;if(typeof Z=="function"){g.callback=null,v=g.priorityLevel;var A=Z(g.expirationTime<=R);R=e.unstable_now(),typeof A=="function"?g.callback=A:g===r(l)&&n(l),N(R)}else n(l);g=r(l)}if(g!==null)var M=!0;else{var V=r(c);V!==null&&ue(P,V.startTime-R),M=!1}return M}finally{g=null,v=oe,f=!1}}var D=!1,H=null,z=-1,U=5,J=-1;function T(){return!(e.unstable_now()-J<U)}function F(){if(H!==null){var X=e.unstable_now();J=X;var R=!0;try{R=H(!0,X)}finally{R?G():(D=!1,H=null)}}else D=!1}var G;if(typeof x=="function")G=function(){x(F)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,fe=K.port2;K.port1.onmessage=F,G=function(){fe.postMessage(null)}}else G=function(){k(F,0)};function he(X){H=X,D||(D=!0,G())}function ue(X,R){z=k(function(){X(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){_||f||(_=!0,he(Y))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(X){switch(v){case 1:case 2:case 3:var R=3;break;default:R=v}var oe=v;v=R;try{return X()}finally{v=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,R){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var oe=v;v=X;try{return R()}finally{v=oe}},e.unstable_scheduleCallback=function(X,R,oe){var Z=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Z+oe:Z):oe=Z,X){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=oe+A,X={id:d++,callback:R,priorityLevel:X,startTime:oe,expirationTime:A,sortIndex:-1},oe>Z?(X.sortIndex=oe,t(c,X),r(l)===null&&X===r(c)&&(S?(w(z),z=-1):S=!0,ue(P,oe-Z))):(X.sortIndex=A,t(l,X),_||f||(_=!0,he(Y))),X},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(X){var R=v;return function(){var oe=v;v=R;try{return X.apply(this,arguments)}finally{v=oe}}}})(Cy);Ey.exports=Cy;var F3=Ey.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M3=pe,Yn=F3;function Le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ty=new Set,lc={};function xo(e,t){Al(e,t),Al(e+"Capture",t)}function Al(e,t){for(lc[e]=t,e=0;e<t.length;e++)Ty.add(t[e])}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pp=Object.prototype.hasOwnProperty,D3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n2={},i2={};function B3(e){return Pp.call(i2,e)?!0:Pp.call(n2,e)?!1:D3.test(e)?i2[e]=!0:(n2[e]=!0,!1)}function U3(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function z3(e,t,r,n){if(t===null||typeof t>"u"||U3(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wn(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jr[e]=new wn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jr[t]=new wn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jr[e]=new wn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jr[e]=new wn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jr[e]=new wn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jr[e]=new wn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jr[e]=new wn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jr[e]=new wn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jr[e]=new wn(e,5,!1,e.toLowerCase(),null,!1,!1)});var nm=/[\-:]([a-z])/g;function im(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nm,im);Jr[t]=new wn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nm,im);Jr[t]=new wn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nm,im);Jr[t]=new wn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jr[e]=new wn(e,1,!1,e.toLowerCase(),null,!1,!1)});Jr.xlinkHref=new wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jr[e]=new wn(e,1,!1,e.toLowerCase(),null,!0,!0)});function sm(e,t,r,n){var i=Jr.hasOwnProperty(t)?Jr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(z3(t,r,i,n)&&(r=null),n||i===null?B3(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Os=M3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cd=Symbol.for("react.element"),rl=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),am=Symbol.for("react.strict_mode"),Ep=Symbol.for("react.profiler"),Oy=Symbol.for("react.provider"),Iy=Symbol.for("react.context"),om=Symbol.for("react.forward_ref"),Cp=Symbol.for("react.suspense"),Tp=Symbol.for("react.suspense_list"),lm=Symbol.for("react.memo"),ta=Symbol.for("react.lazy"),Ry=Symbol.for("react.offscreen"),s2=Symbol.iterator;function Su(e){return e===null||typeof e!="object"?null:(e=s2&&e[s2]||e["@@iterator"],typeof e=="function"?e:null)}var sr=Object.assign,w0;function Mu(e){if(w0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);w0=t&&t[1]||""}return`
`+w0+e}var b0=!1;function _0(e,t){if(!e||b0)return"";b0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{b0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Mu(e):""}function $3(e){switch(e.tag){case 5:return Mu(e.type);case 16:return Mu("Lazy");case 13:return Mu("Suspense");case 19:return Mu("SuspenseList");case 0:case 2:case 15:return e=_0(e.type,!1),e;case 11:return e=_0(e.type.render,!1),e;case 1:return e=_0(e.type,!0),e;default:return""}}function Op(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nl:return"Fragment";case rl:return"Portal";case Ep:return"Profiler";case am:return"StrictMode";case Cp:return"Suspense";case Tp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Iy:return(e.displayName||"Context")+".Consumer";case Oy:return(e._context.displayName||"Context")+".Provider";case om:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lm:return t=e.displayName||null,t!==null?t:Op(e.type)||"Memo";case ta:t=e._payload,e=e._init;try{return Op(e(t))}catch{}}return null}function q3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Op(t);case 8:return t===am?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ka(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function W3(e){var t=Fy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Td(e){e._valueTracker||(e._valueTracker=W3(e))}function My(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Fy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Eh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ip(e,t){var r=t.checked;return sr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function a2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ka(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dy(e,t){t=t.checked,t!=null&&sm(e,"checked",t,!1)}function Rp(e,t){Dy(e,t);var r=ka(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fp(e,t.type,ka(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function o2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fp(e,t,r){(t!=="number"||Eh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Du=Array.isArray;function ml(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ka(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Mp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Le(91));return sr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function l2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Le(92));if(Du(r)){if(1<r.length)throw Error(Le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ka(r)}}function By(e,t){var r=ka(t.value),n=ka(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function u2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Uy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Uy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Od,zy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Od=Od||document.createElement("div"),Od.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Od.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function uc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H3=["Webkit","ms","Moz","O"];Object.keys(Vu).forEach(function(e){H3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vu[t]=Vu[e]})});function $y(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vu.hasOwnProperty(e)&&Vu[e]?(""+t).trim():t+"px"}function qy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=$y(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var V3=sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bp(e,t){if(t){if(V3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Le(62))}}function Up(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zp=null;function um(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $p=null,gl=null,vl=null;function c2(e){if(e=Bc(e)){if(typeof $p!="function")throw Error(Le(280));var t=e.stateNode;t&&(t=gf(t),$p(e.stateNode,e.type,t))}}function Wy(e){gl?vl?vl.push(e):vl=[e]:gl=e}function Hy(){if(gl){var e=gl,t=vl;if(vl=gl=null,c2(e),t)for(e=0;e<t.length;e++)c2(t[e])}}function Vy(e,t){return e(t)}function Gy(){}var x0=!1;function Ky(e,t,r){if(x0)return e(t,r);x0=!0;try{return Vy(e,t,r)}finally{x0=!1,(gl!==null||vl!==null)&&(Gy(),Hy())}}function cc(e,t){var r=e.stateNode;if(r===null)return null;var n=gf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Le(231,t,typeof r));return r}var qp=!1;if(Ps)try{var Nu={};Object.defineProperty(Nu,"passive",{get:function(){qp=!0}}),window.addEventListener("test",Nu,Nu),window.removeEventListener("test",Nu,Nu)}catch{qp=!1}function G3(e,t,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Gu=!1,Ch=null,Th=!1,Wp=null,K3={onError:function(e){Gu=!0,Ch=e}};function J3(e,t,r,n,i,s,a,o,l){Gu=!1,Ch=null,G3.apply(K3,arguments)}function Y3(e,t,r,n,i,s,a,o,l){if(J3.apply(this,arguments),Gu){if(Gu){var c=Ch;Gu=!1,Ch=null}else throw Error(Le(198));Th||(Th=!0,Wp=c)}}function So(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Jy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d2(e){if(So(e)!==e)throw Error(Le(188))}function Z3(e){var t=e.alternate;if(!t){if(t=So(e),t===null)throw Error(Le(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return d2(i),e;if(s===n)return d2(i),t;s=s.sibling}throw Error(Le(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Le(189))}}if(r.alternate!==n)throw Error(Le(190))}if(r.tag!==3)throw Error(Le(188));return r.stateNode.current===r?e:t}function Yy(e){return e=Z3(e),e!==null?Zy(e):null}function Zy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zy(e);if(t!==null)return t;e=e.sibling}return null}var Xy=Yn.unstable_scheduleCallback,h2=Yn.unstable_cancelCallback,X3=Yn.unstable_shouldYield,Q3=Yn.unstable_requestPaint,gr=Yn.unstable_now,e4=Yn.unstable_getCurrentPriorityLevel,cm=Yn.unstable_ImmediatePriority,Qy=Yn.unstable_UserBlockingPriority,Oh=Yn.unstable_NormalPriority,t4=Yn.unstable_LowPriority,ew=Yn.unstable_IdlePriority,hf=null,Zi=null;function r4(e){if(Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot(hf,e,void 0,(e.current.flags&128)===128)}catch{}}var Li=Math.clz32?Math.clz32:s4,n4=Math.log,i4=Math.LN2;function s4(e){return e>>>=0,e===0?32:31-(n4(e)/i4|0)|0}var Id=64,Rd=4194304;function Bu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ih(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Bu(o):(s&=a,s!==0&&(n=Bu(s)))}else a=r&~i,a!==0?n=Bu(a):s!==0&&(n=Bu(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Li(t),i=1<<r,n|=e[r],t&=~i;return n}function a4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o4(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Li(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=a4(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function Hp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tw(){var e=Id;return Id<<=1,!(Id&4194240)&&(Id=64),e}function S0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Li(t),e[t]=r}function l4(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Li(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function dm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Li(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Mt=0;function rw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nw,hm,iw,sw,aw,Vp=!1,Fd=[],ha=null,fa=null,pa=null,dc=new Map,hc=new Map,na=[],u4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f2(e,t){switch(e){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":dc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(t.pointerId)}}function ku(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Bc(t),t!==null&&hm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function c4(e,t,r,n,i){switch(t){case"focusin":return ha=ku(ha,e,t,r,n,i),!0;case"dragenter":return fa=ku(fa,e,t,r,n,i),!0;case"mouseover":return pa=ku(pa,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return dc.set(s,ku(dc.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,hc.set(s,ku(hc.get(s)||null,e,t,r,n,i)),!0}return!1}function ow(e){var t=no(e.target);if(t!==null){var r=So(t);if(r!==null){if(t=r.tag,t===13){if(t=Jy(r),t!==null){e.blockedOn=t,aw(e.priority,function(){iw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zp=n,r.target.dispatchEvent(n),zp=null}else return t=Bc(r),t!==null&&hm(t),e.blockedOn=r,!1;t.shift()}return!0}function p2(e,t,r){hh(e)&&r.delete(t)}function d4(){Vp=!1,ha!==null&&hh(ha)&&(ha=null),fa!==null&&hh(fa)&&(fa=null),pa!==null&&hh(pa)&&(pa=null),dc.forEach(p2),hc.forEach(p2)}function Au(e,t){e.blockedOn===t&&(e.blockedOn=null,Vp||(Vp=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,d4)))}function fc(e){function t(i){return Au(i,e)}if(0<Fd.length){Au(Fd[0],e);for(var r=1;r<Fd.length;r++){var n=Fd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ha!==null&&Au(ha,e),fa!==null&&Au(fa,e),pa!==null&&Au(pa,e),dc.forEach(t),hc.forEach(t),r=0;r<na.length;r++)n=na[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<na.length&&(r=na[0],r.blockedOn===null);)ow(r),r.blockedOn===null&&na.shift()}var yl=Os.ReactCurrentBatchConfig,Rh=!0;function h4(e,t,r,n){var i=Mt,s=yl.transition;yl.transition=null;try{Mt=1,fm(e,t,r,n)}finally{Mt=i,yl.transition=s}}function f4(e,t,r,n){var i=Mt,s=yl.transition;yl.transition=null;try{Mt=4,fm(e,t,r,n)}finally{Mt=i,yl.transition=s}}function fm(e,t,r,n){if(Rh){var i=Gp(e,t,r,n);if(i===null)O0(e,t,n,Fh,r),f2(e,n);else if(c4(i,e,t,r,n))n.stopPropagation();else if(f2(e,n),t&4&&-1<u4.indexOf(e)){for(;i!==null;){var s=Bc(i);if(s!==null&&nw(s),s=Gp(e,t,r,n),s===null&&O0(e,t,n,Fh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else O0(e,t,n,null,r)}}var Fh=null;function Gp(e,t,r,n){if(Fh=null,e=um(n),e=no(e),e!==null)if(t=So(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Jy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fh=e,null}function lw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e4()){case cm:return 1;case Qy:return 4;case Oh:case t4:return 16;case ew:return 536870912;default:return 16}default:return 16}}var oa=null,pm=null,fh=null;function uw(){if(fh)return fh;var e,t=pm,r=t.length,n,i="value"in oa?oa.value:oa.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return fh=i.slice(e,1<n?1-n:void 0)}function ph(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Md(){return!0}function m2(){return!1}function Xn(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Md:m2,this.isPropagationStopped=m2,this}return sr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Md)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Md)},persist:function(){},isPersistent:Md}),t}var Bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mm=Xn(Bl),Dc=sr({},Bl,{view:0,detail:0}),p4=Xn(Dc),N0,k0,ju,ff=sr({},Dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ju&&(ju&&e.type==="mousemove"?(N0=e.screenX-ju.screenX,k0=e.screenY-ju.screenY):k0=N0=0,ju=e),N0)},movementY:function(e){return"movementY"in e?e.movementY:k0}}),g2=Xn(ff),m4=sr({},ff,{dataTransfer:0}),g4=Xn(m4),v4=sr({},Dc,{relatedTarget:0}),A0=Xn(v4),y4=sr({},Bl,{animationName:0,elapsedTime:0,pseudoElement:0}),w4=Xn(y4),b4=sr({},Bl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_4=Xn(b4),x4=sr({},Bl,{data:0}),v2=Xn(x4),S4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=k4[e])?!!t[e]:!1}function gm(){return A4}var j4=sr({},Dc,{key:function(e){if(e.key){var t=S4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ph(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?N4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gm,charCode:function(e){return e.type==="keypress"?ph(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ph(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),L4=Xn(j4),P4=sr({},ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y2=Xn(P4),E4=sr({},Dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gm}),C4=Xn(E4),T4=sr({},Bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),O4=Xn(T4),I4=sr({},ff,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),R4=Xn(I4),F4=[9,13,27,32],vm=Ps&&"CompositionEvent"in window,Ku=null;Ps&&"documentMode"in document&&(Ku=document.documentMode);var M4=Ps&&"TextEvent"in window&&!Ku,cw=Ps&&(!vm||Ku&&8<Ku&&11>=Ku),w2=" ",b2=!1;function dw(e,t){switch(e){case"keyup":return F4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var il=!1;function D4(e,t){switch(e){case"compositionend":return hw(t);case"keypress":return t.which!==32?null:(b2=!0,w2);case"textInput":return e=t.data,e===w2&&b2?null:e;default:return null}}function B4(e,t){if(il)return e==="compositionend"||!vm&&dw(e,t)?(e=uw(),fh=pm=oa=null,il=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cw&&t.locale!=="ko"?null:t.data;default:return null}}var U4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!U4[e.type]:t==="textarea"}function fw(e,t,r,n){Wy(n),t=Mh(t,"onChange"),0<t.length&&(r=new mm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ju=null,pc=null;function z4(e){Nw(e,0)}function pf(e){var t=ol(e);if(My(t))return e}function $4(e,t){if(e==="change")return t}var pw=!1;if(Ps){var j0;if(Ps){var L0="oninput"in document;if(!L0){var x2=document.createElement("div");x2.setAttribute("oninput","return;"),L0=typeof x2.oninput=="function"}j0=L0}else j0=!1;pw=j0&&(!document.documentMode||9<document.documentMode)}function S2(){Ju&&(Ju.detachEvent("onpropertychange",mw),pc=Ju=null)}function mw(e){if(e.propertyName==="value"&&pf(pc)){var t=[];fw(t,pc,e,um(e)),Ky(z4,t)}}function q4(e,t,r){e==="focusin"?(S2(),Ju=t,pc=r,Ju.attachEvent("onpropertychange",mw)):e==="focusout"&&S2()}function W4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pf(pc)}function H4(e,t){if(e==="click")return pf(t)}function V4(e,t){if(e==="input"||e==="change")return pf(t)}function G4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ei=typeof Object.is=="function"?Object.is:G4;function mc(e,t){if(Ei(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Pp.call(t,i)||!Ei(e[i],t[i]))return!1}return!0}function N2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function k2(e,t){var r=N2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=N2(r)}}function gw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vw(){for(var e=window,t=Eh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Eh(e.document)}return t}function ym(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function K4(e){var t=vw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&gw(r.ownerDocument.documentElement,r)){if(n!==null&&ym(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=k2(r,s);var a=k2(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var J4=Ps&&"documentMode"in document&&11>=document.documentMode,sl=null,Kp=null,Yu=null,Jp=!1;function A2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jp||sl==null||sl!==Eh(n)||(n=sl,"selectionStart"in n&&ym(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yu&&mc(Yu,n)||(Yu=n,n=Mh(Kp,"onSelect"),0<n.length&&(t=new mm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=sl)))}function Dd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var al={animationend:Dd("Animation","AnimationEnd"),animationiteration:Dd("Animation","AnimationIteration"),animationstart:Dd("Animation","AnimationStart"),transitionend:Dd("Transition","TransitionEnd")},P0={},yw={};Ps&&(yw=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function mf(e){if(P0[e])return P0[e];if(!al[e])return e;var t=al[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in yw)return P0[e]=t[r];return e}var ww=mf("animationend"),bw=mf("animationiteration"),_w=mf("animationstart"),xw=mf("transitionend"),Sw=new Map,j2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function La(e,t){Sw.set(e,t),xo(t,[e])}for(var E0=0;E0<j2.length;E0++){var C0=j2[E0],Y4=C0.toLowerCase(),Z4=C0[0].toUpperCase()+C0.slice(1);La(Y4,"on"+Z4)}La(ww,"onAnimationEnd");La(bw,"onAnimationIteration");La(_w,"onAnimationStart");La("dblclick","onDoubleClick");La("focusin","onFocus");La("focusout","onBlur");La(xw,"onTransitionEnd");Al("onMouseEnter",["mouseout","mouseover"]);Al("onMouseLeave",["mouseout","mouseover"]);Al("onPointerEnter",["pointerout","pointerover"]);Al("onPointerLeave",["pointerout","pointerover"]);xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uu));function L2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Y3(n,t,void 0,e),e.currentTarget=null}function Nw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;L2(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;L2(i,o,c),s=l}}}if(Th)throw e=Wp,Th=!1,Wp=null,e}function Jt(e,t){var r=t[e1];r===void 0&&(r=t[e1]=new Set);var n=e+"__bubble";r.has(n)||(kw(t,e,2,!1),r.add(n))}function T0(e,t,r){var n=0;t&&(n|=4),kw(r,e,n,t)}var Bd="_reactListening"+Math.random().toString(36).slice(2);function gc(e){if(!e[Bd]){e[Bd]=!0,Ty.forEach(function(r){r!=="selectionchange"&&(X4.has(r)||T0(r,!1,e),T0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bd]||(t[Bd]=!0,T0("selectionchange",!1,t))}}function kw(e,t,r,n){switch(lw(t)){case 1:var i=h4;break;case 4:i=f4;break;default:i=fm}r=i.bind(null,t,r,e),i=void 0,!qp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function O0(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=no(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}Ky(function(){var c=s,d=um(r),g=[];e:{var v=Sw.get(e);if(v!==void 0){var f=mm,_=e;switch(e){case"keypress":if(ph(r)===0)break e;case"keydown":case"keyup":f=L4;break;case"focusin":_="focus",f=A0;break;case"focusout":_="blur",f=A0;break;case"beforeblur":case"afterblur":f=A0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=g2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=g4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=C4;break;case ww:case bw:case _w:f=w4;break;case xw:f=O4;break;case"scroll":f=p4;break;case"wheel":f=R4;break;case"copy":case"cut":case"paste":f=_4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=y2}var S=(t&4)!==0,k=!S&&e==="scroll",w=S?v!==null?v+"Capture":null:v;S=[];for(var x=c,N;x!==null;){N=x;var P=N.stateNode;if(N.tag===5&&P!==null&&(N=P,w!==null&&(P=cc(x,w),P!=null&&S.push(vc(x,P,N)))),k)break;x=x.return}0<S.length&&(v=new f(v,_,null,r,d),g.push({event:v,listeners:S}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",v&&r!==zp&&(_=r.relatedTarget||r.fromElement)&&(no(_)||_[Es]))break e;if((f||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,f?(_=r.relatedTarget||r.toElement,f=c,_=_?no(_):null,_!==null&&(k=So(_),_!==k||_.tag!==5&&_.tag!==6)&&(_=null)):(f=null,_=c),f!==_)){if(S=g2,P="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(S=y2,P="onPointerLeave",w="onPointerEnter",x="pointer"),k=f==null?v:ol(f),N=_==null?v:ol(_),v=new S(P,x+"leave",f,r,d),v.target=k,v.relatedTarget=N,P=null,no(d)===c&&(S=new S(w,x+"enter",_,r,d),S.target=N,S.relatedTarget=k,P=S),k=P,f&&_)t:{for(S=f,w=_,x=0,N=S;N;N=Uo(N))x++;for(N=0,P=w;P;P=Uo(P))N++;for(;0<x-N;)S=Uo(S),x--;for(;0<N-x;)w=Uo(w),N--;for(;x--;){if(S===w||w!==null&&S===w.alternate)break t;S=Uo(S),w=Uo(w)}S=null}else S=null;f!==null&&P2(g,v,f,S,!1),_!==null&&k!==null&&P2(g,k,_,S,!0)}}e:{if(v=c?ol(c):window,f=v.nodeName&&v.nodeName.toLowerCase(),f==="select"||f==="input"&&v.type==="file")var Y=$4;else if(_2(v))if(pw)Y=V4;else{Y=W4;var D=q4}else(f=v.nodeName)&&f.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(Y=H4);if(Y&&(Y=Y(e,c))){fw(g,Y,r,d);break e}D&&D(e,v,c),e==="focusout"&&(D=v._wrapperState)&&D.controlled&&v.type==="number"&&Fp(v,"number",v.value)}switch(D=c?ol(c):window,e){case"focusin":(_2(D)||D.contentEditable==="true")&&(sl=D,Kp=c,Yu=null);break;case"focusout":Yu=Kp=sl=null;break;case"mousedown":Jp=!0;break;case"contextmenu":case"mouseup":case"dragend":Jp=!1,A2(g,r,d);break;case"selectionchange":if(J4)break;case"keydown":case"keyup":A2(g,r,d)}var H;if(vm)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else il?dw(e,r)&&(z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(z="onCompositionStart");z&&(cw&&r.locale!=="ko"&&(il||z!=="onCompositionStart"?z==="onCompositionEnd"&&il&&(H=uw()):(oa=d,pm="value"in oa?oa.value:oa.textContent,il=!0)),D=Mh(c,z),0<D.length&&(z=new v2(z,e,null,r,d),g.push({event:z,listeners:D}),H?z.data=H:(H=hw(r),H!==null&&(z.data=H)))),(H=M4?D4(e,r):B4(e,r))&&(c=Mh(c,"onBeforeInput"),0<c.length&&(d=new v2("onBeforeInput","beforeinput",null,r,d),g.push({event:d,listeners:c}),d.data=H))}Nw(g,t)})}function vc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Mh(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=cc(e,r),s!=null&&n.unshift(vc(e,s,i)),s=cc(e,t),s!=null&&n.push(vc(e,s,i))),e=e.return}return n}function Uo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function P2(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=cc(r,s),l!=null&&a.unshift(vc(r,l,o))):i||(l=cc(r,s),l!=null&&a.push(vc(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Q4=/\r\n?/g,e6=/\u0000|\uFFFD/g;function E2(e){return(typeof e=="string"?e:""+e).replace(Q4,`
`).replace(e6,"")}function Ud(e,t,r){if(t=E2(t),E2(e)!==t&&r)throw Error(Le(425))}function Dh(){}var Yp=null,Zp=null;function Xp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qp=typeof setTimeout=="function"?setTimeout:void 0,t6=typeof clearTimeout=="function"?clearTimeout:void 0,C2=typeof Promise=="function"?Promise:void 0,r6=typeof queueMicrotask=="function"?queueMicrotask:typeof C2<"u"?function(e){return C2.resolve(null).then(e).catch(n6)}:Qp;function n6(e){setTimeout(function(){throw e})}function I0(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),fc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);fc(t)}function ma(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function T2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ul=Math.random().toString(36).slice(2),Ki="__reactFiber$"+Ul,yc="__reactProps$"+Ul,Es="__reactContainer$"+Ul,e1="__reactEvents$"+Ul,i6="__reactListeners$"+Ul,s6="__reactHandles$"+Ul;function no(e){var t=e[Ki];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Es]||r[Ki]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=T2(e);e!==null;){if(r=e[Ki])return r;e=T2(e)}return t}e=r,r=e.parentNode}return null}function Bc(e){return e=e[Ki]||e[Es],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ol(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Le(33))}function gf(e){return e[yc]||null}var t1=[],ll=-1;function Pa(e){return{current:e}}function Zt(e){0>ll||(e.current=t1[ll],t1[ll]=null,ll--)}function Gt(e,t){ll++,t1[ll]=e.current,e.current=t}var Aa={},an=Pa(Aa),Pn=Pa(!1),po=Aa;function jl(e,t){var r=e.type.contextTypes;if(!r)return Aa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function En(e){return e=e.childContextTypes,e!=null}function Bh(){Zt(Pn),Zt(an)}function O2(e,t,r){if(an.current!==Aa)throw Error(Le(168));Gt(an,t),Gt(Pn,r)}function Aw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Le(108,q3(e)||"Unknown",i));return sr({},r,n)}function Uh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Aa,po=an.current,Gt(an,e),Gt(Pn,Pn.current),!0}function I2(e,t,r){var n=e.stateNode;if(!n)throw Error(Le(169));r?(e=Aw(e,t,po),n.__reactInternalMemoizedMergedChildContext=e,Zt(Pn),Zt(an),Gt(an,e)):Zt(Pn),Gt(Pn,r)}var Ss=null,vf=!1,R0=!1;function jw(e){Ss===null?Ss=[e]:Ss.push(e)}function a6(e){vf=!0,jw(e)}function Ea(){if(!R0&&Ss!==null){R0=!0;var e=0,t=Mt;try{var r=Ss;for(Mt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ss=null,vf=!1}catch(i){throw Ss!==null&&(Ss=Ss.slice(e+1)),Xy(cm,Ea),i}finally{Mt=t,R0=!1}}return null}var ul=[],cl=0,zh=null,$h=0,oi=[],li=0,mo=null,As=1,js="";function Za(e,t){ul[cl++]=$h,ul[cl++]=zh,zh=e,$h=t}function Lw(e,t,r){oi[li++]=As,oi[li++]=js,oi[li++]=mo,mo=e;var n=As;e=js;var i=32-Li(n)-1;n&=~(1<<i),r+=1;var s=32-Li(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,As=1<<32-Li(t)+i|r<<i|n,js=s+e}else As=1<<s|r<<i|n,js=e}function wm(e){e.return!==null&&(Za(e,1),Lw(e,1,0))}function bm(e){for(;e===zh;)zh=ul[--cl],ul[cl]=null,$h=ul[--cl],ul[cl]=null;for(;e===mo;)mo=oi[--li],oi[li]=null,js=oi[--li],oi[li]=null,As=oi[--li],oi[li]=null}var Jn=null,Vn=null,er=!1,ji=null;function Pw(e,t){var r=ci(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function R2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jn=e,Vn=ma(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jn=e,Vn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mo!==null?{id:As,overflow:js}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ci(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jn=e,Vn=null,!0):!1;default:return!1}}function r1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function n1(e){if(er){var t=Vn;if(t){var r=t;if(!R2(e,t)){if(r1(e))throw Error(Le(418));t=ma(r.nextSibling);var n=Jn;t&&R2(e,t)?Pw(n,r):(e.flags=e.flags&-4097|2,er=!1,Jn=e)}}else{if(r1(e))throw Error(Le(418));e.flags=e.flags&-4097|2,er=!1,Jn=e}}}function F2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jn=e}function zd(e){if(e!==Jn)return!1;if(!er)return F2(e),er=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xp(e.type,e.memoizedProps)),t&&(t=Vn)){if(r1(e))throw Ew(),Error(Le(418));for(;t;)Pw(e,t),t=ma(t.nextSibling)}if(F2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Vn=ma(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Vn=null}}else Vn=Jn?ma(e.stateNode.nextSibling):null;return!0}function Ew(){for(var e=Vn;e;)e=ma(e.nextSibling)}function Ll(){Vn=Jn=null,er=!1}function _m(e){ji===null?ji=[e]:ji.push(e)}var o6=Os.ReactCurrentBatchConfig;function Lu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Le(309));var n=r.stateNode}if(!n)throw Error(Le(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(Le(284));if(!r._owner)throw Error(Le(290,e))}return e}function $d(e,t){throw e=Object.prototype.toString.call(t),Error(Le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function M2(e){var t=e._init;return t(e._payload)}function Cw(e){function t(w,x){if(e){var N=w.deletions;N===null?(w.deletions=[x],w.flags|=16):N.push(x)}}function r(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function n(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=wa(w,x),w.index=0,w.sibling=null,w}function s(w,x,N){return w.index=N,e?(N=w.alternate,N!==null?(N=N.index,N<x?(w.flags|=2,x):N):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function o(w,x,N,P){return x===null||x.tag!==6?(x=$0(N,w.mode,P),x.return=w,x):(x=i(x,N),x.return=w,x)}function l(w,x,N,P){var Y=N.type;return Y===nl?d(w,x,N.props.children,P,N.key):x!==null&&(x.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ta&&M2(Y)===x.type)?(P=i(x,N.props),P.ref=Lu(w,x,N),P.return=w,P):(P=_h(N.type,N.key,N.props,null,w.mode,P),P.ref=Lu(w,x,N),P.return=w,P)}function c(w,x,N,P){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=q0(N,w.mode,P),x.return=w,x):(x=i(x,N.children||[]),x.return=w,x)}function d(w,x,N,P,Y){return x===null||x.tag!==7?(x=co(N,w.mode,P,Y),x.return=w,x):(x=i(x,N),x.return=w,x)}function g(w,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return x=$0(""+x,w.mode,N),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Cd:return N=_h(x.type,x.key,x.props,null,w.mode,N),N.ref=Lu(w,null,x),N.return=w,N;case rl:return x=q0(x,w.mode,N),x.return=w,x;case ta:var P=x._init;return g(w,P(x._payload),N)}if(Du(x)||Su(x))return x=co(x,w.mode,N,null),x.return=w,x;$d(w,x)}return null}function v(w,x,N,P){var Y=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return Y!==null?null:o(w,x,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Cd:return N.key===Y?l(w,x,N,P):null;case rl:return N.key===Y?c(w,x,N,P):null;case ta:return Y=N._init,v(w,x,Y(N._payload),P)}if(Du(N)||Su(N))return Y!==null?null:d(w,x,N,P,null);$d(w,N)}return null}function f(w,x,N,P,Y){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(N)||null,o(x,w,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Cd:return w=w.get(P.key===null?N:P.key)||null,l(x,w,P,Y);case rl:return w=w.get(P.key===null?N:P.key)||null,c(x,w,P,Y);case ta:var D=P._init;return f(w,x,N,D(P._payload),Y)}if(Du(P)||Su(P))return w=w.get(N)||null,d(x,w,P,Y,null);$d(x,P)}return null}function _(w,x,N,P){for(var Y=null,D=null,H=x,z=x=0,U=null;H!==null&&z<N.length;z++){H.index>z?(U=H,H=null):U=H.sibling;var J=v(w,H,N[z],P);if(J===null){H===null&&(H=U);break}e&&H&&J.alternate===null&&t(w,H),x=s(J,x,z),D===null?Y=J:D.sibling=J,D=J,H=U}if(z===N.length)return r(w,H),er&&Za(w,z),Y;if(H===null){for(;z<N.length;z++)H=g(w,N[z],P),H!==null&&(x=s(H,x,z),D===null?Y=H:D.sibling=H,D=H);return er&&Za(w,z),Y}for(H=n(w,H);z<N.length;z++)U=f(H,w,z,N[z],P),U!==null&&(e&&U.alternate!==null&&H.delete(U.key===null?z:U.key),x=s(U,x,z),D===null?Y=U:D.sibling=U,D=U);return e&&H.forEach(function(T){return t(w,T)}),er&&Za(w,z),Y}function S(w,x,N,P){var Y=Su(N);if(typeof Y!="function")throw Error(Le(150));if(N=Y.call(N),N==null)throw Error(Le(151));for(var D=Y=null,H=x,z=x=0,U=null,J=N.next();H!==null&&!J.done;z++,J=N.next()){H.index>z?(U=H,H=null):U=H.sibling;var T=v(w,H,J.value,P);if(T===null){H===null&&(H=U);break}e&&H&&T.alternate===null&&t(w,H),x=s(T,x,z),D===null?Y=T:D.sibling=T,D=T,H=U}if(J.done)return r(w,H),er&&Za(w,z),Y;if(H===null){for(;!J.done;z++,J=N.next())J=g(w,J.value,P),J!==null&&(x=s(J,x,z),D===null?Y=J:D.sibling=J,D=J);return er&&Za(w,z),Y}for(H=n(w,H);!J.done;z++,J=N.next())J=f(H,w,z,J.value,P),J!==null&&(e&&J.alternate!==null&&H.delete(J.key===null?z:J.key),x=s(J,x,z),D===null?Y=J:D.sibling=J,D=J);return e&&H.forEach(function(F){return t(w,F)}),er&&Za(w,z),Y}function k(w,x,N,P){if(typeof N=="object"&&N!==null&&N.type===nl&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Cd:e:{for(var Y=N.key,D=x;D!==null;){if(D.key===Y){if(Y=N.type,Y===nl){if(D.tag===7){r(w,D.sibling),x=i(D,N.props.children),x.return=w,w=x;break e}}else if(D.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ta&&M2(Y)===D.type){r(w,D.sibling),x=i(D,N.props),x.ref=Lu(w,D,N),x.return=w,w=x;break e}r(w,D);break}else t(w,D);D=D.sibling}N.type===nl?(x=co(N.props.children,w.mode,P,N.key),x.return=w,w=x):(P=_h(N.type,N.key,N.props,null,w.mode,P),P.ref=Lu(w,x,N),P.return=w,w=P)}return a(w);case rl:e:{for(D=N.key;x!==null;){if(x.key===D)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){r(w,x.sibling),x=i(x,N.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else t(w,x);x=x.sibling}x=q0(N,w.mode,P),x.return=w,w=x}return a(w);case ta:return D=N._init,k(w,x,D(N._payload),P)}if(Du(N))return _(w,x,N,P);if(Su(N))return S(w,x,N,P);$d(w,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,x!==null&&x.tag===6?(r(w,x.sibling),x=i(x,N),x.return=w,w=x):(r(w,x),x=$0(N,w.mode,P),x.return=w,w=x),a(w)):r(w,x)}return k}var Pl=Cw(!0),Tw=Cw(!1),qh=Pa(null),Wh=null,dl=null,xm=null;function Sm(){xm=dl=Wh=null}function Nm(e){var t=qh.current;Zt(qh),e._currentValue=t}function i1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function wl(e,t){Wh=e,xm=dl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jn=!0),e.firstContext=null)}function fi(e){var t=e._currentValue;if(xm!==e)if(e={context:e,memoizedValue:t,next:null},dl===null){if(Wh===null)throw Error(Le(308));dl=e,Wh.dependencies={lanes:0,firstContext:e}}else dl=dl.next=e;return t}var io=null;function km(e){io===null?io=[e]:io.push(e)}function Ow(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,km(t)):(r.next=i.next,i.next=r),t.interleaved=r,Cs(e,n)}function Cs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ra=!1;function Am(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Iw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ga(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Et&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Cs(e,r)}return i=n.interleaved,i===null?(t.next=t,km(n)):(t.next=i.next,i.next=t),n.interleaved=t,Cs(e,r)}function mh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dm(e,r)}}function D2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Hh(e,t,r,n){var i=e.updateQueue;ra=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var g=i.baseState;a=0,d=c=l=null,o=s;do{var v=o.lane,f=o.eventTime;if((n&v)===v){d!==null&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=e,S=o;switch(v=t,f=r,S.tag){case 1:if(_=S.payload,typeof _=="function"){g=_.call(f,g,v);break e}g=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,v=typeof _=="function"?_.call(f,g,v):_,v==null)break e;g=sr({},g,v);break e;case 2:ra=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[o]:v.push(o))}else f={eventTime:f,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=f,l=g):d=d.next=f,a|=v;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;v=o,o=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(d===null&&(l=g),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);vo|=a,e.lanes=a,e.memoizedState=g}}function B2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Le(191,i));i.call(n)}}}var Uc={},Xi=Pa(Uc),wc=Pa(Uc),bc=Pa(Uc);function so(e){if(e===Uc)throw Error(Le(174));return e}function jm(e,t){switch(Gt(bc,t),Gt(wc,e),Gt(Xi,Uc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dp(t,e)}Zt(Xi),Gt(Xi,t)}function El(){Zt(Xi),Zt(wc),Zt(bc)}function Rw(e){so(bc.current);var t=so(Xi.current),r=Dp(t,e.type);t!==r&&(Gt(wc,e),Gt(Xi,r))}function Lm(e){wc.current===e&&(Zt(Xi),Zt(wc))}var nr=Pa(0);function Vh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var F0=[];function Pm(){for(var e=0;e<F0.length;e++)F0[e]._workInProgressVersionPrimary=null;F0.length=0}var gh=Os.ReactCurrentDispatcher,M0=Os.ReactCurrentBatchConfig,go=0,ir=null,Rr=null,Dr=null,Gh=!1,Zu=!1,_c=0,l6=0;function Xr(){throw Error(Le(321))}function Em(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ei(e[r],t[r]))return!1;return!0}function Cm(e,t,r,n,i,s){if(go=s,ir=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gh.current=e===null||e.memoizedState===null?h6:f6,e=r(n,i),Zu){s=0;do{if(Zu=!1,_c=0,25<=s)throw Error(Le(301));s+=1,Dr=Rr=null,t.updateQueue=null,gh.current=p6,e=r(n,i)}while(Zu)}if(gh.current=Kh,t=Rr!==null&&Rr.next!==null,go=0,Dr=Rr=ir=null,Gh=!1,t)throw Error(Le(300));return e}function Tm(){var e=_c!==0;return _c=0,e}function Vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?ir.memoizedState=Dr=e:Dr=Dr.next=e,Dr}function pi(){if(Rr===null){var e=ir.alternate;e=e!==null?e.memoizedState:null}else e=Rr.next;var t=Dr===null?ir.memoizedState:Dr.next;if(t!==null)Dr=t,Rr=e;else{if(e===null)throw Error(Le(310));Rr=e,e={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Dr===null?ir.memoizedState=Dr=e:Dr=Dr.next=e}return Dr}function xc(e,t){return typeof t=="function"?t(e):t}function D0(e){var t=pi(),r=t.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=e;var n=Rr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((go&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var g={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=g,a=n):l=l.next=g,ir.lanes|=d,vo|=d}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,Ei(n,t.memoizedState)||(jn=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,ir.lanes|=s,vo|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function B0(e){var t=pi(),r=t.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Ei(s,t.memoizedState)||(jn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Fw(){}function Mw(e,t){var r=ir,n=pi(),i=t(),s=!Ei(n.memoizedState,i);if(s&&(n.memoizedState=i,jn=!0),n=n.queue,Om(Uw.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Dr!==null&&Dr.memoizedState.tag&1){if(r.flags|=2048,Sc(9,Bw.bind(null,r,n,i,t),void 0,null),Ur===null)throw Error(Le(349));go&30||Dw(r,t,i)}return i}function Dw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ir.updateQueue,t===null?(t={lastEffect:null,stores:null},ir.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Bw(e,t,r,n){t.value=r,t.getSnapshot=n,zw(t)&&$w(e)}function Uw(e,t,r){return r(function(){zw(t)&&$w(e)})}function zw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ei(e,r)}catch{return!0}}function $w(e){var t=Cs(e,1);t!==null&&Pi(t,e,1,-1)}function U2(e){var t=Vi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:e},t.queue=e,e=e.dispatch=d6.bind(null,ir,e),[t.memoizedState,e]}function Sc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ir.updateQueue,t===null?(t={lastEffect:null,stores:null},ir.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function qw(){return pi().memoizedState}function vh(e,t,r,n){var i=Vi();ir.flags|=e,i.memoizedState=Sc(1|t,r,void 0,n===void 0?null:n)}function yf(e,t,r,n){var i=pi();n=n===void 0?null:n;var s=void 0;if(Rr!==null){var a=Rr.memoizedState;if(s=a.destroy,n!==null&&Em(n,a.deps)){i.memoizedState=Sc(t,r,s,n);return}}ir.flags|=e,i.memoizedState=Sc(1|t,r,s,n)}function z2(e,t){return vh(8390656,8,e,t)}function Om(e,t){return yf(2048,8,e,t)}function Ww(e,t){return yf(4,2,e,t)}function Hw(e,t){return yf(4,4,e,t)}function Vw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gw(e,t,r){return r=r!=null?r.concat([e]):null,yf(4,4,Vw.bind(null,t,e),r)}function Im(){}function Kw(e,t){var r=pi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Em(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Jw(e,t){var r=pi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Em(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Yw(e,t,r){return go&21?(Ei(r,t)||(r=tw(),ir.lanes|=r,vo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jn=!0),e.memoizedState=r)}function u6(e,t){var r=Mt;Mt=r!==0&&4>r?r:4,e(!0);var n=M0.transition;M0.transition={};try{e(!1),t()}finally{Mt=r,M0.transition=n}}function Zw(){return pi().memoizedState}function c6(e,t,r){var n=ya(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Xw(e))Qw(t,r);else if(r=Ow(e,t,r,n),r!==null){var i=vn();Pi(r,e,n,i),eb(r,t,n)}}function d6(e,t,r){var n=ya(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xw(e))Qw(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Ei(o,a)){var l=t.interleaved;l===null?(i.next=i,km(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=Ow(e,t,i,n),r!==null&&(i=vn(),Pi(r,e,n,i),eb(r,t,n))}}function Xw(e){var t=e.alternate;return e===ir||t!==null&&t===ir}function Qw(e,t){Zu=Gh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function eb(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dm(e,r)}}var Kh={readContext:fi,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useInsertionEffect:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useSyncExternalStore:Xr,useId:Xr,unstable_isNewReconciler:!1},h6={readContext:fi,useCallback:function(e,t){return Vi().memoizedState=[e,t===void 0?null:t],e},useContext:fi,useEffect:z2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,vh(4194308,4,Vw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vh(4194308,4,e,t)},useInsertionEffect:function(e,t){return vh(4,2,e,t)},useMemo:function(e,t){var r=Vi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Vi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=c6.bind(null,ir,e),[n.memoizedState,e]},useRef:function(e){var t=Vi();return e={current:e},t.memoizedState=e},useState:U2,useDebugValue:Im,useDeferredValue:function(e){return Vi().memoizedState=e},useTransition:function(){var e=U2(!1),t=e[0];return e=u6.bind(null,e[1]),Vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ir,i=Vi();if(er){if(r===void 0)throw Error(Le(407));r=r()}else{if(r=t(),Ur===null)throw Error(Le(349));go&30||Dw(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,z2(Uw.bind(null,n,s,e),[e]),n.flags|=2048,Sc(9,Bw.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Vi(),t=Ur.identifierPrefix;if(er){var r=js,n=As;r=(n&~(1<<32-Li(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=_c++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=l6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},f6={readContext:fi,useCallback:Kw,useContext:fi,useEffect:Om,useImperativeHandle:Gw,useInsertionEffect:Ww,useLayoutEffect:Hw,useMemo:Jw,useReducer:D0,useRef:qw,useState:function(){return D0(xc)},useDebugValue:Im,useDeferredValue:function(e){var t=pi();return Yw(t,Rr.memoizedState,e)},useTransition:function(){var e=D0(xc)[0],t=pi().memoizedState;return[e,t]},useMutableSource:Fw,useSyncExternalStore:Mw,useId:Zw,unstable_isNewReconciler:!1},p6={readContext:fi,useCallback:Kw,useContext:fi,useEffect:Om,useImperativeHandle:Gw,useInsertionEffect:Ww,useLayoutEffect:Hw,useMemo:Jw,useReducer:B0,useRef:qw,useState:function(){return B0(xc)},useDebugValue:Im,useDeferredValue:function(e){var t=pi();return Rr===null?t.memoizedState=e:Yw(t,Rr.memoizedState,e)},useTransition:function(){var e=B0(xc)[0],t=pi().memoizedState;return[e,t]},useMutableSource:Fw,useSyncExternalStore:Mw,useId:Zw,unstable_isNewReconciler:!1};function Ni(e,t){if(e&&e.defaultProps){t=sr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function s1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:sr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wf={isMounted:function(e){return(e=e._reactInternals)?So(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=vn(),i=ya(e),s=Ls(n,i);s.payload=t,r!=null&&(s.callback=r),t=ga(e,s,i),t!==null&&(Pi(t,e,i,n),mh(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=vn(),i=ya(e),s=Ls(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=ga(e,s,i),t!==null&&(Pi(t,e,i,n),mh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=vn(),n=ya(e),i=Ls(r,n);i.tag=2,t!=null&&(i.callback=t),t=ga(e,i,n),t!==null&&(Pi(t,e,n,r),mh(t,e,n))}};function $2(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!mc(r,n)||!mc(i,s):!0}function tb(e,t,r){var n=!1,i=Aa,s=t.contextType;return typeof s=="object"&&s!==null?s=fi(s):(i=En(t)?po:an.current,n=t.contextTypes,s=(n=n!=null)?jl(e,i):Aa),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function q2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&wf.enqueueReplaceState(t,t.state,null)}function a1(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Am(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=fi(s):(s=En(t)?po:an.current,i.context=jl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(s1(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&wf.enqueueReplaceState(i,i.state,null),Hh(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Cl(e,t){try{var r="",n=t;do r+=$3(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function U0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function o1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var m6=typeof WeakMap=="function"?WeakMap:Map;function rb(e,t,r){r=Ls(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Yh||(Yh=!0,v1=n),o1(e,t)},r}function nb(e,t,r){r=Ls(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){o1(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){o1(e,t),typeof n!="function"&&(va===null?va=new Set([this]):va.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function W2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new m6;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=P6.bind(null,e,t,r),t.then(e,e))}function H2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function V2(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ls(-1,1),t.tag=2,ga(r,t,1))),r.lanes|=1),e)}var g6=Os.ReactCurrentOwner,jn=!1;function mn(e,t,r,n){t.child=e===null?Tw(t,null,r,n):Pl(t,e.child,r,n)}function G2(e,t,r,n,i){r=r.render;var s=t.ref;return wl(t,i),n=Cm(e,t,r,n,s,i),r=Tm(),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ts(e,t,i)):(er&&r&&wm(t),t.flags|=1,mn(e,t,n,i),t.child)}function K2(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!$m(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,ib(e,t,s,n,i)):(e=_h(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:mc,r(a,n)&&e.ref===t.ref)return Ts(e,t,i)}return t.flags|=1,e=wa(s,n),e.ref=t.ref,e.return=t,t.child=e}function ib(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(mc(s,n)&&e.ref===t.ref)if(jn=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(jn=!0);else return t.lanes=e.lanes,Ts(e,t,i)}return l1(e,t,r,n,i)}function sb(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(fl,Hn),Hn|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gt(fl,Hn),Hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Gt(fl,Hn),Hn|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Gt(fl,Hn),Hn|=n;return mn(e,t,i,r),t.child}function ab(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function l1(e,t,r,n,i){var s=En(r)?po:an.current;return s=jl(t,s),wl(t,i),r=Cm(e,t,r,n,s,i),n=Tm(),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ts(e,t,i)):(er&&n&&wm(t),t.flags|=1,mn(e,t,r,i),t.child)}function J2(e,t,r,n,i){if(En(r)){var s=!0;Uh(t)}else s=!1;if(wl(t,i),t.stateNode===null)yh(e,t),tb(t,r,n),a1(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=fi(c):(c=En(r)?po:an.current,c=jl(t,c));var d=r.getDerivedStateFromProps,g=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&q2(t,a,n,c),ra=!1;var v=t.memoizedState;a.state=v,Hh(t,n,a,i),l=t.memoizedState,o!==n||v!==l||Pn.current||ra?(typeof d=="function"&&(s1(t,r,d,n),l=t.memoizedState),(o=ra||$2(t,r,o,n,v,l,c))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Iw(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ni(t.type,o),a.props=c,g=t.pendingProps,v=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=fi(l):(l=En(r)?po:an.current,l=jl(t,l));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==g||v!==l)&&q2(t,a,n,l),ra=!1,v=t.memoizedState,a.state=v,Hh(t,n,a,i);var _=t.memoizedState;o!==g||v!==_||Pn.current||ra?(typeof f=="function"&&(s1(t,r,f,n),_=t.memoizedState),(c=ra||$2(t,r,c,n,v,_,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=_),a.props=n,a.state=_,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return u1(e,t,r,n,s,i)}function u1(e,t,r,n,i,s){ab(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&I2(t,r,!1),Ts(e,t,s);n=t.stateNode,g6.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Pl(t,e.child,null,s),t.child=Pl(t,null,o,s)):mn(e,t,o,s),t.memoizedState=n.state,i&&I2(t,r,!0),t.child}function ob(e){var t=e.stateNode;t.pendingContext?O2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&O2(e,t.context,!1),jm(e,t.containerInfo)}function Y2(e,t,r,n,i){return Ll(),_m(i),t.flags|=256,mn(e,t,r,n),t.child}var c1={dehydrated:null,treeContext:null,retryLane:0};function d1(e){return{baseLanes:e,cachePool:null,transitions:null}}function lb(e,t,r){var n=t.pendingProps,i=nr.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Gt(nr,i&1),e===null)return n1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=xf(a,n,0,null),e=co(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=d1(r),t.memoizedState=c1,e):Rm(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return v6(e,t,a,n,o,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=wa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=wa(o,s):(s=co(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?d1(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=c1,n}return s=e.child,e=s.sibling,n=wa(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Rm(e,t){return t=xf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qd(e,t,r,n){return n!==null&&_m(n),Pl(t,e.child,null,r),e=Rm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function v6(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=U0(Error(Le(422))),qd(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=xf({mode:"visible",children:n.children},i,0,null),s=co(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Pl(t,e.child,null,a),t.child.memoizedState=d1(a),t.memoizedState=c1,s);if(!(t.mode&1))return qd(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Le(419)),n=U0(s,n,void 0),qd(e,t,a,n)}if(o=(a&e.childLanes)!==0,jn||o){if(n=Ur,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Cs(e,i),Pi(n,e,i,-1))}return zm(),n=U0(Error(Le(421))),qd(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=E6.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Vn=ma(i.nextSibling),Jn=t,er=!0,ji=null,e!==null&&(oi[li++]=As,oi[li++]=js,oi[li++]=mo,As=e.id,js=e.overflow,mo=t),t=Rm(t,n.children),t.flags|=4096,t)}function Z2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),i1(e.return,t,r)}function z0(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function ub(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(mn(e,t,n.children,r),n=nr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Z2(e,r,t);else if(e.tag===19)Z2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Gt(nr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Vh(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),z0(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Vh(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}z0(t,!0,r,null,s);break;case"together":z0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ts(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Le(153));if(t.child!==null){for(e=t.child,r=wa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=wa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function y6(e,t,r){switch(t.tag){case 3:ob(t),Ll();break;case 5:Rw(t);break;case 1:En(t.type)&&Uh(t);break;case 4:jm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Gt(qh,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Gt(nr,nr.current&1),t.flags|=128,null):r&t.child.childLanes?lb(e,t,r):(Gt(nr,nr.current&1),e=Ts(e,t,r),e!==null?e.sibling:null);Gt(nr,nr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ub(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gt(nr,nr.current),n)break;return null;case 22:case 23:return t.lanes=0,sb(e,t,r)}return Ts(e,t,r)}var cb,h1,db,hb;cb=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};h1=function(){};db=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,so(Xi.current);var s=null;switch(r){case"input":i=Ip(e,i),n=Ip(e,n),s=[];break;case"select":i=sr({},i,{value:void 0}),n=sr({},n,{value:void 0}),s=[];break;case"textarea":i=Mp(e,i),n=Mp(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Dh)}Bp(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(lc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(lc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Jt("scroll",e),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};hb=function(e,t,r,n){r!==n&&(t.flags|=4)};function Pu(e,t){if(!er)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Qr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function w6(e,t,r){var n=t.pendingProps;switch(bm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qr(t),null;case 1:return En(t.type)&&Bh(),Qr(t),null;case 3:return n=t.stateNode,El(),Zt(Pn),Zt(an),Pm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ji!==null&&(b1(ji),ji=null))),h1(e,t),Qr(t),null;case 5:Lm(t);var i=so(bc.current);if(r=t.type,e!==null&&t.stateNode!=null)db(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Le(166));return Qr(t),null}if(e=so(Xi.current),zd(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ki]=t,n[yc]=s,e=(t.mode&1)!==0,r){case"dialog":Jt("cancel",n),Jt("close",n);break;case"iframe":case"object":case"embed":Jt("load",n);break;case"video":case"audio":for(i=0;i<Uu.length;i++)Jt(Uu[i],n);break;case"source":Jt("error",n);break;case"img":case"image":case"link":Jt("error",n),Jt("load",n);break;case"details":Jt("toggle",n);break;case"input":a2(n,s),Jt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Jt("invalid",n);break;case"textarea":l2(n,s),Jt("invalid",n)}Bp(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Ud(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Ud(n.textContent,o,e),i=["children",""+o]):lc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Jt("scroll",n)}switch(r){case"input":Td(n),o2(n,s,!0);break;case"textarea":Td(n),u2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Dh)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Uy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Ki]=t,e[yc]=n,cb(e,t,!1,!1),t.stateNode=e;e:{switch(a=Up(r,n),r){case"dialog":Jt("cancel",e),Jt("close",e),i=n;break;case"iframe":case"object":case"embed":Jt("load",e),i=n;break;case"video":case"audio":for(i=0;i<Uu.length;i++)Jt(Uu[i],e);i=n;break;case"source":Jt("error",e),i=n;break;case"img":case"image":case"link":Jt("error",e),Jt("load",e),i=n;break;case"details":Jt("toggle",e),i=n;break;case"input":a2(e,n),i=Ip(e,n),Jt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=sr({},n,{value:void 0}),Jt("invalid",e);break;case"textarea":l2(e,n),i=Mp(e,n),Jt("invalid",e);break;default:i=n}Bp(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?qy(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zy(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&uc(e,l):typeof l=="number"&&uc(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(lc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Jt("scroll",e):l!=null&&sm(e,s,l,a))}switch(r){case"input":Td(e),o2(e,n,!1);break;case"textarea":Td(e),u2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ka(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?ml(e,!!n.multiple,s,!1):n.defaultValue!=null&&ml(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Dh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qr(t),null;case 6:if(e&&t.stateNode!=null)hb(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Le(166));if(r=so(bc.current),so(Xi.current),zd(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ki]=t,(s=n.nodeValue!==r)&&(e=Jn,e!==null))switch(e.tag){case 3:Ud(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ud(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ki]=t,t.stateNode=n}return Qr(t),null;case 13:if(Zt(nr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(er&&Vn!==null&&t.mode&1&&!(t.flags&128))Ew(),Ll(),t.flags|=98560,s=!1;else if(s=zd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Le(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Le(317));s[Ki]=t}else Ll(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qr(t),s=!1}else ji!==null&&(b1(ji),ji=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||nr.current&1?Fr===0&&(Fr=3):zm())),t.updateQueue!==null&&(t.flags|=4),Qr(t),null);case 4:return El(),h1(e,t),e===null&&gc(t.stateNode.containerInfo),Qr(t),null;case 10:return Nm(t.type._context),Qr(t),null;case 17:return En(t.type)&&Bh(),Qr(t),null;case 19:if(Zt(nr),s=t.memoizedState,s===null)return Qr(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)Pu(s,!1);else{if(Fr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Vh(e),a!==null){for(t.flags|=128,Pu(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Gt(nr,nr.current&1|2),t.child}e=e.sibling}s.tail!==null&&gr()>Tl&&(t.flags|=128,n=!0,Pu(s,!1),t.lanes=4194304)}else{if(!n)if(e=Vh(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Pu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!er)return Qr(t),null}else 2*gr()-s.renderingStartTime>Tl&&r!==1073741824&&(t.flags|=128,n=!0,Pu(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=gr(),t.sibling=null,r=nr.current,Gt(nr,n?r&1|2:r&1),t):(Qr(t),null);case 22:case 23:return Um(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Hn&1073741824&&(Qr(t),t.subtreeFlags&6&&(t.flags|=8192)):Qr(t),null;case 24:return null;case 25:return null}throw Error(Le(156,t.tag))}function b6(e,t){switch(bm(t),t.tag){case 1:return En(t.type)&&Bh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return El(),Zt(Pn),Zt(an),Pm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Lm(t),null;case 13:if(Zt(nr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Le(340));Ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zt(nr),null;case 4:return El(),null;case 10:return Nm(t.type._context),null;case 22:case 23:return Um(),null;case 24:return null;default:return null}}var Wd=!1,sn=!1,_6=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function hl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ur(e,t,n)}else r.current=null}function f1(e,t,r){try{r()}catch(n){ur(e,t,n)}}var X2=!1;function x6(e,t){if(Yp=Rh,e=vw(),ym(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,g=e,v=null;t:for(;;){for(var f;g!==r||i!==0&&g.nodeType!==3||(o=a+i),g!==s||n!==0&&g.nodeType!==3||(l=a+n),g.nodeType===3&&(a+=g.nodeValue.length),(f=g.firstChild)!==null;)v=g,g=f;for(;;){if(g===e)break t;if(v===r&&++c===i&&(o=a),v===s&&++d===n&&(l=a),(f=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zp={focusedElem:e,selectionRange:r},Rh=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){t=Fe;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,k=_.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?S:Ni(t.type,S),k);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(P){ur(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}return _=X2,X2=!1,_}function Xu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&f1(t,r,s)}i=i.next}while(i!==n)}}function bf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function p1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function fb(e){var t=e.alternate;t!==null&&(e.alternate=null,fb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ki],delete t[yc],delete t[e1],delete t[i6],delete t[s6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pb(e){return e.tag===5||e.tag===3||e.tag===4}function Q2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function m1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Dh));else if(n!==4&&(e=e.child,e!==null))for(m1(e,t,r),e=e.sibling;e!==null;)m1(e,t,r),e=e.sibling}function g1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(g1(e,t,r),e=e.sibling;e!==null;)g1(e,t,r),e=e.sibling}var Vr=null,ki=!1;function Js(e,t,r){for(r=r.child;r!==null;)mb(e,t,r),r=r.sibling}function mb(e,t,r){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount(hf,r)}catch{}switch(r.tag){case 5:sn||hl(r,t);case 6:var n=Vr,i=ki;Vr=null,Js(e,t,r),Vr=n,ki=i,Vr!==null&&(ki?(e=Vr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Vr.removeChild(r.stateNode));break;case 18:Vr!==null&&(ki?(e=Vr,r=r.stateNode,e.nodeType===8?I0(e.parentNode,r):e.nodeType===1&&I0(e,r),fc(e)):I0(Vr,r.stateNode));break;case 4:n=Vr,i=ki,Vr=r.stateNode.containerInfo,ki=!0,Js(e,t,r),Vr=n,ki=i;break;case 0:case 11:case 14:case 15:if(!sn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&f1(r,t,a),i=i.next}while(i!==n)}Js(e,t,r);break;case 1:if(!sn&&(hl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ur(r,t,o)}Js(e,t,r);break;case 21:Js(e,t,r);break;case 22:r.mode&1?(sn=(n=sn)||r.memoizedState!==null,Js(e,t,r),sn=n):Js(e,t,r);break;default:Js(e,t,r)}}function ev(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _6),t.forEach(function(n){var i=C6.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function _i(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Vr=o.stateNode,ki=!1;break e;case 3:Vr=o.stateNode.containerInfo,ki=!0;break e;case 4:Vr=o.stateNode.containerInfo,ki=!0;break e}o=o.return}if(Vr===null)throw Error(Le(160));mb(s,a,i),Vr=null,ki=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ur(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gb(t,e),t=t.sibling}function gb(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_i(t,e),qi(e),n&4){try{Xu(3,e,e.return),bf(3,e)}catch(S){ur(e,e.return,S)}try{Xu(5,e,e.return)}catch(S){ur(e,e.return,S)}}break;case 1:_i(t,e),qi(e),n&512&&r!==null&&hl(r,r.return);break;case 5:if(_i(t,e),qi(e),n&512&&r!==null&&hl(r,r.return),e.flags&32){var i=e.stateNode;try{uc(i,"")}catch(S){ur(e,e.return,S)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Dy(i,s),Up(o,a);var c=Up(o,s);for(a=0;a<l.length;a+=2){var d=l[a],g=l[a+1];d==="style"?qy(i,g):d==="dangerouslySetInnerHTML"?zy(i,g):d==="children"?uc(i,g):sm(i,d,g,c)}switch(o){case"input":Rp(i,s);break;case"textarea":By(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ml(i,!!s.multiple,f,!1):v!==!!s.multiple&&(s.defaultValue!=null?ml(i,!!s.multiple,s.defaultValue,!0):ml(i,!!s.multiple,s.multiple?[]:"",!1))}i[yc]=s}catch(S){ur(e,e.return,S)}}break;case 6:if(_i(t,e),qi(e),n&4){if(e.stateNode===null)throw Error(Le(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(S){ur(e,e.return,S)}}break;case 3:if(_i(t,e),qi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fc(t.containerInfo)}catch(S){ur(e,e.return,S)}break;case 4:_i(t,e),qi(e);break;case 13:_i(t,e),qi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Dm=gr())),n&4&&ev(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(sn=(c=sn)||d,_i(t,e),sn=c):_i(t,e),qi(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Fe=e,d=e.child;d!==null;){for(g=Fe=d;Fe!==null;){switch(v=Fe,f=v.child,v.tag){case 0:case 11:case 14:case 15:Xu(4,v,v.return);break;case 1:hl(v,v.return);var _=v.stateNode;if(typeof _.componentWillUnmount=="function"){n=v,r=v.return;try{t=n,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(S){ur(n,r,S)}}break;case 5:hl(v,v.return);break;case 22:if(v.memoizedState!==null){rv(g);continue}}f!==null?(f.return=v,Fe=f):rv(g)}d=d.sibling}e:for(d=null,g=e;;){if(g.tag===5){if(d===null){d=g;try{i=g.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=g.stateNode,l=g.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=$y("display",a))}catch(S){ur(e,e.return,S)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(S){ur(e,e.return,S)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:_i(t,e),qi(e),n&4&&ev(e);break;case 21:break;default:_i(t,e),qi(e)}}function qi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(pb(r)){var n=r;break e}r=r.return}throw Error(Le(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(uc(i,""),n.flags&=-33);var s=Q2(e);g1(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Q2(e);m1(e,o,a);break;default:throw Error(Le(161))}}catch(l){ur(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function S6(e,t,r){Fe=e,vb(e)}function vb(e,t,r){for(var n=(e.mode&1)!==0;Fe!==null;){var i=Fe,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Wd;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||sn;o=Wd;var c=sn;if(Wd=a,(sn=l)&&!c)for(Fe=i;Fe!==null;)a=Fe,l=a.child,a.tag===22&&a.memoizedState!==null?nv(i):l!==null?(l.return=a,Fe=l):nv(i);for(;s!==null;)Fe=s,vb(s),s=s.sibling;Fe=i,Wd=o,sn=c}tv(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Fe=s):tv(e)}}function tv(e){for(;Fe!==null;){var t=Fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sn||bf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!sn)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Ni(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&B2(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}B2(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&fc(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}sn||t.flags&512&&p1(t)}catch(v){ur(t,t.return,v)}}if(t===e){Fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Fe=r;break}Fe=t.return}}function rv(e){for(;Fe!==null;){var t=Fe;if(t===e){Fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Fe=r;break}Fe=t.return}}function nv(e){for(;Fe!==null;){var t=Fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{bf(4,t)}catch(l){ur(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){ur(t,i,l)}}var s=t.return;try{p1(t)}catch(l){ur(t,s,l)}break;case 5:var a=t.return;try{p1(t)}catch(l){ur(t,a,l)}}}catch(l){ur(t,t.return,l)}if(t===e){Fe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Fe=o;break}Fe=t.return}}var N6=Math.ceil,Jh=Os.ReactCurrentDispatcher,Fm=Os.ReactCurrentOwner,di=Os.ReactCurrentBatchConfig,Et=0,Ur=null,kr=null,Kr=0,Hn=0,fl=Pa(0),Fr=0,Nc=null,vo=0,_f=0,Mm=0,Qu=null,kn=null,Dm=0,Tl=1/0,_s=null,Yh=!1,v1=null,va=null,Hd=!1,la=null,Zh=0,ec=0,y1=null,wh=-1,bh=0;function vn(){return Et&6?gr():wh!==-1?wh:wh=gr()}function ya(e){return e.mode&1?Et&2&&Kr!==0?Kr&-Kr:o6.transition!==null?(bh===0&&(bh=tw()),bh):(e=Mt,e!==0||(e=window.event,e=e===void 0?16:lw(e.type)),e):1}function Pi(e,t,r,n){if(50<ec)throw ec=0,y1=null,Error(Le(185));Mc(e,r,n),(!(Et&2)||e!==Ur)&&(e===Ur&&(!(Et&2)&&(_f|=r),Fr===4&&ia(e,Kr)),Cn(e,n),r===1&&Et===0&&!(t.mode&1)&&(Tl=gr()+500,vf&&Ea()))}function Cn(e,t){var r=e.callbackNode;o4(e,t);var n=Ih(e,e===Ur?Kr:0);if(n===0)r!==null&&h2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&h2(r),t===1)e.tag===0?a6(iv.bind(null,e)):jw(iv.bind(null,e)),r6(function(){!(Et&6)&&Ea()}),r=null;else{switch(rw(n)){case 1:r=cm;break;case 4:r=Qy;break;case 16:r=Oh;break;case 536870912:r=ew;break;default:r=Oh}r=kb(r,yb.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function yb(e,t){if(wh=-1,bh=0,Et&6)throw Error(Le(327));var r=e.callbackNode;if(bl()&&e.callbackNode!==r)return null;var n=Ih(e,e===Ur?Kr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Xh(e,n);else{t=n;var i=Et;Et|=2;var s=bb();(Ur!==e||Kr!==t)&&(_s=null,Tl=gr()+500,uo(e,t));do try{j6();break}catch(o){wb(e,o)}while(!0);Sm(),Jh.current=s,Et=i,kr!==null?t=0:(Ur=null,Kr=0,t=Fr)}if(t!==0){if(t===2&&(i=Hp(e),i!==0&&(n=i,t=w1(e,i))),t===1)throw r=Nc,uo(e,0),ia(e,n),Cn(e,gr()),r;if(t===6)ia(e,n);else{if(i=e.current.alternate,!(n&30)&&!k6(i)&&(t=Xh(e,n),t===2&&(s=Hp(e),s!==0&&(n=s,t=w1(e,s))),t===1))throw r=Nc,uo(e,0),ia(e,n),Cn(e,gr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Le(345));case 2:Xa(e,kn,_s);break;case 3:if(ia(e,n),(n&130023424)===n&&(t=Dm+500-gr(),10<t)){if(Ih(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){vn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Qp(Xa.bind(null,e,kn,_s),t);break}Xa(e,kn,_s);break;case 4:if(ia(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-Li(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=gr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*N6(n/1960))-n,10<n){e.timeoutHandle=Qp(Xa.bind(null,e,kn,_s),n);break}Xa(e,kn,_s);break;case 5:Xa(e,kn,_s);break;default:throw Error(Le(329))}}}return Cn(e,gr()),e.callbackNode===r?yb.bind(null,e):null}function w1(e,t){var r=Qu;return e.current.memoizedState.isDehydrated&&(uo(e,t).flags|=256),e=Xh(e,t),e!==2&&(t=kn,kn=r,t!==null&&b1(t)),e}function b1(e){kn===null?kn=e:kn.push.apply(kn,e)}function k6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ei(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ia(e,t){for(t&=~Mm,t&=~_f,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Li(t),n=1<<r;e[r]=-1,t&=~n}}function iv(e){if(Et&6)throw Error(Le(327));bl();var t=Ih(e,0);if(!(t&1))return Cn(e,gr()),null;var r=Xh(e,t);if(e.tag!==0&&r===2){var n=Hp(e);n!==0&&(t=n,r=w1(e,n))}if(r===1)throw r=Nc,uo(e,0),ia(e,t),Cn(e,gr()),r;if(r===6)throw Error(Le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xa(e,kn,_s),Cn(e,gr()),null}function Bm(e,t){var r=Et;Et|=1;try{return e(t)}finally{Et=r,Et===0&&(Tl=gr()+500,vf&&Ea())}}function yo(e){la!==null&&la.tag===0&&!(Et&6)&&bl();var t=Et;Et|=1;var r=di.transition,n=Mt;try{if(di.transition=null,Mt=1,e)return e()}finally{Mt=n,di.transition=r,Et=t,!(Et&6)&&Ea()}}function Um(){Hn=fl.current,Zt(fl)}function uo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,t6(r)),kr!==null)for(r=kr.return;r!==null;){var n=r;switch(bm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bh();break;case 3:El(),Zt(Pn),Zt(an),Pm();break;case 5:Lm(n);break;case 4:El();break;case 13:Zt(nr);break;case 19:Zt(nr);break;case 10:Nm(n.type._context);break;case 22:case 23:Um()}r=r.return}if(Ur=e,kr=e=wa(e.current,null),Kr=Hn=t,Fr=0,Nc=null,Mm=_f=vo=0,kn=Qu=null,io!==null){for(t=0;t<io.length;t++)if(r=io[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}io=null}return e}function wb(e,t){do{var r=kr;try{if(Sm(),gh.current=Kh,Gh){for(var n=ir.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Gh=!1}if(go=0,Dr=Rr=ir=null,Zu=!1,_c=0,Fm.current=null,r===null||r.return===null){Fr=1,Nc=t,kr=null;break}e:{var s=e,a=r.return,o=r,l=t;if(t=Kr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=H2(a);if(f!==null){f.flags&=-257,V2(f,a,o,s,t),f.mode&1&&W2(s,c,t),t=f,l=c;var _=t.updateQueue;if(_===null){var S=new Set;S.add(l),t.updateQueue=S}else _.add(l);break e}else{if(!(t&1)){W2(s,c,t),zm();break e}l=Error(Le(426))}}else if(er&&o.mode&1){var k=H2(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),V2(k,a,o,s,t),_m(Cl(l,o));break e}}s=l=Cl(l,o),Fr!==4&&(Fr=2),Qu===null?Qu=[s]:Qu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var w=rb(s,l,t);D2(s,w);break e;case 1:o=l;var x=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(va===null||!va.has(N)))){s.flags|=65536,t&=-t,s.lanes|=t;var P=nb(s,o,t);D2(s,P);break e}}s=s.return}while(s!==null)}xb(r)}catch(Y){t=Y,kr===r&&r!==null&&(kr=r=r.return);continue}break}while(!0)}function bb(){var e=Jh.current;return Jh.current=Kh,e===null?Kh:e}function zm(){(Fr===0||Fr===3||Fr===2)&&(Fr=4),Ur===null||!(vo&268435455)&&!(_f&268435455)||ia(Ur,Kr)}function Xh(e,t){var r=Et;Et|=2;var n=bb();(Ur!==e||Kr!==t)&&(_s=null,uo(e,t));do try{A6();break}catch(i){wb(e,i)}while(!0);if(Sm(),Et=r,Jh.current=n,kr!==null)throw Error(Le(261));return Ur=null,Kr=0,Fr}function A6(){for(;kr!==null;)_b(kr)}function j6(){for(;kr!==null&&!X3();)_b(kr)}function _b(e){var t=Nb(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?xb(e):kr=t,Fm.current=null}function xb(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=b6(r,t),r!==null){r.flags&=32767,kr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fr=6,kr=null;return}}else if(r=w6(r,t,Hn),r!==null){kr=r;return}if(t=t.sibling,t!==null){kr=t;return}kr=t=e}while(t!==null);Fr===0&&(Fr=5)}function Xa(e,t,r){var n=Mt,i=di.transition;try{di.transition=null,Mt=1,L6(e,t,r,n)}finally{di.transition=i,Mt=n}return null}function L6(e,t,r,n){do bl();while(la!==null);if(Et&6)throw Error(Le(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Le(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(l4(e,s),e===Ur&&(kr=Ur=null,Kr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hd||(Hd=!0,kb(Oh,function(){return bl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=di.transition,di.transition=null;var a=Mt;Mt=1;var o=Et;Et|=4,Fm.current=null,x6(e,r),gb(r,e),K4(Zp),Rh=!!Yp,Zp=Yp=null,e.current=r,S6(r),Q3(),Et=o,Mt=a,di.transition=s}else e.current=r;if(Hd&&(Hd=!1,la=e,Zh=i),s=e.pendingLanes,s===0&&(va=null),r4(r.stateNode),Cn(e,gr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Yh)throw Yh=!1,e=v1,v1=null,e;return Zh&1&&e.tag!==0&&bl(),s=e.pendingLanes,s&1?e===y1?ec++:(ec=0,y1=e):ec=0,Ea(),null}function bl(){if(la!==null){var e=rw(Zh),t=di.transition,r=Mt;try{if(di.transition=null,Mt=16>e?16:e,la===null)var n=!1;else{if(e=la,la=null,Zh=0,Et&6)throw Error(Le(331));var i=Et;for(Et|=4,Fe=e.current;Fe!==null;){var s=Fe,a=s.child;if(Fe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Fe=c;Fe!==null;){var d=Fe;switch(d.tag){case 0:case 11:case 15:Xu(8,d,s)}var g=d.child;if(g!==null)g.return=d,Fe=g;else for(;Fe!==null;){d=Fe;var v=d.sibling,f=d.return;if(fb(d),d===c){Fe=null;break}if(v!==null){v.return=f,Fe=v;break}Fe=f}}}var _=s.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}Fe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Fe=a;else e:for(;Fe!==null;){if(s=Fe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xu(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Fe=w;break e}Fe=s.return}}var x=e.current;for(Fe=x;Fe!==null;){a=Fe;var N=a.child;if(a.subtreeFlags&2064&&N!==null)N.return=a,Fe=N;else e:for(a=x;Fe!==null;){if(o=Fe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:bf(9,o)}}catch(Y){ur(o,o.return,Y)}if(o===a){Fe=null;break e}var P=o.sibling;if(P!==null){P.return=o.return,Fe=P;break e}Fe=o.return}}if(Et=i,Ea(),Zi&&typeof Zi.onPostCommitFiberRoot=="function")try{Zi.onPostCommitFiberRoot(hf,e)}catch{}n=!0}return n}finally{Mt=r,di.transition=t}}return!1}function sv(e,t,r){t=Cl(r,t),t=rb(e,t,1),e=ga(e,t,1),t=vn(),e!==null&&(Mc(e,1,t),Cn(e,t))}function ur(e,t,r){if(e.tag===3)sv(e,e,r);else for(;t!==null;){if(t.tag===3){sv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(va===null||!va.has(n))){e=Cl(r,e),e=nb(t,e,1),t=ga(t,e,1),e=vn(),t!==null&&(Mc(t,1,e),Cn(t,e));break}}t=t.return}}function P6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=vn(),e.pingedLanes|=e.suspendedLanes&r,Ur===e&&(Kr&r)===r&&(Fr===4||Fr===3&&(Kr&130023424)===Kr&&500>gr()-Dm?uo(e,0):Mm|=r),Cn(e,t)}function Sb(e,t){t===0&&(e.mode&1?(t=Rd,Rd<<=1,!(Rd&130023424)&&(Rd=4194304)):t=1);var r=vn();e=Cs(e,t),e!==null&&(Mc(e,t,r),Cn(e,r))}function E6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Sb(e,r)}function C6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Le(314))}n!==null&&n.delete(t),Sb(e,r)}var Nb;Nb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pn.current)jn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return jn=!1,y6(e,t,r);jn=!!(e.flags&131072)}else jn=!1,er&&t.flags&1048576&&Lw(t,$h,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;yh(e,t),e=t.pendingProps;var i=jl(t,an.current);wl(t,r),i=Cm(null,t,n,e,i,r);var s=Tm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,En(n)?(s=!0,Uh(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Am(t),i.updater=wf,t.stateNode=i,i._reactInternals=t,a1(t,n,e,r),t=u1(null,t,n,!0,s,r)):(t.tag=0,er&&s&&wm(t),mn(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(yh(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=O6(n),e=Ni(n,e),i){case 0:t=l1(null,t,n,e,r);break e;case 1:t=J2(null,t,n,e,r);break e;case 11:t=G2(null,t,n,e,r);break e;case 14:t=K2(null,t,n,Ni(n.type,e),r);break e}throw Error(Le(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ni(n,i),l1(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ni(n,i),J2(e,t,n,i,r);case 3:e:{if(ob(t),e===null)throw Error(Le(387));n=t.pendingProps,s=t.memoizedState,i=s.element,Iw(e,t),Hh(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Cl(Error(Le(423)),t),t=Y2(e,t,n,r,i);break e}else if(n!==i){i=Cl(Error(Le(424)),t),t=Y2(e,t,n,r,i);break e}else for(Vn=ma(t.stateNode.containerInfo.firstChild),Jn=t,er=!0,ji=null,r=Tw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ll(),n===i){t=Ts(e,t,r);break e}mn(e,t,n,r)}t=t.child}return t;case 5:return Rw(t),e===null&&n1(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Xp(n,i)?a=null:s!==null&&Xp(n,s)&&(t.flags|=32),ab(e,t),mn(e,t,a,r),t.child;case 6:return e===null&&n1(t),null;case 13:return lb(e,t,r);case 4:return jm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Pl(t,null,n,r):mn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ni(n,i),G2(e,t,n,i,r);case 7:return mn(e,t,t.pendingProps,r),t.child;case 8:return mn(e,t,t.pendingProps.children,r),t.child;case 12:return mn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Gt(qh,n._currentValue),n._currentValue=a,s!==null)if(Ei(s.value,a)){if(s.children===i.children&&!Pn.current){t=Ts(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Ls(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),i1(s.return,r,t),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Le(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),i1(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}mn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,wl(t,r),i=fi(i),n=n(i),t.flags|=1,mn(e,t,n,r),t.child;case 14:return n=t.type,i=Ni(n,t.pendingProps),i=Ni(n.type,i),K2(e,t,n,i,r);case 15:return ib(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ni(n,i),yh(e,t),t.tag=1,En(n)?(e=!0,Uh(t)):e=!1,wl(t,r),tb(t,n,i),a1(t,n,i,r),u1(null,t,n,!0,e,r);case 19:return ub(e,t,r);case 22:return sb(e,t,r)}throw Error(Le(156,t.tag))};function kb(e,t){return Xy(e,t)}function T6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(e,t,r,n){return new T6(e,t,r,n)}function $m(e){return e=e.prototype,!(!e||!e.isReactComponent)}function O6(e){if(typeof e=="function")return $m(e)?1:0;if(e!=null){if(e=e.$$typeof,e===om)return 11;if(e===lm)return 14}return 2}function wa(e,t){var r=e.alternate;return r===null?(r=ci(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _h(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")$m(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case nl:return co(r.children,i,s,t);case am:a=8,i|=8;break;case Ep:return e=ci(12,r,t,i|2),e.elementType=Ep,e.lanes=s,e;case Cp:return e=ci(13,r,t,i),e.elementType=Cp,e.lanes=s,e;case Tp:return e=ci(19,r,t,i),e.elementType=Tp,e.lanes=s,e;case Ry:return xf(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oy:a=10;break e;case Iy:a=9;break e;case om:a=11;break e;case lm:a=14;break e;case ta:a=16,n=null;break e}throw Error(Le(130,e==null?e:typeof e,""))}return t=ci(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function co(e,t,r,n){return e=ci(7,e,n,t),e.lanes=r,e}function xf(e,t,r,n){return e=ci(22,e,n,t),e.elementType=Ry,e.lanes=r,e.stateNode={isHidden:!1},e}function $0(e,t,r){return e=ci(6,e,null,t),e.lanes=r,e}function q0(e,t,r){return t=ci(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function I6(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=S0(0),this.expirationTimes=S0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qm(e,t,r,n,i,s,a,o,l){return e=new I6(e,t,r,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ci(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Am(s),e}function R6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ab(e){if(!e)return Aa;e=e._reactInternals;e:{if(So(e)!==e||e.tag!==1)throw Error(Le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(En(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Le(171))}if(e.tag===1){var r=e.type;if(En(r))return Aw(e,r,t)}return t}function jb(e,t,r,n,i,s,a,o,l){return e=qm(r,n,!0,e,i,s,a,o,l),e.context=Ab(null),r=e.current,n=vn(),i=ya(r),s=Ls(n,i),s.callback=t??null,ga(r,s,i),e.current.lanes=i,Mc(e,i,n),Cn(e,n),e}function Sf(e,t,r,n){var i=t.current,s=vn(),a=ya(i);return r=Ab(r),t.context===null?t.context=r:t.pendingContext=r,t=Ls(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ga(i,t,a),e!==null&&(Pi(e,i,a,s),mh(e,i,a)),a}function Qh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function av(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wm(e,t){av(e,t),(e=e.alternate)&&av(e,t)}function F6(){return null}var Lb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hm(e){this._internalRoot=e}Nf.prototype.render=Hm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Le(409));Sf(e,t,null,null)};Nf.prototype.unmount=Hm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yo(function(){Sf(null,e,null,null)}),t[Es]=null}};function Nf(e){this._internalRoot=e}Nf.prototype.unstable_scheduleHydration=function(e){if(e){var t=sw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<na.length&&t!==0&&t<na[r].priority;r++);na.splice(r,0,e),r===0&&ow(e)}};function Vm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ov(){}function M6(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Qh(a);s.call(c)}}var a=jb(t,n,e,0,null,!1,!1,"",ov);return e._reactRootContainer=a,e[Es]=a.current,gc(e.nodeType===8?e.parentNode:e),yo(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=Qh(l);o.call(c)}}var l=qm(e,0,!1,null,null,!1,!1,"",ov);return e._reactRootContainer=l,e[Es]=l.current,gc(e.nodeType===8?e.parentNode:e),yo(function(){Sf(t,l,r,n)}),l}function Af(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Qh(a);o.call(l)}}Sf(t,a,e,i)}else a=M6(r,t,e,i,n);return Qh(a)}nw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Bu(t.pendingLanes);r!==0&&(dm(t,r|1),Cn(t,gr()),!(Et&6)&&(Tl=gr()+500,Ea()))}break;case 13:yo(function(){var n=Cs(e,1);if(n!==null){var i=vn();Pi(n,e,1,i)}}),Wm(e,1)}};hm=function(e){if(e.tag===13){var t=Cs(e,134217728);if(t!==null){var r=vn();Pi(t,e,134217728,r)}Wm(e,134217728)}};iw=function(e){if(e.tag===13){var t=ya(e),r=Cs(e,t);if(r!==null){var n=vn();Pi(r,e,t,n)}Wm(e,t)}};sw=function(){return Mt};aw=function(e,t){var r=Mt;try{return Mt=e,t()}finally{Mt=r}};$p=function(e,t,r){switch(t){case"input":if(Rp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=gf(n);if(!i)throw Error(Le(90));My(n),Rp(n,i)}}}break;case"textarea":By(e,r);break;case"select":t=r.value,t!=null&&ml(e,!!r.multiple,t,!1)}};Vy=Bm;Gy=yo;var D6={usingClientEntryPoint:!1,Events:[Bc,ol,gf,Wy,Hy,Bm]},Eu={findFiberByHostInstance:no,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B6={bundleType:Eu.bundleType,version:Eu.version,rendererPackageName:Eu.rendererPackageName,rendererConfig:Eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Os.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yy(e),e===null?null:e.stateNode},findFiberByHostInstance:Eu.findFiberByHostInstance||F6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vd.isDisabled&&Vd.supportsFiber)try{hf=Vd.inject(B6),Zi=Vd}catch{}}Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D6;Zn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vm(t))throw Error(Le(200));return R6(e,t,null,r)};Zn.createRoot=function(e,t){if(!Vm(e))throw Error(Le(299));var r=!1,n="",i=Lb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=qm(e,1,!1,null,null,r,!1,n,i),e[Es]=t.current,gc(e.nodeType===8?e.parentNode:e),new Hm(t)};Zn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Le(188)):(e=Object.keys(e).join(","),Error(Le(268,e)));return e=Yy(t),e=e===null?null:e.stateNode,e};Zn.flushSync=function(e){return yo(e)};Zn.hydrate=function(e,t,r){if(!kf(t))throw Error(Le(200));return Af(null,e,t,!0,r)};Zn.hydrateRoot=function(e,t,r){if(!Vm(e))throw Error(Le(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Lb;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=jb(t,null,e,1,r??null,i,!1,s,a),e[Es]=t.current,gc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Nf(t)};Zn.render=function(e,t,r){if(!kf(t))throw Error(Le(200));return Af(null,e,t,!1,r)};Zn.unmountComponentAtNode=function(e){if(!kf(e))throw Error(Le(40));return e._reactRootContainer?(yo(function(){Af(null,null,e,!1,function(){e._reactRootContainer=null,e[Es]=null})}),!0):!1};Zn.unstable_batchedUpdates=Bm;Zn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!kf(r))throw Error(Le(200));if(e==null||e._reactInternals===void 0)throw Error(Le(38));return Af(e,t,r,!1,n)};Zn.version="18.3.1-next-f1338f8080-20240426";function Pb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pb)}catch(e){console.error(e)}}Pb(),Py.exports=Zn;var U6=Py.exports,Eb,lv=U6;Eb=lv.createRoot,lv.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),bn=(e,t)=>{const r=pe.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>pe.createElement("svg",{ref:d,...z6,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${$6(e)}`,o].join(" "),...c},[...t.map(([g,v])=>pe.createElement(g,v)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=bn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=bn("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=bn("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=bn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=bn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=bn("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=bn("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=bn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=bn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=bn("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=bn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=bn("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=bn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=bn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=bn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kc.apply(this,arguments)}var ua;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ua||(ua={}));const fv="popstate";function J6(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:a,hash:o}=n.location;return _1("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:ef(i)}return Z6(t,r,null,e)}function br(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Km(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Y6(){return Math.random().toString(36).substr(2,8)}function pv(e,t){return{usr:e.state,key:e.key,idx:t}}function _1(e,t,r,n){return r===void 0&&(r=null),kc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zl(t):t,{state:r,key:t&&t.key||n||Y6()})}function ef(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Z6(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=ua.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(kc({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function g(){o=ua.Pop;let k=d(),w=k==null?null:k-c;c=k,l&&l({action:o,location:S.location,delta:w})}function v(k,w){o=ua.Push;let x=_1(S.location,k,w);c=d()+1;let N=pv(x,c),P=S.createHref(x);try{a.pushState(N,"",P)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;i.location.assign(P)}s&&l&&l({action:o,location:S.location,delta:1})}function f(k,w){o=ua.Replace;let x=_1(S.location,k,w);c=d();let N=pv(x,c),P=S.createHref(x);a.replaceState(N,"",P),s&&l&&l({action:o,location:S.location,delta:0})}function _(k){let w=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof k=="string"?k:ef(k);return x=x.replace(/ $/,"%20"),br(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let S={get action(){return o},get location(){return e(i,a)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(fv,g),l=k,()=>{i.removeEventListener(fv,g),l=null}},createHref(k){return t(i,k)},createURL:_,encodeLocation(k){let w=_(k);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:f,go(k){return a.go(k)}};return S}var mv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mv||(mv={}));function X6(e,t,r){return r===void 0&&(r="/"),Q6(e,t,r,!1)}function Q6(e,t,r,n){let i=typeof t=="string"?zl(t):t,s=Jm(i.pathname||"/",r);if(s==null)return null;let a=Tb(e);eS(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=dS(s);o=uS(a[l],c,n)}return o}function Tb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(br(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=ba([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(br(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Tb(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:oS(c,s.index),routesMeta:d})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of Ob(s.path))i(s,a,l)}),t}function Ob(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=Ob(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function eS(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:lS(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const tS=/^:[\w-]+$/,rS=3,nS=2,iS=1,sS=10,aS=-2,gv=e=>e==="*";function oS(e,t){let r=e.split("/"),n=r.length;return r.some(gv)&&(n+=aS),t&&(n+=nS),r.filter(i=>!gv(i)).reduce((i,s)=>i+(tS.test(s)?rS:s===""?iS:sS),n)}function lS(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function uS(e,t,r){let{routesMeta:n}=e,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",g=vv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),v=l.route;if(!g&&c&&r&&!n[n.length-1].route.index&&(g=vv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:ba([s,g.pathname]),pathnameBase:gS(ba([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=ba([s,g.pathnameBase]))}return a}function vv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=cS(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,d,g)=>{let{paramName:v,isOptional:f}=d;if(v==="*"){let S=o[g]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const _=o[g];return f&&!_?c[v]=void 0:c[v]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function cS(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Km(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function dS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Km(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const hS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fS=e=>hS.test(e);function pS(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?zl(e):e,s;if(r)if(fS(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Km(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=yv(r.substring(1),"/"):s=yv(r,t)}else s=t;return{pathname:s,search:vS(n),hash:yS(i)}}function yv(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function W0(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mS(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ym(e,t){let r=mS(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Zm(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=zl(e):(i=kc({},e),br(!i.pathname||!i.pathname.includes("?"),W0("?","pathname","search",i)),br(!i.pathname||!i.pathname.includes("#"),W0("#","pathname","hash",i)),br(!i.search||!i.search.includes("#"),W0("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let g=t.length-1;if(!n&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}o=g>=0?t[g]:"/"}let l=pS(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ba=e=>e.join("/").replace(/\/\/+/g,"/"),gS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ib=["post","put","patch","delete"];new Set(Ib);const bS=["get",...Ib];new Set(bS);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ac.apply(this,arguments)}const Xm=pe.createContext(null),_S=pe.createContext(null),Ca=pe.createContext(null),jf=pe.createContext(null),Ta=pe.createContext({outlet:null,matches:[],isDataRoute:!1}),Rb=pe.createContext(null);function xS(e,t){let{relative:r}=t===void 0?{}:t;$l()||br(!1);let{basename:n,navigator:i}=pe.useContext(Ca),{hash:s,pathname:a,search:o}=Mb(e,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:ba([n,a])),i.createHref({pathname:l,search:o,hash:s})}function $l(){return pe.useContext(jf)!=null}function ql(){return $l()||br(!1),pe.useContext(jf).location}function Fb(e){pe.useContext(Ca).static||pe.useLayoutEffect(e)}function zc(){let{isDataRoute:e}=pe.useContext(Ta);return e?RS():SS()}function SS(){$l()||br(!1);let e=pe.useContext(Xm),{basename:t,future:r,navigator:n}=pe.useContext(Ca),{matches:i}=pe.useContext(Ta),{pathname:s}=ql(),a=JSON.stringify(Ym(i,r.v7_relativeSplatPath)),o=pe.useRef(!1);return Fb(()=>{o.current=!0}),pe.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let g=Zm(c,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ba([t,g.pathname])),(d.replace?n.replace:n.push)(g,d.state,d)},[t,n,a,s,e])}function Mb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=pe.useContext(Ca),{matches:i}=pe.useContext(Ta),{pathname:s}=ql(),a=JSON.stringify(Ym(i,n.v7_relativeSplatPath));return pe.useMemo(()=>Zm(e,JSON.parse(a),s,r==="path"),[e,a,s,r])}function NS(e,t){return kS(e,t)}function kS(e,t,r,n){$l()||br(!1);let{navigator:i}=pe.useContext(Ca),{matches:s}=pe.useContext(Ta),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=ql(),d;if(t){var g;let k=typeof t=="string"?zl(t):t;l==="/"||(g=k.pathname)!=null&&g.startsWith(l)||br(!1),d=k}else d=c;let v=d.pathname||"/",f=v;if(l!=="/"){let k=l.replace(/^\//,"").split("/");f="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=X6(e,{pathname:f}),S=ES(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},o,k.params),pathname:ba([l,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:ba([l,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,r,n);return t&&S?pe.createElement(jf.Provider,{value:{location:Ac({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ua.Pop}},S):S}function AS(){let e=IS(),t=wS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return pe.createElement(pe.Fragment,null,pe.createElement("h2",null,"Unexpected Application Error!"),pe.createElement("h3",{style:{fontStyle:"italic"}},t),r?pe.createElement("pre",{style:i},r):null,null)}const jS=pe.createElement(AS,null);class LS extends pe.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?pe.createElement(Ta.Provider,{value:this.props.routeContext},pe.createElement(Rb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PS(e){let{routeContext:t,match:r,children:n}=e,i=pe.useContext(Xm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),pe.createElement(Ta.Provider,{value:t},n)}function ES(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);d>=0||br(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let g=a[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=d),g.route.id){let{loaderData:v,errors:f}=r,_=g.route.loader&&v[g.route.id]===void 0&&(!f||f[g.route.id]===void 0);if(g.route.lazy||_){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,g,v)=>{let f,_=!1,S=null,k=null;r&&(f=o&&g.route.id?o[g.route.id]:void 0,S=g.route.errorElement||jS,l&&(c<0&&v===0?(_=!0,k=null):c===v&&(_=!0,k=g.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,v+1)),x=()=>{let N;return f?N=S:_?N=k:g.route.Component?N=pe.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=d,pe.createElement(PS,{match:g,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:N})};return r&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?pe.createElement(LS,{location:r.location,revalidation:r.revalidation,component:S,error:f,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var Db=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Db||{}),tf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tf||{});function CS(e){let t=pe.useContext(Xm);return t||br(!1),t}function TS(e){let t=pe.useContext(_S);return t||br(!1),t}function OS(e){let t=pe.useContext(Ta);return t||br(!1),t}function Bb(e){let t=OS(),r=t.matches[t.matches.length-1];return r.route.id||br(!1),r.route.id}function IS(){var e;let t=pe.useContext(Rb),r=TS(tf.UseRouteError),n=Bb(tf.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function RS(){let{router:e}=CS(Db.UseNavigateStable),t=Bb(tf.UseNavigateStable),r=pe.useRef(!1);return Fb(()=>{r.current=!0}),pe.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ac({fromRouteId:t},s)))},[e,t])}function FS(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ub(e){let{to:t,replace:r,state:n,relative:i}=e;$l()||br(!1);let{future:s,static:a}=pe.useContext(Ca),{matches:o}=pe.useContext(Ta),{pathname:l}=ql(),c=zc(),d=Zm(t,Ym(o,s.v7_relativeSplatPath),l,i==="path"),g=JSON.stringify(d);return pe.useEffect(()=>c(JSON.parse(g),{replace:r,state:n,relative:i}),[c,g,i,r,n]),null}function zu(e){br(!1)}function MS(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ua.Pop,navigator:s,static:a=!1,future:o}=e;$l()&&br(!1);let l=t.replace(/^\/*/,"/"),c=pe.useMemo(()=>({basename:l,navigator:s,static:a,future:Ac({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=zl(n));let{pathname:d="/",search:g="",hash:v="",state:f=null,key:_="default"}=n,S=pe.useMemo(()=>{let k=Jm(d,l);return k==null?null:{location:{pathname:k,search:g,hash:v,state:f,key:_},navigationType:i}},[l,d,g,v,f,_,i]);return S==null?null:pe.createElement(Ca.Provider,{value:c},pe.createElement(jf.Provider,{children:r,value:S}))}function DS(e){let{children:t,location:r}=e;return NS(x1(t),r)}new Promise(()=>{});function x1(e,t){t===void 0&&(t=[]);let r=[];return pe.Children.forEach(e,(n,i)=>{if(!pe.isValidElement(n))return;let s=[...t,i];if(n.type===pe.Fragment){r.push.apply(r,x1(n.props.children,s));return}n.type!==zu&&br(!1),!n.props.index||!n.props.children||br(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=x1(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function S1(){return S1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S1.apply(this,arguments)}function BS(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function US(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zS(e,t){return e.button===0&&(!t||t==="_self")&&!US(e)}const $S=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qS="6";try{window.__reactRouterVersion=qS}catch{}const WS="startTransition",wv=P3[WS];function HS(e){let{basename:t,children:r,future:n,window:i}=e,s=pe.useRef();s.current==null&&(s.current=J6({window:i,v5Compat:!0}));let a=s.current,[o,l]=pe.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=pe.useCallback(g=>{c&&wv?wv(()=>l(g)):l(g)},[l,c]);return pe.useLayoutEffect(()=>a.listen(d),[a,d]),pe.useEffect(()=>FS(n),[n]),pe.createElement(MS,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const VS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zb=pe.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:g}=t,v=BS(t,$S),{basename:f}=pe.useContext(Ca),_,S=!1;if(typeof c=="string"&&GS.test(c)&&(_=c,VS))try{let N=new URL(window.location.href),P=c.startsWith("//")?new URL(N.protocol+c):new URL(c),Y=Jm(P.pathname,f);P.origin===N.origin&&Y!=null?c=Y+P.search+P.hash:S=!0}catch{}let k=xS(c,{relative:i}),w=KS(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:g});function x(N){n&&n(N),N.defaultPrevented||w(N)}return pe.createElement("a",S1({},v,{href:_||k,onClick:S||s?n:x,ref:r,target:l}))});var bv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bv||(bv={}));var _v;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_v||(_v={}));function KS(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,l=zc(),c=ql(),d=Mb(e,{relative:a});return pe.useCallback(g=>{if(zS(g,r)){g.preventDefault();let v=n!==void 0?n:ef(c)===ef(d);l(e,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,n,i,r,e,s,a,o])}const JS="modulepreload",YS=function(e){return"/demo-termopane/"+e},xv={},_a=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=YS(l),l in xv)return;xv[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const g=document.createElement("link");if(g.rel=c?"stylesheet":JS,c||(g.as="script"),g.crossOrigin="",g.href=l,o&&g.setAttribute("nonce",o),document.head.appendChild(g),c)return new Promise((v,f)=>{g.addEventListener("load",v),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},ZS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_a(async()=>{const{default:n}=await Promise.resolve().then(()=>Wl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Qm extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class XS extends Qm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Sv extends Qm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Nv extends Qm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var N1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(N1||(N1={}));var QS=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(g){a(g)}}function l(d){try{c(n.throw(d))}catch(g){a(g)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class eN{constructor(t,{headers:r={},customFetch:n,region:i=N1.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=ZS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return QS(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let o={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const g=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(S=>{throw new XS(S)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new Sv(g);if(!g.ok)throw new Nv(g);let f=((n=g.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return f==="application/json"?_=yield g.json():f==="application/octet-stream"?_=yield g.blob():f==="text/event-stream"?_=g:f==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(i){return{data:null,error:i,response:i instanceof Nv||i instanceof Sv?i.context:void 0}}})}}var An={},eg={},Lf={},$c={},Pf={},Ef={},tN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ol=tN();const rN=Ol.fetch,$b=Ol.fetch.bind(Ol),qb=Ol.Headers,nN=Ol.Request,iN=Ol.Response,Wl=Object.freeze(Object.defineProperty({__proto__:null,Headers:qb,Request:nN,Response:iN,default:$b,fetch:rN},Symbol.toStringTag,{value:"Module"})),sN=f3(Wl);var Cf={};Object.defineProperty(Cf,"__esModule",{value:!0});let aN=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Cf.default=aN;var Wb=hi&&hi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ef,"__esModule",{value:!0});const oN=Wb(sN),lN=Wb(Cf);let uN=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=oN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,l,c;let d=null,g=null,v=null,f=s.status,_=s.statusText;if(s.ok){if(this.method!=="HEAD"){const x=await s.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?g=x:g=JSON.parse(x))}const k=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");k&&w&&w.length>1&&(v=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(d={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,f=406,_="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const k=await s.text();try{d=JSON.parse(k),Array.isArray(d)&&s.status===404&&(g=[],d=null,f=200,_="OK")}catch{s.status===404&&k===""?(f=204,_="No Content"):d={message:k}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,_="OK"),d&&this.shouldThrowOnError)throw new lN.default(d)}return{error:d,data:g,count:v,status:f,statusText:_}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,l;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Ef.default=uN;var cN=hi&&hi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pf,"__esModule",{value:!0});const dN=cN(Ef);let hN=class extends dN.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Pf.default=hN;var fN=hi&&hi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($c,"__esModule",{value:!0});const pN=fN(Pf);let mN=class extends pN.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};$c.default=mN;var gN=hi&&hi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lf,"__esModule",{value:!0});const Tu=gN($c);let vN=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new Tu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const s="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Tu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Tu.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Tu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Tu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Lf.default=vN;var Hb=hi&&hi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eg,"__esModule",{value:!0});const yN=Hb(Lf),wN=Hb($c);let bN=class Vb{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new yN.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Vb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{l.searchParams.append(g,v)})):(o="POST",c=r);const d=new Headers(this.headers);return s&&d.set("Prefer",`count=${s}`),new wN.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};eg.default=bN;var Hl=hi&&hi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(An,"__esModule",{value:!0});An.PostgrestError=An.PostgrestBuilder=An.PostgrestTransformBuilder=An.PostgrestFilterBuilder=An.PostgrestQueryBuilder=An.PostgrestClient=void 0;const Gb=Hl(eg);An.PostgrestClient=Gb.default;const Kb=Hl(Lf);An.PostgrestQueryBuilder=Kb.default;const Jb=Hl($c);An.PostgrestFilterBuilder=Jb.default;const Yb=Hl(Pf);An.PostgrestTransformBuilder=Yb.default;const Zb=Hl(Ef);An.PostgrestBuilder=Zb.default;const Xb=Hl(Cf);An.PostgrestError=Xb.default;var _N=An.default={PostgrestClient:Gb.default,PostgrestQueryBuilder:Kb.default,PostgrestFilterBuilder:Jb.default,PostgrestTransformBuilder:Yb.default,PostgrestBuilder:Zb.default,PostgrestError:Xb.default};const{PostgrestClient:xN,PostgrestQueryBuilder:dP,PostgrestFilterBuilder:hP,PostgrestTransformBuilder:fP,PostgrestBuilder:pP,PostgrestError:mP}=_N;class SN{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const NN="2.15.5",kN=`realtime-js/${NN}`,AN="1.0.0",k1=1e4,jN=1e3,LN=100;var tc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(tc||(tc={}));var Or;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Or||(Or={}));var Ai;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ai||(Ai={}));var A1;(function(e){e.websocket="websocket"})(A1||(A1={}));var to;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(to||(to={}));class PN{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+i));a=a+i;const l=n.decode(t.slice(a,a+s));a=a+s;const c=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class Qb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Vt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Vt||(Vt={}));const kv=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,a)=>(s[a]=EN(a,e,t,i),s),{})},EN=(e,t,r,n)=>{const i=t.find(o=>o.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?e_(s,a):j1(a)},e_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return IN(t,r)}switch(e){case Vt.bool:return CN(t);case Vt.float4:case Vt.float8:case Vt.int2:case Vt.int4:case Vt.int8:case Vt.numeric:case Vt.oid:return TN(t);case Vt.json:case Vt.jsonb:return ON(t);case Vt.timestamp:return RN(t);case Vt.abstime:case Vt.date:case Vt.daterange:case Vt.int4range:case Vt.int8range:case Vt.money:case Vt.reltime:case Vt.text:case Vt.time:case Vt.timestamptz:case Vt.timetz:case Vt.tsrange:case Vt.tstzrange:return j1(t);default:return j1(t)}},j1=e=>e,CN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},TN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ON=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},IN=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>e_(t,o))}return e},RN=e=>typeof e=="string"?e.replace(" ","T"):e,t_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class H0{constructor(t,r,n={},i=k1){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Av;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Av||(Av={}));class rc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rc.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=rc.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=rc.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(s,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const g=s[c];if(g){const v=d.map(k=>k.presence_ref),f=g.map(k=>k.presence_ref),_=d.filter(k=>f.indexOf(k.presence_ref)<0),S=g.filter(k=>v.indexOf(k.presence_ref)<0);_.length>0&&(o[c]=_),S.length>0&&(l[c]=S)}else o[c]=d}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),d.length>0){const g=t[o].map(f=>f.presence_ref),v=d.filter(f=>g.indexOf(f.presence_ref)<0);t[o].unshift(...v)}n(o,d,l)}),this.map(a,(o,l)=>{let c=t[o];if(!c)return;const d=l.map(g=>g.presence_ref);c=c.filter(g=>d.indexOf(g.presence_ref)<0),t[o]=c,i(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jv||(jv={}));var nc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(nc||(nc={}));var xs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xs||(xs={}));class tg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new H0(this,Ai.join,this.params,this.timeout),this.rejoinTimer=new Qb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Or.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ai.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new rc(this),this.broadcastEndpointURL=t_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Or.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[nc.PRESENCE]&&this.bindings[nc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},v={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(xs.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(xs.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var _;if(this.socket.setAuth(),f===void 0){t==null||t(xs.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,k=(_=S==null?void 0:S.length)!==null&&_!==void 0?_:0,w=[];for(let x=0;x<k;x++){const N=S[x],{filter:{event:P,schema:Y,table:D,filter:H}}=N,z=f&&f[x];if(z&&z.event===P&&z.schema===Y&&z.table===D&&z.filter===H)w.push(Object.assign(Object.assign({},N),{id:z.id}));else{this.unsubscribe(),this.state=Or.errored,t==null||t(xs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(xs.SUBSCRIBED);return}}).receive("error",f=>{this.state=Or.errored,t==null||t(xs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Or.joined&&t===nc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Or.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ai.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new H0(this,Ai.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Or.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new H0(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>LN){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=Ai;if(n&&[o,l,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let v=this._onMessage(a,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var _,S,k;return((_=f.filter)===null||_===void 0?void 0:_.event)==="*"||((k=(S=f.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(f=>f.callback(v,n)):(s=this.bindings[a])===null||s===void 0||s.filter(f=>{var _,S,k,w,x,N;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const P=f.id,Y=(_=f.filter)===null||_===void 0?void 0:_.event;return P&&((S=r.ids)===null||S===void 0?void 0:S.includes(P))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const P=(x=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return P==="*"||P===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:S,table:k,commit_timestamp:w,type:x,errors:N}=_;v=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:w,eventType:x,new:{},old:{},errors:N}),this._getPayloadRecords(_))}f.callback(v,n)})}_isClosed(){return this.state===Or.closed}_isJoined(){return this.state===Or.joined}_isJoining(){return this.state===Or.joining}_isLeaving(){return this.state===Or.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&tg.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ai.close,{},t)}_onError(t){this._on(Ai.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Or.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=kv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=kv(t.columns,t.old_record)),r}}const V0=()=>{},Gd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},FN=[1e3,2e3,5e3,1e4],MN=1e4,DN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BN{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=k1,this.transport=null,this.heartbeatIntervalMs=Gd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=V0,this.ref=0,this.reconnectTimer=null,this.logger=V0,this.conn=null,this.sendBuffer=[],this.serializer=new PN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>_a(async()=>{const{default:o}=await Promise.resolve().then(()=>Wl);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${A1.websocket}`,this.httpEndpoint=t_(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=SN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:AN}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case tc.connecting:return to.Connecting;case tc.open:return to.Open;case tc.closing:return to.Closing;default:return to.Closed}}isConnected(){return this.connectionState()===to.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new tg(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(jN,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ai.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([DN],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:kN};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ai.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Qb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,a,o,l,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:k1,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Gd.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:V0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:g=>FN[g-1]||MN,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(g,v)=>v(JSON.stringify(g)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class rg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ir(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class UN extends rg{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class L1 extends rg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var zN=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(g){a(g)}}function l(d){try{c(n.throw(d))}catch(g){a(g)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const r_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_a(async()=>{const{default:n}=await Promise.resolve().then(()=>Wl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},$N=()=>zN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _a(()=>Promise.resolve().then(()=>Wl),void 0)).Response:Response}),P1=e=>{if(Array.isArray(e))return e.map(r=>P1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=P1(n)}),t},qN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var No=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(g){a(g)}}function l(d){try{c(n.throw(d))}catch(g){a(g)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const G0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WN=(e,t,r)=>No(void 0,void 0,void 0,function*(){const n=yield $N();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new UN(G0(i),s,a))}).catch(i=>{t(new L1(G0(i),i))}):t(new L1(G0(e),e))}),HN=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(qN(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function qc(e,t,r,n,i,s){return No(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,HN(t,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>WN(l,o,n))})})}function rf(e,t,r,n){return No(this,void 0,void 0,function*(){return qc(e,"GET",t,r,n)})}function Gi(e,t,r,n,i){return No(this,void 0,void 0,function*(){return qc(e,"POST",t,n,i,r)})}function E1(e,t,r,n,i){return No(this,void 0,void 0,function*(){return qc(e,"PUT",t,n,i,r)})}function VN(e,t,r,n){return No(this,void 0,void 0,function*(){return qc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function n_(e,t,r,n,i){return No(this,void 0,void 0,function*(){return qc(e,"DELETE",t,n,i,r)})}var pn=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(g){a(g)}}function l(d){try{c(n.throw(d))}catch(g){a(g)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const GN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class KN{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=r_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return pn(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Lv),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),g=yield(t=="PUT"?E1:Gi)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ir(s))return{data:null,error:s};throw s}})}upload(t,r,n){return pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return pn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Lv.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const g=yield E1(this.fetch,o.toString(),l,{headers:d});return{data:{path:s,fullPath:g.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ir(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return pn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Gi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new rg("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ir(n))return{data:null,error:n};throw n}})}update(t,r,n){return pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return pn(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ir(i))return{data:null,error:i};throw i}})}copy(t,r,n){return pn(this,void 0,void 0,function*(){try{return{data:{path:(yield Gi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ir(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return pn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Gi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ir(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return pn(this,void 0,void 0,function*(){try{const i=yield Gi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ir(i))return{data:null,error:i};throw i}})}download(t,r){return pn(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield rf(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ir(o))return{data:null,error:o};throw o}})}info(t){return pn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield rf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:P1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ir(n))return{data:null,error:n};throw n}})}exists(t){return pn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield VN(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ir(n)&&n instanceof L1){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return pn(this,void 0,void 0,function*(){try{return{data:yield n_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}list(t,r,n){return pn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},GN),r),{prefix:t||""});return{data:yield Gi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ir(i))return{data:null,error:i};throw i}})}listV2(t,r){return pn(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Gi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ir(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const JN="2.12.1",YN={"X-Client-Info":`storage-js/${JN}`};var zo=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(g){a(g)}}function l(d){try{c(n.throw(d))}catch(g){a(g)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class ZN{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},YN),r),this.fetch=r_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return zo(this,void 0,void 0,function*(){try{return{data:yield rf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ir(t))return{data:null,error:t};throw t}})}getBucket(t){return zo(this,void 0,void 0,function*(){try{return{data:yield rf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return zo(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ir(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return zo(this,void 0,void 0,function*(){try{return{data:yield E1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ir(n))return{data:null,error:n};throw n}})}emptyBucket(t){return zo(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}deleteBucket(t){return zo(this,void 0,void 0,function*(){try{return{data:yield n_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}}class XN extends ZN{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new KN(this.url,this.headers,t,this.fetch)}}const QN="2.57.4";let $u="";typeof Deno<"u"?$u="deno":typeof document<"u"?$u="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$u="react-native":$u="node";const ek={"X-Client-Info":`supabase-js-${$u}/${QN}`},tk={headers:ek},rk={schema:"public"},nk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ik={};var sk=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(g){a(g)}}function l(d){try{c(n.throw(d))}catch(g){a(g)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const ak=e=>{let t;return e?t=e:typeof fetch>"u"?t=$b:t=fetch,(...r)=>t(...r)},ok=()=>typeof Headers>"u"?qb:Headers,lk=(e,t,r)=>{const n=ak(r),i=ok();return(s,a)=>sk(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},a),{headers:c}))})};var uk=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(g){a(g)}}function l(d){try{c(n.throw(d))}catch(g){a(g)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};function ck(e){return e.endsWith("/")?e:e+"/"}function dk(e,t){var r,n;const{db:i,auth:s,realtime:a,global:o}=e,{db:l,auth:c,realtime:d,global:g}=t,v={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},g),o),{headers:Object.assign(Object.assign({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>uk(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function hk(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ck(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const i_="2.71.1",Xo=30*1e3,C1=3,K0=C1*Xo,fk="http://localhost:9999",pk="supabase.auth.token",mk={"X-Client-Info":`gotrue-js/${i_}`},T1="X-Supabase-Api-Version",s_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vk=10*60*1e3;class ng extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function gt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yk extends ng{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function wk(e){return gt(e)&&e.name==="AuthApiError"}class a_ extends ng{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Oa extends ng{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class ea extends Oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bk(e){return gt(e)&&e.name==="AuthSessionMissingError"}class Kd extends Oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jd extends Oa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Yd extends Oa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _k(e){return gt(e)&&e.name==="AuthImplicitGrantRedirectError"}class Pv extends Oa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class O1 extends Oa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function J0(e){return gt(e)&&e.name==="AuthRetryableFetchError"}class Ev extends Oa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class I1 extends Oa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const nf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cv=` 	
\r=`.split(""),xk=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Cv.length;t+=1)e[Cv[t].charCodeAt(0)]=-2;for(let t=0;t<nf.length;t+=1)e[nf[t].charCodeAt(0)]=t;return e})();function Tv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(nf[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(nf[n]),t.queuedBits-=6}}function o_(e,t,r){const n=xk[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ov(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{kk(a,n,r)};for(let a=0;a<e.length;a+=1)o_(e.charCodeAt(a),i,s);return t.join("")}function Sk(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Nk(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Sk(n,t)}}function kk(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ak(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)o_(e.charCodeAt(i),r,n);return new Uint8Array(t)}function jk(e){const t=[];return Nk(e,r=>t.push(r)),new Uint8Array(t)}function Lk(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Tv(i,r,n)),Tv(null,r,n),t.join("")}function Pk(e){return Math.round(Date.now()/1e3)+e}function Ek(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Si=()=>typeof window<"u"&&typeof document<"u",Ja={tested:!1,writable:!1},l_=()=>{if(!Si())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ja.tested)return Ja.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ja.tested=!0,Ja.writable=!0}catch{Ja.tested=!0,Ja.writable=!1}return Ja.writable};function Ck(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const u_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_a(async()=>{const{default:n}=await Promise.resolve().then(()=>Wl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Tk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ya=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ys=async(e,t)=>{await e.removeItem(t)};class Tf{constructor(){this.promise=new Tf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Tf.promiseConstructor=Promise;function Y0(e){const t=e.split(".");if(t.length!==3)throw new I1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!gk.test(t[n]))throw new I1("JWT not in base64url format");return{header:JSON.parse(Ov(t[0])),payload:JSON.parse(Ov(t[1])),signature:Ak(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ok(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ik(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function Rk(e){return("0"+e.toString(16)).substr(-2)}function Fk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Rk).join("")}async function Mk(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Dk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Mk(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $o(e,t,r=!1){const n=Fk();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Qo(e,`${t}-code-verifier`,i);const s=await Dk(n);return[s,n===s?"plain":"s256"]}const Bk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Uk(e){const t=e.headers.get(T1);if(!t||!t.match(Bk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function zk(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $k(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qo(e){if(!qk.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Z0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Iv(e){return JSON.parse(JSON.stringify(e))}var Wk=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Hk=[502,503,504];async function Rv(e){var t;if(!Tk(e))throw new O1(Qa(e),0);if(Hk.includes(e.status))throw new O1(Qa(e),e.status);let r;try{r=await e.json()}catch(s){throw new a_(Qa(s),s)}let n;const i=Uk(e);if(i&&i.getTime()>=s_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ev(Qa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ea}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new Ev(Qa(r),e.status,r.weak_password.reasons);throw new yk(Qa(r),e.status||500,n)}const Vk=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function xt(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[T1]||(s[T1]=s_["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Gk(e,t,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Gk(e,t,r,n,i,s){const a=Vk(t,n,i,s);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new O1(Qa(l),0)}if(o.ok||await Rv(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Rv(l)}}function bs(e){var t;let r=null;Zk(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Pk(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Fv(e){const t=bs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function sa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Kk(e){return{data:e,error:null}}function Jk(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=Wk(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Yk(e){return e}function Zk(e){return e.access_token&&e.refresh_token&&e.expires_in}const X0=["global","local","others"];var Xk=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class Qk{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=u_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=X0[0]){if(X0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${X0.join(", ")}`);try{return await xt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await xt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:sa})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Xk(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await xt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Jk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(gt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await xt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:sa})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await xt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Yk});if(d.error)throw d.error;const g=await d.json(),v=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(_.split(";")[1].split("=")[1]);c[`${k}Page`]=S}),c.total=parseInt(v)),{data:Object.assign(Object.assign({},g),c),error:null}}catch(c){if(gt(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){qo(t);try{return await xt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:sa})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){qo(t);try{return await xt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:sa})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){qo(t);try{return await xt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:sa})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){qo(t.userId);try{const{data:r,error:n}=await xt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){qo(t.userId),qo(t.id);try{return{data:await xt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}}}function Mv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function e8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wo={debug:!!(globalThis&&l_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class c_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class t8 extends c_{}async function r8(e,t,r){Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new t8(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}e8();const n8={url:fk,storageKey:pk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Dv(e,t,r){return await r()}const Ho={};class jc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=jc.nextInstanceID,jc.nextInstanceID+=1,this.instanceID>0&&Si()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},n8),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Qk({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=u_(i.fetch),this.lock=i.lock||Dv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Si()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=r8:this.lock=Dv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:l_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mv(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Mv(this.memoryStorage)),Si()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Ho[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ho[this.storageKey]=Object.assign(Object.assign({},Ho[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ho[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ho[this.storageKey]=Object.assign(Object.assign({},Ho[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${i_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Ck(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Si()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),_k(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return gt(r)?{error:r}:{error:new a_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:bs}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(gt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:d,password:g,options:v}=t;let f=null,_=null;this.flowType==="pkce"&&([f,_]=await $o(this.storage,this.storageKey)),s=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:d,password:g,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:f,code_challenge_method:_},xform:bs})}else if("phone"in t){const{phone:d,password:g,options:v}=t;s=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:bs})}else throw new Jd("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(gt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:o}=t;r=await xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Fv})}else if("phone"in t){const{phone:s,password:a,options:o}=t;r=await xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Fv})}else throw new Jd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Kd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,a,o,l,c,d,g,v,f;let _,S;if("message"in t)_=t.message,S=t.signature;else{const{chain:k,wallet:w,statement:x,options:N}=t;let P;if(Si())if(typeof w=="object")P=w;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))P=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=w}const Y=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const D=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),x?{statement:x}:null));let H;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")H=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)H=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)_=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),S=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${Y.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(i=(n=N==null?void 0:N.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=N==null?void 0:N.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((a=N==null?void 0:N.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((o=N==null?void 0:N.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((g=(d=N==null?void 0:N.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||g===void 0)&&g.length?["Resources",...N.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const D=await P.signMessage(new TextEncoder().encode(_),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=D}}try{const{data:k,error:w}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Lk(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:bs});if(w)throw w;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Kd}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:w})}catch(k){if(gt(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const r=await Ya(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:bs});if(await Ys(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Kd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(gt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,o=await xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:bs}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Kd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:o,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await $o(this.storage,this.storageKey));const{error:g}=await xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:d}=await xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Jd("You must provide either an email or phone number.")}catch(o){if(gt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await xt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:bs});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(gt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await $o(this.storage,this.storageKey)),await xt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Kk})}catch(s){if(gt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ea;const{error:i}=await xt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(gt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await xt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:o}=await xt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Jd("You must provide either an email or phone number and a type")}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ya(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<K0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Ya(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Z0()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:sa}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ea}:await xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:sa})})}catch(r){if(gt(r))return bk(r)&&(await this._removeSession(),await Ys(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new ea;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await $o(this.storage,this.storageKey));const{data:c,error:d}=await xt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:sa});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ea;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=Y0(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(gt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ea;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Si())throw new Yd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Pv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Pv("No code detected.");const{data:x,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=t;if(!s||!o||!a||!c)throw new Yd("No session defined in URL");const d=Math.round(Date.now()/1e3),g=parseInt(o);let v=d+g;l&&(v=parseInt(l));const f=v-d;f*1e3<=Xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${g}s`);const _=v-g;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,d);const{data:S,error:k}=await this._getUser(s);if(k)throw k;const w={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:g,expires_at:v,refresh_token:a,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(gt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ya(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(wk(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Ys(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Ek(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await $o(this.storage,this.storageKey,!0));try{return await xt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(gt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,c,d;const{data:g,error:v}=s;if(v)throw v;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await xt(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(c=g.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Si()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(gt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await xt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Ik(async i=>(i>0&&await Ok(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await xt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:bs})),(i,s)=>{const a=200*Math.pow(2,i);return s&&J0(s)&&Date.now()+a-n<Xo})}catch(n){if(this._debug(r,"error",n),gt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Si()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ya(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ya(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Qo(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Z0()}else if(i&&!i.user&&!i.user){const a=await Ya(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Ys(this.storage,this.storageKey+"-user"),await Qo(this.storage,this.storageKey,i)):i.user=Z0()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<K0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${K0}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),J0(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ea;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Tf;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new ea;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),gt(s)){const a={session:null,error:s};return J0(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Qo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=Iv(i);await Qo(this.storage,this.storageKey,s)}else{const i=Iv(r);await Qo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ys(this.storage,this.storageKey),await Ys(this.storage,this.storageKey+"-code-verifier"),await Ys(this.storage,this.storageKey+"-user"),this.userStorage&&await Ys(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Si()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Xo}ms, refresh threshold is ${C1} ticks`),i<=C1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof c_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Si()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await $o(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await xt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await xt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:o}=await xt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(gt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await xt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(gt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Y0(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+vk>i)return n;const{data:s,error:a}=await xt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:_}=await this.getSession();if(_||!f.session)return{data:null,error:_};n=f.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=Y0(n);r!=null&&r.allowExpired||zk(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:a},error:null}}const d=$k(i.alg),g=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,g,a,jk(`${o}.${l}`)))throw new I1("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}}}jc.nextInstanceID=0;const i8=jc;class s8 extends i8{constructor(t){super(t)}}var a8=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(g){a(g)}}function l(d){try{c(n.throw(d))}catch(g){a(g)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class o8{constructor(t,r,n){var i,s,a;this.supabaseUrl=t,this.supabaseKey=r;const o=hk(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:rk,realtime:ik,auth:Object.assign(Object.assign({},nk),{storageKey:l}),global:tk},d=dk(n??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=lk(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new xN(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new XN(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new eN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return a8(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:o,lock:l,debug:c},d,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new s8({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),d),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:o,lock:l,debug:c,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new BN(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const l8=(e,t,r)=>new o8(e,t,r);function u8(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}u8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const c8="https://ncrnhxosahzxybzhorsm.supabase.co",d8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5jcm5oeG9zYWh6eHliemhvcnNtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0MjI4MjksImV4cCI6MjA3OTk5ODgyOX0.C1fsPXVD3khfhlUV6zCHTz_VthOYbbfu6_5CLyrkNow",Nr=l8(c8,d8),d_=pe.createContext(void 0);function h8({children:e}){const[t,r]=pe.useState(null),[n,i]=pe.useState(null),[s,a]=pe.useState(!0);pe.useEffect(()=>{(async()=>{const{data:{session:v}}=await Nr.auth.getSession();r(v),i((v==null?void 0:v.user)??null),a(!1)})();const{data:{subscription:g}}=Nr.auth.onAuthStateChange((v,f)=>{r(f),i((f==null?void 0:f.user)??null)});return()=>{g.unsubscribe()}},[]);const o=async({email:d,password:g})=>{const{error:v}=await Nr.auth.signInWithPassword({email:d,password:g});return v?{error:v.message}:{error:null}},l=async({email:d,password:g})=>{const{error:v}=await Nr.auth.signUp({email:d,password:g});return v?{error:v.message}:{error:null}},c=async()=>{await Nr.auth.signOut()};return p.jsx(d_.Provider,{value:{user:n,session:t,loading:s,signIn:o,signUp:l,signOut:c},children:e})}function Of(){const e=pe.useContext(d_);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function f8({children:e,currentPage:t,onNavigate:r}){const n=zc(),{signOut:i}=Of(),[s,a]=pe.useState(!1),o=[{id:"quotes",label:"Oferte",icon:Cb},{id:"new-quote",label:"Ofert Nou",icon:H6},{id:"settings",label:"Setri",icon:K6}],l=c=>{r(c),a(!1)};return p.jsxs("div",{className:"flex h-screen bg-gray-50",children:[p.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[p.jsx("h1",{className:"text-lg font-bold text-gray-800",children:"Termopane Manager"}),p.jsx("button",{onClick:()=>a(!s),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Toggle menu",children:s?p.jsx(Gm,{className:"w-6 h-6"}):p.jsx(G6,{className:"w-6 h-6"})})]}),s&&p.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>a(!1)}),p.jsxs("aside",{className:`fixed md:static inset-y-0 left-0 z-40 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out ${s?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[p.jsxs("div",{className:"p-6 border-b border-gray-200 md:block hidden md:block",children:[p.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Termopane Manager"}),p.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configurator & Ofertare"})]}),p.jsx("nav",{className:"p-4",children:p.jsx("ul",{className:"space-y-2",children:o.map(c=>{const d=c.icon,g=t===c.id;return p.jsx("li",{children:p.jsxs("button",{onClick:()=>l(c.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${g?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[p.jsx(d,{className:"w-5 h-5"}),p.jsx("span",{children:c.label})]})},c.id)})})}),p.jsx("div",{className:"mt-auto p-4 border-t border-gray-200",children:p.jsxs("button",{onClick:async()=>{await i(),n("/login",{replace:!0})},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm text-gray-600 hover:bg-gray-50 transition-colors",children:[p.jsx(V6,{className:"w-4 h-4"}),p.jsx("span",{children:"Logout"})]})})]}),p.jsx("main",{className:"flex-1 overflow-auto md:ml-0 pt-14 md:pt-0",children:e})]})}const p8={BASE_URL:"/demo-termopane/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5jcm5oeG9zYWh6eHliemhvcnNtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0MjI4MjksImV4cCI6MjA3OTk5ODgyOX0.C1fsPXVD3khfhlUV6zCHTz_VthOYbbfu6_5CLyrkNow",VITE_SUPABASE_URL:"https://ncrnhxosahzxybzhorsm.supabase.co"},Bv=e=>{let t;const r=new Set,n=(d,g)=>{const v=typeof d=="function"?d(t):d;if(!Object.is(v,t)){const f=t;t=g??(typeof v!="object"||v===null)?v:Object.assign({},t,v),r.forEach(_=>_(t,f))}},i=()=>t,l={setState:n,getState:i,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(p8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(n,i,l);return l},m8=e=>e?Bv(e):Bv;var h_={exports:{}},f_={},p_={exports:{}},m_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Il=pe;function g8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var v8=typeof Object.is=="function"?Object.is:g8,y8=Il.useState,w8=Il.useEffect,b8=Il.useLayoutEffect,_8=Il.useDebugValue;function x8(e,t){var r=t(),n=y8({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return b8(function(){i.value=r,i.getSnapshot=t,Q0(i)&&s({inst:i})},[e,r,t]),w8(function(){return Q0(i)&&s({inst:i}),e(function(){Q0(i)&&s({inst:i})})},[e]),_8(r),r}function Q0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!v8(e,r)}catch{return!0}}function S8(e,t){return t()}var N8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?S8:x8;m_.useSyncExternalStore=Il.useSyncExternalStore!==void 0?Il.useSyncExternalStore:N8;p_.exports=m_;var k8=p_.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If=pe,A8=k8;function j8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var L8=typeof Object.is=="function"?Object.is:j8,P8=A8.useSyncExternalStore,E8=If.useRef,C8=If.useEffect,T8=If.useMemo,O8=If.useDebugValue;f_.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=E8(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=T8(function(){function l(f){if(!c){if(c=!0,d=f,f=n(f),i!==void 0&&a.hasValue){var _=a.value;if(i(_,f))return g=_}return g=f}if(_=g,L8(d,f))return _;var S=n(f);return i!==void 0&&i(_,S)?(d=f,_):(d=f,g=S)}var c=!1,d,g,v=r===void 0?null:r;return[function(){return l(t())},v===null?void 0:function(){return l(v())}]},[t,r,n,i]);var o=P8(e,s[0],s[1]);return C8(function(){a.hasValue=!0,a.value=o},[o]),O8(o),o};h_.exports=f_;var I8=h_.exports;const R8=gy(I8),g_={BASE_URL:"/demo-termopane/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5jcm5oeG9zYWh6eHliemhvcnNtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0MjI4MjksImV4cCI6MjA3OTk5ODgyOX0.C1fsPXVD3khfhlUV6zCHTz_VthOYbbfu6_5CLyrkNow",VITE_SUPABASE_URL:"https://ncrnhxosahzxybzhorsm.supabase.co"},{useDebugValue:F8}=jy,{useSyncExternalStoreWithSelector:M8}=R8;let Uv=!1;const D8=e=>e;function B8(e,t=D8,r){(g_?"production":void 0)!=="production"&&r&&!Uv&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Uv=!0);const n=M8(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return F8(n),n}const zv=e=>{(g_?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?m8(e):e,r=(n,i)=>B8(t,n,i);return Object.assign(r,t),r},U8=e=>e?zv(e):zv,$v=e=>({name:e.name,manufacturer:e.manufacturer??null,profile_type:e.profile_type??null,color_name:e.color_name??null,price_per_meter:e.pricePerMeter,color_category:e.colorCategory,chambers:e.chambers??5,glass_width_deduction_mm:e.glass_width_deduction_mm,glass_height_deduction_mm:e.glass_height_deduction_mm}),Zd=e=>({id:e.id,name:e.name,manufacturer:e.manufacturer??null,profile_type:e.profile_type??null,color_name:e.color_name??null,pricePerMeter:parseFloat(e.price_per_meter),colorCategory:e.color_category||e.color_name||"",chambers:e.chambers||5,glass_width_deduction_mm:e.glass_width_deduction_mm??24,glass_height_deduction_mm:e.glass_height_deduction_mm??24,user_id:e.user_id??void 0}),z8=[{name:"Rehau 70mm",pricePerMeter:45,colorCategory:"Alb",chambers:5,glass_width_deduction_mm:24,glass_height_deduction_mm:24},{name:"Rehau Synego",pricePerMeter:58,colorCategory:"Alb",chambers:7,glass_width_deduction_mm:24,glass_height_deduction_mm:24},{name:"Salamander Bluevolution 82",pricePerMeter:62,colorCategory:"Alb",chambers:7,glass_width_deduction_mm:24,glass_height_deduction_mm:24},{name:"Veka Softline 70",pricePerMeter:50,colorCategory:"Alb",chambers:5,glass_width_deduction_mm:24,glass_height_deduction_mm:24}],Ou={async getAll(){const{data:e,error:t}=await Nr.from("profile_series").select("*").order("manufacturer").order("name");if(t)throw console.error("Error fetching profile series:",t),t;return(e||[]).map(Zd)},async create(e){const{data:t,error:r}=await Nr.from("profile_series").insert([$v(e)]).select().single();if(r)throw console.error("Error creating profile series:",r),r;return Zd(t)},async update(e,t){const r={};t.name!==void 0&&(r.name=t.name),t.manufacturer!==void 0&&(r.manufacturer=t.manufacturer??null),t.profile_type!==void 0&&(r.profile_type=t.profile_type??null),t.color_name!==void 0&&(r.color_name=t.color_name??null),t.pricePerMeter!==void 0&&(r.price_per_meter=t.pricePerMeter),t.colorCategory!==void 0&&(r.color_category=t.colorCategory),t.chambers!==void 0&&(r.chambers=t.chambers),t.glass_width_deduction_mm!==void 0&&(r.glass_width_deduction_mm=t.glass_width_deduction_mm),t.glass_height_deduction_mm!==void 0&&(r.glass_height_deduction_mm=t.glass_height_deduction_mm);const{data:n,error:i}=await Nr.from("profile_series").update(r).eq("id",e).select().single();if(i)throw console.error("Error updating profile series:",i),i;return Zd(n)},async delete(e){const{error:t}=await Nr.from("profile_series").delete().eq("id",e);if(t)throw console.error("Error deleting profile series:",t),t},async createDefaultTemplates(){const{data:e,error:t}=await Nr.from("profile_series").insert(z8.map($v)).select("*");if(t)throw console.error("Error creating default profile templates:",t),t;return(e||[]).map(Zd)}},$8={profileSeries:[],glassTypes:[{id:"1",name:"Tripan 44mm",pricePerSqMeter:180},{id:"2",name:"Dublu 24mm",pricePerSqMeter:120}],hardwareOptions:[{id:"1",name:"Roto NT",pricePerTurn:85,pricePerTiltTurn:145},{id:"2",name:"Siegenia",pricePerTurn:95,pricePerTiltTurn:165}],defaultLaborPercentage:15,defaultMarginPercentage:25},Rf=U8(e=>({settings:$8,quotes:[],isLoading:!1,updateSettings:t=>e(r=>({settings:{...r.settings,...t}})),loadProfileSeries:async()=>{try{e({isLoading:!0});const t=await Ou.getAll();e(r=>({settings:{...r.settings,profileSeries:t},isLoading:!1}))}catch(t){console.error("Failed to load profile series:",t),e({isLoading:!1})}},addProfileSeries:async t=>{try{const r=await Ou.create(t);e(n=>({settings:{...n.settings,profileSeries:[...n.settings.profileSeries,r]}}))}catch(r){throw console.error("Failed to add profile series:",r),r}},updateProfileSeries:async(t,r)=>{try{const n=await Ou.update(t,r);e(i=>({settings:{...i.settings,profileSeries:i.settings.profileSeries.map(s=>s.id===t?n:s)}}))}catch(n){throw console.error("Failed to update profile series:",n),n}},deleteProfileSeries:async t=>{try{await Ou.delete(t),e(r=>({settings:{...r.settings,profileSeries:r.settings.profileSeries.filter(n=>n.id!==t)}}))}catch(r){throw console.error("Failed to delete profile series:",r),r}},loadDefaultProfileTemplates:async()=>{try{e({isLoading:!0});const t=await Ou.createDefaultTemplates();e(r=>({settings:{...r.settings,profileSeries:[...r.settings.profileSeries,...t]},isLoading:!1}))}catch(t){throw console.error("Failed to load default profile templates:",t),e({isLoading:!1}),t}},addGlassType:t=>e(r=>({settings:{...r.settings,glassTypes:[...r.settings.glassTypes,t]}})),updateGlassType:(t,r)=>e(n=>({settings:{...n.settings,glassTypes:n.settings.glassTypes.map(i=>i.id===t?{...i,...r}:i)}})),deleteGlassType:t=>e(r=>({settings:{...r.settings,glassTypes:r.settings.glassTypes.filter(n=>n.id!==t)}})),addHardware:t=>e(r=>({settings:{...r.settings,hardwareOptions:[...r.settings.hardwareOptions,t]}})),updateHardware:(t,r)=>e(n=>({settings:{...n.settings,hardwareOptions:n.settings.hardwareOptions.map(i=>i.id===t?{...i,...r}:i)}})),deleteHardware:t=>e(r=>({settings:{...r.settings,hardwareOptions:r.settings.hardwareOptions.filter(n=>n.id!==t)}})),addQuote:t=>e(r=>({quotes:[...r.quotes,t]}))})),qv=e=>({company_name:e.company_name,logo_url:e.logo_url??null,address:e.address??null,phone:e.phone??null,email:e.email??null,registration_number:e.registration_number??null,tax_id:e.tax_id??null,default_profile_series_id:e.default_profile_series_id??null,default_glass_type_id:e.default_glass_id??null,default_hardware_package_id:e.default_hardware_id??null}),ep=e=>({id:e.id,company_name:e.company_name||"",logo_url:e.logo_url??void 0,address:e.address??void 0,phone:e.phone??void 0,email:e.email??void 0,registration_number:e.registration_number??void 0,tax_id:e.tax_id??void 0,default_profile_series_id:e.default_profile_series_id??null,default_glass_id:e.default_glass_type_id??null,default_hardware_id:e.default_hardware_package_id??null}),R1={async get(){var e,t;try{const{data:r,error:n}=await Nr.from("company_settings").select("*").maybeSingle();if(n){if(n.code==="PGRST116"||(e=n.message)!=null&&e.includes("does not exist"))return console.warn("company_settings table does not exist yet. Skipping fetch."),null;throw console.error("Error fetching company settings:",n),n}return r?ep(r):null}catch(r){if(r instanceof Error&&((t=r.message)!=null&&t.includes("does not exist")))return console.warn("company_settings table does not exist yet. Skipping fetch."),null;throw r}},async save(e){var t,r;try{const n=await this.get();if(n){const{data:i,error:s}=await Nr.from("company_settings").update(qv(e)).eq("id",n.id).select().single();if(s)throw console.error("Error updating company settings:",s),s;return ep(i)}else{const{data:i,error:s}=await Nr.from("company_settings").insert([qv(e)]).select().single();if(s)throw s.code==="PGRST116"||(t=s.message)!=null&&t.includes("does not exist")?(console.warn("company_settings table does not exist yet. Cannot save settings."),new Error("company_settings table does not exist. Please create it in Supabase first.")):(console.error("Error creating company settings:",s),s);return ep(i)}}catch(n){throw n instanceof Error&&((r=n.message)!=null&&r.includes("does not exist"))?(console.warn("company_settings table does not exist yet. Cannot save settings."),new Error("company_settings table does not exist. Please create it in Supabase first.")):n}}};function Wv(){const{settings:e,isLoading:t,updateSettings:r,loadProfileSeries:n,addProfileSeries:i,updateProfileSeries:s,deleteProfileSeries:a,loadDefaultProfileTemplates:o,addGlassType:l,updateGlassType:c,deleteGlassType:d,addHardware:g,updateHardware:v,deleteHardware:f}=Rf();pe.useEffect(()=>{n(),x()},[]);const[_,S]=pe.useState({company_name:"",logo_url:"",address:"",phone:"",email:"",registration_number:"",tax_id:"",default_profile_series_id:null,default_glass_id:null,default_hardware_id:null}),[k,w]=pe.useState(!1),x=async()=>{try{const R=await R1.get();R&&S({company_name:R.company_name,logo_url:R.logo_url||"",address:R.address||"",phone:R.phone||"",email:R.email||"",registration_number:R.registration_number||"",tax_id:R.tax_id||"",default_profile_series_id:R.default_profile_series_id,default_glass_id:R.default_glass_id,default_hardware_id:R.default_hardware_id})}catch(R){console.error("Failed to load company settings:",R)}},N=async()=>{if(!_.company_name.trim()){K("error","Numele firmei este obligatoriu.");return}w(!0);try{await R1.save(_),K("success","Informaiile firmei au fost salvate cu succes.")}catch(R){console.error("Failed to save company settings:",R),K("error","Eroare la salvarea informaiilor firmei. Te rugm s ncerci din nou.")}finally{w(!1)}},P=pe.useMemo(()=>{const R={};return e.profileSeries.forEach(oe=>{const Z=oe.manufacturer||"Fr productor";R[Z]||(R[Z]=[]),R[Z].push(oe)}),Object.keys(R).sort().reduce((oe,Z)=>(oe[Z]=R[Z],oe),{})},[e.profileSeries]),Y=pe.useMemo(()=>{const R=new Set;return e.profileSeries.forEach(oe=>{oe.manufacturer&&R.add(oe.manufacturer)}),Array.from(R).sort()},[e.profileSeries]),[D,H]=pe.useState({name:"",manufacturer:"",profile_type:"",color_name:"",pricePerMeter:"",colorCategory:"",chambers:"5",glass_width_deduction_mm:"24",glass_height_deduction_mm:"24"}),[z,U]=pe.useState({name:"",thickness_mm:"",pricePerSqMeter:""}),[J,T]=pe.useState({manufacturer:"",name:"",pricePerPack:""}),[F,G]=pe.useState(null),K=(R,oe)=>{G({type:R,message:oe}),setTimeout(()=>G(null),3e3)},fe=async()=>{if(D.name&&D.pricePerMeter&&D.chambers)try{await i({name:D.name,manufacturer:D.manufacturer||null,profile_type:D.profile_type||null,color_name:D.color_name||null,pricePerMeter:parseFloat(D.pricePerMeter),colorCategory:D.color_name||D.colorCategory||"",chambers:parseInt(D.chambers),glass_width_deduction_mm:parseInt(D.glass_width_deduction_mm)||24,glass_height_deduction_mm:parseInt(D.glass_height_deduction_mm)||24}),H({name:"",manufacturer:"",profile_type:"",color_name:"",pricePerMeter:"",colorCategory:"",chambers:"5",glass_width_deduction_mm:"24",glass_height_deduction_mm:"24"}),K("success","Seria de profil a fost adugat cu succes.")}catch(R){console.error("Failed to add profile series:",R),K("error","Eroare la adugarea seriei de profil. Te rugm s ncerci din nou.")}},he=()=>{z.name&&z.pricePerSqMeter&&(l({id:Date.now().toString(),name:z.name,pricePerSqMeter:parseFloat(z.pricePerSqMeter)}),U({name:"",thickness_mm:"",pricePerSqMeter:""}))},ue=()=>{J.manufacturer&&J.name&&J.pricePerPack&&(g({id:Date.now().toString(),name:`${J.manufacturer} - ${J.name}`,pricePerTurn:parseFloat(J.pricePerPack),pricePerTiltTurn:parseFloat(J.pricePerPack)}),T({manufacturer:"",name:"",pricePerPack:""}))},X=async()=>{try{await o(),K("success","abloanele implicite de profile au fost ncrcate.")}catch(R){console.error("Failed to load default templates:",R),K("error","Eroare la ncrcarea abloanelor implicite. Te rugm s ncerci din nou.")}};return p.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-6xl mx-auto",children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-2",children:"Setri Materiale"}),p.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6 sm:mb-8",children:"Configureaz preurile pentru profiluri, geamuri i feronerie"}),p.jsxs("div",{className:"space-y-8",children:[F&&p.jsx("div",{className:`rounded-lg px-4 py-3 text-sm ${F.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:F.message}),t&&p.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:p.jsx("p",{className:"text-blue-700",children:"Se ncarc datele..."})}),p.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 mb-4",children:[p.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800",children:"Serii Profile"}),p.jsx("button",{type:"button",onClick:X,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 px-3 py-2 text-sm border border-blue-200 rounded-md text-blue-700 hover:bg-blue-50",children:"ncarc abloane implicite"})]}),Object.entries(P).map(([R,oe])=>p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-300",children:R}),p.jsxs("div",{className:"hidden sm:grid sm:grid-cols-[1fr_10rem_8rem_7rem_6rem_7rem_7rem_auto] gap-2 px-3 py-2 mb-2 bg-gray-100 rounded-lg border border-gray-200",children:[p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Nume Serie"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Productor"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Tip Profil"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Culoare"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Pre (RON/m)"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Ded. L. (mm)"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Ded. nl. (mm)"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700 text-center",children:"Aciuni"})]}),p.jsx("div",{className:"space-y-3 mb-4",children:oe.map(Z=>p.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-[1fr_10rem_8rem_7rem_6rem_7rem_7rem_auto] items-stretch sm:items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Nume Serie"}),p.jsx("input",{type:"text",value:Z.name,onChange:A=>{s(Z.id,{name:A.target.value}).catch(M=>{console.error("Failed to update profile series:",M),K("error","Eroare la actualizarea seriei de profil.")})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Nume serie"})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Productor"}),p.jsx("input",{type:"text",list:`manufacturer-list-${Z.id}`,value:Z.manufacturer||"",onChange:A=>{s(Z.id,{manufacturer:A.target.value||null}).catch(M=>{console.error("Failed to update profile series:",M),K("error","Eroare la actualizarea seriei de profil.")})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Productor"}),p.jsx("datalist",{id:`manufacturer-list-${Z.id}`,children:Y.map(A=>p.jsx("option",{value:A},A))})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Tip Profil"}),p.jsx("input",{type:"text",value:Z.profile_type||"",onChange:A=>{s(Z.id,{profile_type:A.target.value||null}).catch(M=>{console.error("Failed to update profile series:",M),K("error","Eroare la actualizarea seriei de profil.")})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"toc, cercevea..."})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Culoare"}),p.jsx("input",{type:"text",value:Z.color_name||Z.colorCategory||"",onChange:A=>{const M=A.target.value;s(Z.id,{color_name:M||null,colorCategory:M||""}).catch(V=>{console.error("Failed to update profile series:",V),K("error","Eroare la actualizarea seriei de profil.")})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Alb, Antracit..."})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Pre (RON/m)"}),p.jsx("input",{type:"number",value:Z.pricePerMeter,onChange:A=>{s(Z.id,{pricePerMeter:parseFloat(A.target.value)}).catch(M=>{console.error("Failed to update profile series:",M),K("error","Eroare la actualizarea seriei de profil.")})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"RON/metru"})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Ded. L. (mm)"}),p.jsx("input",{type:"number",value:Z.glass_width_deduction_mm,onChange:A=>{s(Z.id,{glass_width_deduction_mm:parseInt(A.target.value)||24}).catch(M=>{console.error("Failed to update profile series:",M),K("error","Eroare la actualizarea seriei de profil.")})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-xs",placeholder:"L. (mm)",title:"Deducere lime sticl (mm)"})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Ded. nl. (mm)"}),p.jsx("input",{type:"number",value:Z.glass_height_deduction_mm,onChange:A=>{s(Z.id,{glass_height_deduction_mm:parseInt(A.target.value)||24}).catch(M=>{console.error("Failed to update profile series:",M),K("error","Eroare la actualizarea seriei de profil.")})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-xs",placeholder:"nl. (mm)",title:"Deducere nlime sticl (mm)"})]}),p.jsx("div",{className:"flex justify-center sm:justify-start",children:p.jsx("button",{onClick:async()=>{if(confirm("Eti sigur c vrei s tergi aceast serie de profil?"))try{await a(Z.id),K("success","Seria de profil a fost tears.")}catch(A){console.error("Failed to delete profile series:",A),K("error","Eroare la tergerea seriei de profil.")}},className:"p-2.5 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"terge",children:p.jsx(ho,{className:"w-5 h-5"})})})]},Z.id))})]},R)),p.jsxs("div",{className:"hidden sm:grid sm:grid-cols-[1fr_10rem_8rem_7rem_6rem_7rem_7rem_auto] gap-2 px-3 py-2 mb-2 bg-blue-100 rounded-lg border border-blue-200",children:[p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Nume Serie"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Productor"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Tip Profil"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Culoare"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Pre (RON/m)"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Ded. L. (mm)"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Ded. nl. (mm)"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700 text-center",children:"Aciuni"})]}),p.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-[1fr_10rem_8rem_7rem_6rem_7rem_7rem_auto] items-stretch sm:items-center gap-2 p-3 bg-blue-50 rounded-lg border-2 border-blue-200",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Nume Serie"}),p.jsx("input",{type:"text",value:D.name,onChange:R=>H({...D,name:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Nume serie nou"})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Productor"}),p.jsx("input",{type:"text",list:"manufacturer-list-new",value:D.manufacturer,onChange:R=>H({...D,manufacturer:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Productor"}),p.jsx("datalist",{id:"manufacturer-list-new",children:Y.map(R=>p.jsx("option",{value:R},R))})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Tip Profil"}),p.jsx("input",{type:"text",value:D.profile_type,onChange:R=>H({...D,profile_type:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"toc, cercevea..."})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Culoare"}),p.jsx("input",{type:"text",value:D.color_name,onChange:R=>H({...D,color_name:R.target.value,colorCategory:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Alb, Antracit..."})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Pre (RON/m)"}),p.jsx("input",{type:"number",value:D.pricePerMeter,onChange:R=>H({...D,pricePerMeter:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"RON/metru"})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Ded. L. (mm)"}),p.jsx("input",{type:"number",value:D.glass_width_deduction_mm,onChange:R=>H({...D,glass_width_deduction_mm:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-xs",placeholder:"L. (mm)",title:"Deducere lime sticl (mm)"})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Ded. nl. (mm)"}),p.jsx("input",{type:"number",value:D.glass_height_deduction_mm,onChange:R=>H({...D,glass_height_deduction_mm:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-xs",placeholder:"nl. (mm)",title:"Deducere nlime sticl (mm)"})]}),p.jsx("div",{className:"flex justify-center sm:justify-start",children:p.jsx("button",{onClick:fe,className:"p-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Adaug",children:p.jsx(xh,{className:"w-5 h-5"})})})]})]}),p.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[p.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4",children:"Tipuri Geam"}),p.jsxs("div",{className:"hidden sm:grid sm:grid-cols-[1fr_10rem_12rem_auto] gap-3 px-3 py-2 mb-2 bg-gray-100 rounded-lg border border-gray-200",children:[p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Nume Tip Geam"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Grosime (mm)"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Pre (RON/m)"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700 text-center",children:"Aciuni"})]}),p.jsx("div",{className:"space-y-3 mb-4",children:e.glassTypes.map(R=>p.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-[1fr_10rem_12rem_auto] items-stretch sm:items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Nume Tip Geam"}),p.jsx("input",{type:"text",value:R.name,onChange:oe=>c(R.id,{name:oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"Tip geam"})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Grosime (mm)"}),p.jsx("input",{type:"number",value:R.thickness_mm||"",onChange:oe=>c(R.id,{thickness_mm:parseFloat(oe.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"44, 24..."})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Pre (RON/m)"}),p.jsx("input",{type:"number",value:R.pricePerSqMeter,onChange:oe=>c(R.id,{pricePerSqMeter:parseFloat(oe.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"RON/m"})]}),p.jsx("div",{className:"flex justify-center sm:justify-start",children:p.jsx("button",{onClick:()=>d(R.id),className:"p-2.5 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"terge",children:p.jsx(ho,{className:"w-5 h-5"})})})]},R.id))}),p.jsxs("div",{className:"hidden sm:grid sm:grid-cols-[1fr_10rem_12rem_auto] gap-3 px-3 py-2 mb-2 bg-blue-100 rounded-lg border border-blue-200",children:[p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Nume Tip Geam"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Grosime (mm)"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Pre (RON/m)"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700 text-center",children:"Aciuni"})]}),p.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-[1fr_10rem_12rem_auto] items-stretch sm:items-center gap-3 p-3 bg-blue-50 rounded-lg border-2 border-blue-200",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Nume Tip Geam"}),p.jsx("input",{type:"text",value:z.name,onChange:R=>U({...z,name:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"Tip geam nou"})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Grosime (mm)"}),p.jsx("input",{type:"number",value:z.thickness_mm,onChange:R=>U({...z,thickness_mm:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"44, 24..."})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Pre (RON/m)"}),p.jsx("input",{type:"number",value:z.pricePerSqMeter,onChange:R=>U({...z,pricePerSqMeter:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"RON/m"})]}),p.jsx("div",{className:"flex justify-center sm:justify-start",children:p.jsx("button",{onClick:he,className:"p-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Adaug",children:p.jsx(xh,{className:"w-5 h-5"})})})]})]}),p.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[p.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4",children:"Feronerie"}),p.jsxs("div",{className:"hidden sm:grid sm:grid-cols-[1fr_12rem_12rem_auto] gap-3 px-3 py-2 mb-2 bg-gray-100 rounded-lg border border-gray-200",children:[p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Productor / Nume"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Pre Deschidere (RON)"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Pre Oscilobatant (RON)"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700 text-center",children:"Aciuni"})]}),p.jsx("div",{className:"space-y-3 mb-4",children:e.hardwareOptions.map(R=>p.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-[1fr_12rem_12rem_auto] items-stretch sm:items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Productor / Nume"}),p.jsx("input",{type:"text",value:R.name,onChange:oe=>v(R.id,{name:oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"Productor"})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Pre Deschidere (RON)"}),p.jsx("input",{type:"number",value:R.pricePerTurn,onChange:oe=>v(R.id,{pricePerTurn:parseFloat(oe.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"RON/Deschidere"})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Pre Oscilobatant (RON)"}),p.jsx("input",{type:"number",value:R.pricePerTiltTurn,onChange:oe=>v(R.id,{pricePerTiltTurn:parseFloat(oe.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"RON/Oscilobatant"})]}),p.jsx("div",{className:"flex justify-center sm:justify-start",children:p.jsx("button",{onClick:()=>f(R.id),className:"p-2.5 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"terge",children:p.jsx(ho,{className:"w-5 h-5"})})})]},R.id))}),p.jsxs("div",{className:"hidden sm:grid sm:grid-cols-[1fr_12rem_12rem_auto] gap-3 px-3 py-2 mb-2 bg-blue-100 rounded-lg border border-blue-200",children:[p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Productor / Nume"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Pre Deschidere (RON)"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700",children:"Pre Oscilobatant (RON)"}),p.jsx("div",{className:"text-xs font-semibold text-gray-700 text-center",children:"Aciuni"})]}),p.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-[1fr_12rem_12rem_auto] items-stretch sm:items-center gap-3 p-3 bg-blue-50 rounded-lg border-2 border-blue-200",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Productor / Nume"}),p.jsx("input",{type:"text",value:J.manufacturer&&J.name?`${J.manufacturer} - ${J.name}`:"",onChange:R=>{const oe=R.target.value.split(" - ");T({manufacturer:oe[0]||"",name:oe.slice(1).join(" - ")||"",pricePerPack:J.pricePerPack})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"Productor - Nume"})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Pre Deschidere (RON)"}),p.jsx("input",{type:"number",value:J.pricePerPack,onChange:R=>T({...J,pricePerPack:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"RON/Pachet"})]}),p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1 sm:hidden",children:"Pre Oscilobatant (RON)"}),p.jsx("input",{type:"number",value:J.pricePerPack,onChange:R=>T({...J,pricePerPack:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-base",placeholder:"RON/Pachet"})]}),p.jsx("div",{className:"flex justify-center sm:justify-start",children:p.jsx("button",{onClick:ue,className:"p-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Adaug",children:p.jsx(xh,{className:"w-5 h-5"})})})]})]}),p.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[p.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4",children:"Informaii Firm"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-6",children:[p.jsxs("div",{className:"sm:col-span-2",children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nume Firm ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"text",value:_.company_name,onChange:R=>S({..._,company_name:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Numele firmei",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo URL"}),p.jsx("input",{type:"url",value:_.logo_url,onChange:R=>S({..._,logo_url:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adres"}),p.jsx("input",{type:"text",value:_.address,onChange:R=>S({..._,address:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Adresa firmei"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon"}),p.jsx("input",{type:"tel",value:_.phone,onChange:R=>S({..._,phone:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+40..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),p.jsx("input",{type:"email",value:_.email,onChange:R=>S({..._,email:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"contact@firma.ro"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nr. Reg. Com."}),p.jsx("input",{type:"text",value:_.registration_number,onChange:R=>S({..._,registration_number:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"J40/1234/2020"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CUI"}),p.jsx("input",{type:"text",value:_.tax_id,onChange:R=>S({..._,tax_id:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"RO12345678"})]})]}),p.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[p.jsx("h3",{className:"text-base font-semibold text-gray-800 mb-4",children:"Setri Implicite"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profil Implicit"}),p.jsxs("select",{value:_.default_profile_series_id||"",onChange:R=>S({..._,default_profile_series_id:R.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[p.jsx("option",{value:"",children:"Niciunul"}),e.profileSeries.map(R=>p.jsxs("option",{value:R.id,children:[R.manufacturer?`${R.manufacturer} - `:"",R.name]},R.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sticl Implicit"}),p.jsxs("select",{value:_.default_glass_id||"",onChange:R=>S({..._,default_glass_id:R.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[p.jsx("option",{value:"",children:"Niciuna"}),e.glassTypes.map(R=>p.jsx("option",{value:R.id,children:R.name},R.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feronerie Implicit"}),p.jsxs("select",{value:_.default_hardware_id||"",onChange:R=>S({..._,default_hardware_id:R.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[p.jsx("option",{value:"",children:"Niciuna"}),e.hardwareOptions.map(R=>p.jsx("option",{value:R.id,children:R.name},R.id))]})]})]})]}),p.jsx("div",{className:"mt-6 flex justify-end",children:p.jsxs("button",{onClick:N,disabled:k,className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:bg-gray-400 disabled:cursor-not-allowed",children:[p.jsx(hv,{className:"w-5 h-5"}),k?"Se salveaz...":"Salveaz Informaiile Firmei"]})})]}),p.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[p.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4",children:"Procente Implicite"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Manoper (%)"}),p.jsx("input",{type:"number",value:e.defaultLaborPercentage,onChange:R=>r({defaultLaborPercentage:parseFloat(R.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marj Profit (%)"}),p.jsx("input",{type:"number",value:e.defaultMarginPercentage,onChange:R=>r({defaultMarginPercentage:parseFloat(R.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]})]})]}),p.jsx("div",{className:"flex justify-end",children:p.jsxs("button",{className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-base",children:[p.jsx(hv,{className:"w-5 h-5"}),"Salveaz Setrile"]})})]})]})}const q8=e=>{const t={};return e.client_name!==void 0&&(t.client_name=e.client_name),e.client_phone!==void 0&&(t.client_phone=e.client_phone),e.client_email!==void 0&&(t.client_email=e.client_email),e.client_address!==void 0&&(t.client_address=e.client_address),e.reference!==void 0&&(t.reference=e.reference),e.status!==void 0&&(t.status=e.status),e.subtotal!==void 0&&(t.subtotal=e.subtotal),e.discount_total!==void 0&&(t.discount_total=e.discount_total),e.vat_rate!==void 0&&(t.vat_rate=e.vat_rate),e.vat_amount!==void 0&&(t.vat_amount=e.vat_amount),e.total!==void 0&&(t.total=e.total),t},tp=e=>({id:e.id,user_id:e.user_id,client_name:e.client_name??void 0,client_phone:e.client_phone??void 0,client_email:e.client_email??void 0,client_address:e.client_address??void 0,reference:e.reference??void 0,status:e.status,subtotal:parseFloat(e.subtotal||0),discount_total:parseFloat(e.discount_total||0),vat_rate:parseFloat(e.vat_rate||0),vat_amount:parseFloat(e.vat_amount||0),total:parseFloat(e.total||0),created_at:e.created_at,updated_at:e.updated_at}),W8=(e,t)=>({quote_id:t,item_type:e.item_type,label:e.label??null,width_mm:e.width_mm,height_mm:e.height_mm,quantity:e.quantity,configuration:e.configuration,base_cost:e.base_cost,price_without_vat:e.price_without_vat,vat_rate:e.vat_rate,total_with_vat:e.total_with_vat,profile_series_id:e.profile_series_id??null,profile_length_m:e.profile_length_m??null,glass_area_sqm:e.glass_area_sqm??null}),Hv=e=>({id:e.id,quote_id:e.quote_id,user_id:e.user_id,item_type:e.item_type,label:e.label??void 0,width_mm:parseInt(e.width_mm,10),height_mm:parseInt(e.height_mm,10),quantity:parseInt(e.quantity,10),configuration:e.configuration,base_cost:parseFloat(e.base_cost||0),price_without_vat:parseFloat(e.price_without_vat||0),vat_rate:parseFloat(e.vat_rate||0),total_with_vat:parseFloat(e.total_with_vat||0),profile_series_id:e.profile_series_id??void 0,profile_length_m:e.profile_length_m?parseFloat(e.profile_length_m):void 0,glass_area_sqm:e.glass_area_sqm?parseFloat(e.glass_area_sqm):void 0,created_at:e.created_at}),qu={async createQuoteWithItems(e){const t=e.items.reduce((g,v)=>g+v.price_without_vat*v.quantity,0),r=e.header.discount_total??0,n=e.header.vat_rate??.19,i=t-r,s=i*n,a=i+s,o=q8({...e.header,status:e.header.status??"draft",subtotal:t,discount_total:r,vat_rate:n,vat_amount:s,total:a}),{data:l,error:c}=await Nr.from("quotes").insert([o]).select().single();if(c)throw console.error("Error creating quote:",c),c;const d=tp(l);if(e.items.length>0){const g=e.items.map(_=>W8(_,d.id)),{data:v,error:f}=await Nr.from("quote_items").insert(g).select();if(f)throw console.error("Error creating quote items:",f),await Nr.from("quotes").delete().eq("id",d.id),f;return{...d,items:(v||[]).map(Hv)}}return{...d,items:[]}},async fetchQuotes(){const{data:e,error:t}=await Nr.from("quotes").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching quotes:",t),t;return(e||[]).map(tp)},async fetchQuoteWithItems(e){const{data:t,error:r}=await Nr.from("quotes").select("*").eq("id",e).single();if(r)throw console.error("Error fetching quote:",r),r;if(!t)return null;const{data:n,error:i}=await Nr.from("quote_items").select("*").eq("quote_id",e).order("created_at",{ascending:!0});if(i)throw console.error("Error fetching quote items:",i),i;const s=(n||[]).map(Hv),a={};let o=0;return s.forEach(l=>{if(l.glass_area_sqm&&(o+=l.glass_area_sqm*l.quantity),l.profile_series_id&&l.profile_length_m){const c=l.profile_series_id;a[c]||(a[c]=0),a[c]+=l.profile_length_m*l.quantity}}),{...tp(t),items:s,totalProfileLengthBySeries:a,totalGlassAreaSqm:o}},async deleteQuote(e){const{error:t}=await Nr.from("quotes").delete().eq("id",e);if(t)throw console.error("Error deleting quote:",t),t}};function Ft(e){"@babel/helpers - typeof";return Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(e)}var Ci=Uint8Array,Gn=Uint16Array,ig=Int32Array,sg=new Ci([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ag=new Ci([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Vv=new Ci([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v_=function(e,t){for(var r=new Gn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new ig(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},y_=v_(sg,2),H8=y_.b,F1=y_.r;H8[28]=258,F1[258]=28;var V8=v_(ag,0),Gv=V8.r,M1=new Gn(32768);for(var Yt=0;Yt<32768;++Yt){var Zs=(Yt&43690)>>1|(Yt&21845)<<1;Zs=(Zs&52428)>>2|(Zs&13107)<<2,Zs=(Zs&61680)>>4|(Zs&3855)<<4,M1[Yt]=((Zs&65280)>>8|(Zs&255)<<8)>>1}var ic=function(e,t,r){for(var n=e.length,i=0,s=new Gn(t);i<n;++i)e[i]&&++s[e[i]-1];var a=new Gn(t);for(i=1;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Gn(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],d=t-e[i],g=a[e[i]-1]++<<d,v=g|(1<<d)-1;g<=v;++g)o[M1[g]>>l]=c}else for(o=new Gn(n),i=0;i<n;++i)e[i]&&(o[i]=M1[a[e[i]-1]++]>>15-e[i]);return o},wo=new Ci(288);for(var Yt=0;Yt<144;++Yt)wo[Yt]=8;for(var Yt=144;Yt<256;++Yt)wo[Yt]=9;for(var Yt=256;Yt<280;++Yt)wo[Yt]=7;for(var Yt=280;Yt<288;++Yt)wo[Yt]=8;var sf=new Ci(32);for(var Yt=0;Yt<32;++Yt)sf[Yt]=5;var G8=ic(wo,9,0),K8=ic(sf,5,0),w_=function(e){return(e+7)/8|0},J8=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ci(e.subarray(t,r))},ys=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Iu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},rp=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return{t:__,l:0};if(i==1){var a=new Ci(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(Y,D){return Y.f-D.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,d=1,g=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=r[r[c].f<r[g].f?c++:g++],l=r[c!=d&&r[c].f<r[g].f?c++:g++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var v=s[0].s,n=1;n<i;++n)s[n].s>v&&(v=s[n].s);var f=new Gn(v+1),_=D1(r[d-1],f,0);if(_>t){var n=0,S=0,k=_-t,w=1<<k;for(s.sort(function(D,H){return f[H.s]-f[D.s]||D.f-H.f});n<i;++n){var x=s[n].s;if(f[x]>t)S+=w-(1<<_-f[x]),f[x]=t;else break}for(S>>=k;S>0;){var N=s[n].s;f[N]<t?S-=1<<t-f[N]++-1:++n}for(;n>=0&&S;--n){var P=s[n].s;f[P]==t&&(--f[P],++S)}_=t}return{t:new Ci(f),l:_}},D1=function(e,t,r){return e.s==-1?Math.max(D1(e.l,t,r+1),D1(e.r,t,r+1)):t[e.s]=r},Kv=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Gn(++t),n=0,i=e[0],s=1,a=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return{c:r.subarray(0,n),n:t}},Ru=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},b_=function(e,t,r){var n=r.length,i=w_(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<n;++s)e[i+s+4]=r[s];return(i+4+n)*8},Jv=function(e,t,r,n,i,s,a,o,l,c,d){ys(t,d++,r),++i[256];for(var g=rp(i,15),v=g.t,f=g.l,_=rp(s,15),S=_.t,k=_.l,w=Kv(v),x=w.c,N=w.n,P=Kv(S),Y=P.c,D=P.n,H=new Gn(19),z=0;z<x.length;++z)++H[x[z]&31];for(var z=0;z<Y.length;++z)++H[Y[z]&31];for(var U=rp(H,7),J=U.t,T=U.l,F=19;F>4&&!J[Vv[F-1]];--F);var G=c+5<<3,K=Ru(i,wo)+Ru(s,sf)+a,fe=Ru(i,v)+Ru(s,S)+a+14+3*F+Ru(H,J)+2*H[16]+3*H[17]+7*H[18];if(l>=0&&G<=K&&G<=fe)return b_(t,d,e.subarray(l,l+c));var he,ue,X,R;if(ys(t,d,1+(fe<K)),d+=2,fe<K){he=ic(v,f,0),ue=v,X=ic(S,k,0),R=S;var oe=ic(J,T,0);ys(t,d,N-257),ys(t,d+5,D-1),ys(t,d+10,F-4),d+=14;for(var z=0;z<F;++z)ys(t,d+3*z,J[Vv[z]]);d+=3*F;for(var Z=[x,Y],A=0;A<2;++A)for(var M=Z[A],z=0;z<M.length;++z){var V=M[z]&31;ys(t,d,oe[V]),d+=J[V],V>15&&(ys(t,d,M[z]>>5&127),d+=M[z]>>12)}}else he=G8,ue=wo,X=K8,R=sf;for(var z=0;z<o;++z){var Q=n[z];if(Q>255){var V=Q>>18&31;Iu(t,d,he[V+257]),d+=ue[V+257],V>7&&(ys(t,d,Q>>23&31),d+=sg[V]);var re=Q&31;Iu(t,d,X[re]),d+=R[re],re>3&&(Iu(t,d,Q>>5&8191),d+=ag[re])}else Iu(t,d,he[Q]),d+=ue[Q]}return Iu(t,d,he[256]),d+ue[256]},Y8=new ig([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),__=new Ci(0),Z8=function(e,t,r,n,i,s){var a=s.z||e.length,o=new Ci(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),c=s.l,d=(s.r||0)&7;if(t){d&&(l[0]=s.r>>3);for(var g=Y8[t-1],v=g>>13,f=g&8191,_=(1<<r)-1,S=s.p||new Gn(32768),k=s.h||new Gn(_+1),w=Math.ceil(r/3),x=2*w,N=function(Ge){return(e[Ge]^e[Ge+1]<<w^e[Ge+2]<<x)&_},P=new ig(25e3),Y=new Gn(288),D=new Gn(32),H=0,z=0,U=s.i||0,J=0,T=s.w||0,F=0;U+2<a;++U){var G=N(U),K=U&32767,fe=k[G];if(S[K]=fe,k[G]=K,T<=U){var he=a-U;if((H>7e3||J>24576)&&(he>423||!c)){d=Jv(e,l,0,P,Y,D,z,J,F,U-F,d),J=H=z=0,F=U;for(var ue=0;ue<286;++ue)Y[ue]=0;for(var ue=0;ue<30;++ue)D[ue]=0}var X=2,R=0,oe=f,Z=K-fe&32767;if(he>2&&G==N(U-Z))for(var A=Math.min(v,he)-1,M=Math.min(32767,U),V=Math.min(258,he);Z<=M&&--oe&&K!=fe;){if(e[U+X]==e[U+X-Z]){for(var Q=0;Q<V&&e[U+Q]==e[U+Q-Z];++Q);if(Q>X){if(X=Q,R=Z,Q>A)break;for(var re=Math.min(Z,Q-2),ae=0,ue=0;ue<re;++ue){var ge=U-Z+ue&32767,me=S[ge],ve=ge-me&32767;ve>ae&&(ae=ve,fe=ge)}}}K=fe,fe=S[K],Z+=K-fe&32767}if(R){P[J++]=268435456|F1[X]<<18|Gv[R];var je=F1[X]&31,Oe=Gv[R]&31;z+=sg[je]+ag[Oe],++Y[257+je],++D[Oe],T=U+X,++H}else P[J++]=e[U],++Y[e[U]]}}for(U=Math.max(U,T);U<a;++U)P[J++]=e[U],++Y[e[U]];d=Jv(e,l,c,P,Y,D,z,J,F,U-F,d),c||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=k,s.p=S,s.i=U,s.w=T)}else{for(var U=s.w||0;U<a+c;U+=65535){var Ce=U+65535;Ce>=a&&(l[d/8|0]=c,Ce=a),d=b_(l,d+1,e.subarray(U,Ce))}s.i=a}return J8(o,0,n+w_(d)+i)},x_=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},X8=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new Ci(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return Z8(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},S_=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Q8=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=x_();i.p(t.dictionary),S_(e,2,i.d())}};function B1(e,t){t||(t={});var r=x_();r.p(e);var n=X8(e,t,t.dictionary?6:2,4);return Q8(n,t),S_(n,n.length-4,r.d()),n}var eA=typeof TextDecoder<"u"&&new TextDecoder,tA=0;try{eA.decode(__,{stream:!0}),tA=1}catch{}function rA(e){if(Array.isArray(e))return e}function nA(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Yv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function iA(e,t){if(e){if(typeof e=="string")return Yv(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yv(e,t):void 0}}function sA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zv(e,t){return rA(e)||nA(e,t)||iA(e,t)||sA()}function Xv(e,t="utf8"){return new TextDecoder(t).decode(e)}const aA=new TextEncoder;function oA(e){return aA.encode(e)}const lA=1024*8,uA=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),np={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class og{constructor(t=lA,r={}){Rt(this,"buffer");Rt(this,"byteLength");Rt(this,"byteOffset");Rt(this,"length");Rt(this,"offset");Rt(this,"lastWrittenByte");Rt(this,"littleEndian");Rt(this,"_data");Rt(this,"_mark");Rt(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,s=t.byteLength-i;let a=i;(ArrayBuffer.isView(t)||t instanceof og)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=np[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===uA&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new np[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new np[r](s);return this.offset+=n,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return Xv(this.readBytes(t))}decodeText(t=1,r="utf8"){return Xv(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(oA(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const cA=4,Qv=0,e5=1,dA=2;function Vl(e){let t=e.length;for(;--t>=0;)e[t]=0}const hA=0,N_=1,fA=2,pA=3,mA=258,lg=29,Wc=256,Lc=Wc+1+lg,_l=30,ug=19,k_=2*Lc+1,ao=15,ip=16,gA=7,cg=256,A_=16,j_=17,L_=18,U1=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Sh=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),vA=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),P_=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yA=512,Ns=new Array((Lc+2)*2);Vl(Ns);const sc=new Array(_l*2);Vl(sc);const Pc=new Array(yA);Vl(Pc);const Ec=new Array(mA-pA+1);Vl(Ec);const dg=new Array(lg);Vl(dg);const af=new Array(_l);Vl(af);function sp(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let E_,C_,T_;function ap(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const O_=e=>e<256?Pc[e]:Pc[256+(e>>>7)],Cc=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Ln=(e,t,r)=>{e.bi_valid>ip-r?(e.bi_buf|=t<<e.bi_valid&65535,Cc(e,e.bi_buf),e.bi_buf=t>>ip-e.bi_valid,e.bi_valid+=r-ip):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Ji=(e,t,r)=>{Ln(e,r[t*2],r[t*2+1])},I_=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},wA=e=>{e.bi_valid===16?(Cc(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},bA=(e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,d,g,v,f,_,S=0;for(v=0;v<=ao;v++)e.bl_count[v]=0;for(r[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<k_;c++)d=e.heap[c],v=r[r[d*2+1]*2+1]+1,v>l&&(v=l,S++),r[d*2+1]=v,!(d>n)&&(e.bl_count[v]++,f=0,d>=o&&(f=a[d-o]),_=r[d*2],e.opt_len+=_*(v+f),s&&(e.static_len+=_*(i[d*2+1]+f)));if(S!==0){do{for(v=l-1;e.bl_count[v]===0;)v--;e.bl_count[v]--,e.bl_count[v+1]+=2,e.bl_count[l]--,S-=2}while(S>0);for(v=l;v!==0;v--)for(d=e.bl_count[v];d!==0;)g=e.heap[--c],!(g>n)&&(r[g*2+1]!==v&&(e.opt_len+=(v-r[g*2+1])*r[g*2],r[g*2+1]=v),d--)}},R_=(e,t,r)=>{const n=new Array(ao+1);let i=0,s,a;for(s=1;s<=ao;s++)i=i+r[s-1]<<1,n[s]=i;for(a=0;a<=t;a++){let o=e[a*2+1];o!==0&&(e[a*2]=I_(n[o]++,o))}},_A=()=>{let e,t,r,n,i;const s=new Array(ao+1);for(r=0,n=0;n<lg-1;n++)for(dg[n]=r,e=0;e<1<<U1[n];e++)Ec[r++]=n;for(Ec[r-1]=n,i=0,n=0;n<16;n++)for(af[n]=i,e=0;e<1<<Sh[n];e++)Pc[i++]=n;for(i>>=7;n<_l;n++)for(af[n]=i<<7,e=0;e<1<<Sh[n]-7;e++)Pc[256+i++]=n;for(t=0;t<=ao;t++)s[t]=0;for(e=0;e<=143;)Ns[e*2+1]=8,e++,s[8]++;for(;e<=255;)Ns[e*2+1]=9,e++,s[9]++;for(;e<=279;)Ns[e*2+1]=7,e++,s[7]++;for(;e<=287;)Ns[e*2+1]=8,e++,s[8]++;for(R_(Ns,Lc+1,s),e=0;e<_l;e++)sc[e*2+1]=5,sc[e*2]=I_(e,5);E_=new sp(Ns,U1,Wc+1,Lc,ao),C_=new sp(sc,Sh,0,_l,ao),T_=new sp(new Array(0),vA,0,ug,gA)},F_=e=>{let t;for(t=0;t<Lc;t++)e.dyn_ltree[t*2]=0;for(t=0;t<_l;t++)e.dyn_dtree[t*2]=0;for(t=0;t<ug;t++)e.bl_tree[t*2]=0;e.dyn_ltree[cg*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},M_=e=>{e.bi_valid>8?Cc(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},t5=(e,t,r,n)=>{const i=t*2,s=r*2;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]},op=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&t5(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!t5(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},r5=(e,t,r)=>{let n,i,s=0,a,o;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+s++]&255,n+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],n===0?Ji(e,i,t):(a=Ec[i],Ji(e,a+Wc+1,t),o=U1[a],o!==0&&(i-=dg[a],Ln(e,i,o)),n--,a=O_(n),Ji(e,a,r),o=Sh[a],o!==0&&(n-=af[a],Ln(e,n,o)));while(s<e.sym_next);Ji(e,cg,t)},z1=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let a,o,l=-1,c;for(e.heap_len=0,e.heap_max=k_,a=0;a<s;a++)r[a*2]!==0?(e.heap[++e.heap_len]=l=a,e.depth[a]=0):r[a*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,r[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=n[c*2+1]);for(t.max_code=l,a=e.heap_len>>1;a>=1;a--)op(e,r,a);c=s;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],op(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,r[c*2]=r[a*2]+r[o*2],e.depth[c]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,r[a*2+1]=r[o*2+1]=c,e.heap[1]=c++,op(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],bA(e,t),R_(r,l,e.bl_count)},n5=(e,t,r)=>{let n,i=-1,s,a=t[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)s=a,a=t[(n+1)*2+1],!(++o<l&&s===a)&&(o<c?e.bl_tree[s*2]+=o:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[A_*2]++):o<=10?e.bl_tree[j_*2]++:e.bl_tree[L_*2]++,o=0,i=s,a===0?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4))},i5=(e,t,r)=>{let n,i=-1,s,a=t[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),n=0;n<=r;n++)if(s=a,a=t[(n+1)*2+1],!(++o<l&&s===a)){if(o<c)do Ji(e,s,e.bl_tree);while(--o!==0);else s!==0?(s!==i&&(Ji(e,s,e.bl_tree),o--),Ji(e,A_,e.bl_tree),Ln(e,o-3,2)):o<=10?(Ji(e,j_,e.bl_tree),Ln(e,o-3,3)):(Ji(e,L_,e.bl_tree),Ln(e,o-11,7));o=0,i=s,a===0?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4)}},xA=e=>{let t;for(n5(e,e.dyn_ltree,e.l_desc.max_code),n5(e,e.dyn_dtree,e.d_desc.max_code),z1(e,e.bl_desc),t=ug-1;t>=3&&e.bl_tree[P_[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},SA=(e,t,r,n)=>{let i;for(Ln(e,t-257,5),Ln(e,r-1,5),Ln(e,n-4,4),i=0;i<n;i++)Ln(e,e.bl_tree[P_[i]*2+1],3);i5(e,e.dyn_ltree,t-1),i5(e,e.dyn_dtree,r-1)},NA=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return Qv;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return e5;for(r=32;r<Wc;r++)if(e.dyn_ltree[r*2]!==0)return e5;return Qv};let s5=!1;const kA=e=>{s5||(_A(),s5=!0),e.l_desc=new ap(e.dyn_ltree,E_),e.d_desc=new ap(e.dyn_dtree,C_),e.bl_desc=new ap(e.bl_tree,T_),e.bi_buf=0,e.bi_valid=0,F_(e)},D_=(e,t,r,n)=>{Ln(e,(hA<<1)+(n?1:0),3),M_(e),Cc(e,r),Cc(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},AA=e=>{Ln(e,N_<<1,3),Ji(e,cg,Ns),wA(e)},jA=(e,t,r,n)=>{let i,s,a=0;e.level>0?(e.strm.data_type===dA&&(e.strm.data_type=NA(e)),z1(e,e.l_desc),z1(e,e.d_desc),a=xA(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&t!==-1?D_(e,t,r,n):e.strategy===cA||s===i?(Ln(e,(N_<<1)+(n?1:0),3),r5(e,Ns,sc)):(Ln(e,(fA<<1)+(n?1:0),3),SA(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),r5(e,e.dyn_ltree,e.dyn_dtree)),F_(e),n&&M_(e)},LA=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(Ec[r]+Wc+1)*2]++,e.dyn_dtree[O_(t)*2]++),e.sym_next===e.sym_end);var PA=kA,EA=D_,CA=jA,TA=LA,OA=AA,IA={_tr_init:PA,_tr_stored_block:EA,_tr_flush_block:CA,_tr_tally:TA,_tr_align:OA};const RA=(e,t,r,n)=>{let i=e&65535|0,s=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+t[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var Tc=RA;const FA=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},MA=new Uint32Array(FA()),DA=(e,t,r,n)=>{const i=MA,s=n+r;e^=-1;for(let a=n;a<s;a++)e=e>>>8^i[(e^t[a])&255];return e^-1};var Mr=DA,Rl={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Hc={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:BA,_tr_stored_block:$1,_tr_flush_block:UA,_tr_tally:xa,_tr_align:zA}=IA,{Z_NO_FLUSH:Sa,Z_PARTIAL_FLUSH:$A,Z_FULL_FLUSH:qA,Z_FINISH:ui,Z_BLOCK:a5,Z_OK:Gr,Z_STREAM_END:o5,Z_STREAM_ERROR:Qi,Z_DATA_ERROR:WA,Z_BUF_ERROR:lp,Z_DEFAULT_COMPRESSION:HA,Z_FILTERED:VA,Z_HUFFMAN_ONLY:Xd,Z_RLE:GA,Z_FIXED:KA,Z_DEFAULT_STRATEGY:JA,Z_UNKNOWN:YA,Z_DEFLATED:Ff}=Hc,ZA=9,XA=15,QA=8,e7=29,t7=256,q1=t7+1+e7,r7=30,n7=19,i7=2*q1+1,s7=15,kt=3,ca=258,es=ca+kt+1,a7=32,Fl=42,hg=57,W1=69,H1=73,V1=91,G1=103,oo=113,Wu=666,gn=1,Gl=2,bo=3,Kl=4,o7=3,lo=(e,t)=>(e.msg=Rl[t],t),l5=e=>e*2-(e>4?9:0),aa=e=>{let t=e.length;for(;--t>=0;)e[t]=0},l7=e=>{let t,r,n,i=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t);t=i,n=t;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)};let u7=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,Na=u7;const Wn=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},Kn=(e,t)=>{UA(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Wn(e.strm)},Ct=(e,t)=>{e.pending_buf[e.pending++]=t},Fu=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},K1=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),e.state.wrap===1?e.adler=Tc(e.adler,t,i,r):e.state.wrap===2&&(e.adler=Mr(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},B_=(e,t)=>{let r=e.max_chain_length,n=e.strstart,i,s,a=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-es?e.strstart-(e.w_size-es):0,c=e.window,d=e.w_mask,g=e.prev,v=e.strstart+ca;let f=c[n+a-1],_=c[n+a];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=t,!(c[i+a]!==_||c[i+a-1]!==f||c[i]!==c[n]||c[++i]!==c[n+1])){n+=2,i++;do;while(c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&n<v);if(s=ca-(v-n),n=v-ca,s>a){if(e.match_start=t,a=s,s>=o)break;f=c[n+a-1],_=c[n+a]}}while((t=g[t&d])>l&&--r!==0);return a<=e.lookahead?a:e.lookahead},Ml=e=>{const t=e.w_size;let r,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-es)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),l7(e),n+=t),e.strm.avail_in===0)break;if(r=K1(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=kt)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Na(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Na(e,e.ins_h,e.window[i+kt-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<kt)););}while(e.lookahead<es&&e.strm.avail_in!==0)},U_=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,s,a=0,o=e.strm.avail_in;do{if(n=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>s&&(n=s),n<r&&(n===0&&t!==ui||t===Sa||n!==i+e.strm.avail_in)))break;a=t===ui&&n===i+e.strm.avail_in?1:0,$1(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Wn(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(K1(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(a===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?Kl:t!==Sa&&t!==ui&&e.strm.avail_in===0&&e.strstart===e.block_start?Gl:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(K1(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,r=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=r||(i||t===ui)&&t!==Sa&&e.strm.avail_in===0&&i<=s)&&(n=i>s?s:i,a=t===ui&&e.strm.avail_in===0&&n===i?1:0,$1(e,e.block_start,n,a),e.block_start+=n,Wn(e.strm)),a?bo:gn)},up=(e,t)=>{let r,n;for(;;){if(e.lookahead<es){if(Ml(e),e.lookahead<es&&t===Sa)return gn;if(e.lookahead===0)break}if(r=0,e.lookahead>=kt&&(e.ins_h=Na(e,e.ins_h,e.window[e.strstart+kt-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-es&&(e.match_length=B_(e,r)),e.match_length>=kt)if(n=xa(e,e.strstart-e.match_start,e.match_length-kt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=kt){e.match_length--;do e.strstart++,e.ins_h=Na(e,e.ins_h,e.window[e.strstart+kt-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Na(e,e.ins_h,e.window[e.strstart+1]);else n=xa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Kn(e,!1),e.strm.avail_out===0))return gn}return e.insert=e.strstart<kt-1?e.strstart:kt-1,t===ui?(Kn(e,!0),e.strm.avail_out===0?bo:Kl):e.sym_next&&(Kn(e,!1),e.strm.avail_out===0)?gn:Gl},Vo=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<es){if(Ml(e),e.lookahead<es&&t===Sa)return gn;if(e.lookahead===0)break}if(r=0,e.lookahead>=kt&&(e.ins_h=Na(e,e.ins_h,e.window[e.strstart+kt-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=kt-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-es&&(e.match_length=B_(e,r),e.match_length<=5&&(e.strategy===VA||e.match_length===kt&&e.strstart-e.match_start>4096)&&(e.match_length=kt-1)),e.prev_length>=kt&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-kt,n=xa(e,e.strstart-1-e.prev_match,e.prev_length-kt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=Na(e,e.ins_h,e.window[e.strstart+kt-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=kt-1,e.strstart++,n&&(Kn(e,!1),e.strm.avail_out===0))return gn}else if(e.match_available){if(n=xa(e,0,e.window[e.strstart-1]),n&&Kn(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return gn}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=xa(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<kt-1?e.strstart:kt-1,t===ui?(Kn(e,!0),e.strm.avail_out===0?bo:Kl):e.sym_next&&(Kn(e,!1),e.strm.avail_out===0)?gn:Gl},c7=(e,t)=>{let r,n,i,s;const a=e.window;for(;;){if(e.lookahead<=ca){if(Ml(e),e.lookahead<=ca&&t===Sa)return gn;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=kt&&e.strstart>0&&(i=e.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){s=e.strstart+ca;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);e.match_length=ca-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=kt?(r=xa(e,1,e.match_length-kt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=xa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Kn(e,!1),e.strm.avail_out===0))return gn}return e.insert=0,t===ui?(Kn(e,!0),e.strm.avail_out===0?bo:Kl):e.sym_next&&(Kn(e,!1),e.strm.avail_out===0)?gn:Gl},d7=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Ml(e),e.lookahead===0)){if(t===Sa)return gn;break}if(e.match_length=0,r=xa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Kn(e,!1),e.strm.avail_out===0))return gn}return e.insert=0,t===ui?(Kn(e,!0),e.strm.avail_out===0?bo:Kl):e.sym_next&&(Kn(e,!1),e.strm.avail_out===0)?gn:Gl};function Wi(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const Hu=[new Wi(0,0,0,0,U_),new Wi(4,4,8,4,up),new Wi(4,5,16,8,up),new Wi(4,6,32,32,up),new Wi(4,4,16,16,Vo),new Wi(8,16,32,32,Vo),new Wi(8,16,128,128,Vo),new Wi(8,32,128,256,Vo),new Wi(32,128,258,1024,Vo),new Wi(32,258,258,4096,Vo)],h7=e=>{e.window_size=2*e.w_size,aa(e.head),e.max_lazy_match=Hu[e.level].max_lazy,e.good_match=Hu[e.level].good_length,e.nice_match=Hu[e.level].nice_length,e.max_chain_length=Hu[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=kt-1,e.match_available=0,e.ins_h=0};function f7(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ff,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(i7*2),this.dyn_dtree=new Uint16Array((2*r7+1)*2),this.bl_tree=new Uint16Array((2*n7+1)*2),aa(this.dyn_ltree),aa(this.dyn_dtree),aa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(s7+1),this.heap=new Uint16Array(2*q1+1),aa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*q1+1),aa(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Vc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Fl&&t.status!==hg&&t.status!==W1&&t.status!==H1&&t.status!==V1&&t.status!==G1&&t.status!==oo&&t.status!==Wu?1:0},z_=e=>{if(Vc(e))return lo(e,Qi);e.total_in=e.total_out=0,e.data_type=YA;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?hg:t.wrap?Fl:oo,e.adler=t.wrap===2?0:1,t.last_flush=-2,BA(t),Gr},$_=e=>{const t=z_(e);return t===Gr&&h7(e.state),t},p7=(e,t)=>Vc(e)||e.state.wrap!==2?Qi:(e.state.gzhead=t,Gr),q_=(e,t,r,n,i,s)=>{if(!e)return Qi;let a=1;if(t===HA&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>ZA||r!==Ff||n<8||n>15||t<0||t>9||s<0||s>KA||n===8&&a!==1)return lo(e,Qi);n===8&&(n=9);const o=new f7;return e.state=o,o.strm=e,o.status=Fl,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+kt-1)/kt),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=s,o.method=r,$_(e)},m7=(e,t)=>q_(e,t,Ff,XA,QA,JA),g7=(e,t)=>{if(Vc(e)||t>a5||t<0)return e?lo(e,Qi):Qi;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===Wu&&t!==ui)return lo(e,e.avail_out===0?lp:Qi);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(Wn(e),e.avail_out===0)return r.last_flush=-1,Gr}else if(e.avail_in===0&&l5(t)<=l5(n)&&t!==ui)return lo(e,lp);if(r.status===Wu&&e.avail_in!==0)return lo(e,lp);if(r.status===Fl&&r.wrap===0&&(r.status=oo),r.status===Fl){let i=Ff+(r.w_bits-8<<4)<<8,s=-1;if(r.strategy>=Xd||r.level<2?s=0:r.level<6?s=1:r.level===6?s=2:s=3,i|=s<<6,r.strstart!==0&&(i|=a7),i+=31-i%31,Fu(r,i),r.strstart!==0&&(Fu(r,e.adler>>>16),Fu(r,e.adler&65535)),e.adler=1,r.status=oo,Wn(e),r.pending!==0)return r.last_flush=-1,Gr}if(r.status===hg){if(e.adler=0,Ct(r,31),Ct(r,139),Ct(r,8),r.gzhead)Ct(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Ct(r,r.gzhead.time&255),Ct(r,r.gzhead.time>>8&255),Ct(r,r.gzhead.time>>16&255),Ct(r,r.gzhead.time>>24&255),Ct(r,r.level===9?2:r.strategy>=Xd||r.level<2?4:0),Ct(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Ct(r,r.gzhead.extra.length&255),Ct(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Mr(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=W1;else if(Ct(r,0),Ct(r,0),Ct(r,0),Ct(r,0),Ct(r,0),Ct(r,r.level===9?2:r.strategy>=Xd||r.level<2?4:0),Ct(r,o7),r.status=oo,Wn(e),r.pending!==0)return r.last_flush=-1,Gr}if(r.status===W1){if(r.gzhead.extra){let i=r.pending,s=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+s>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(e.adler=Mr(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=o,Wn(e),r.pending!==0)return r.last_flush=-1,Gr;i=0,s-=o}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>i&&(e.adler=Mr(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=H1}if(r.status===H1){if(r.gzhead.name){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=Mr(e.adler,r.pending_buf,r.pending-i,i)),Wn(e),r.pending!==0)return r.last_flush=-1,Gr;i=0}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,Ct(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=Mr(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=V1}if(r.status===V1){if(r.gzhead.comment){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=Mr(e.adler,r.pending_buf,r.pending-i,i)),Wn(e),r.pending!==0)return r.last_flush=-1,Gr;i=0}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,Ct(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=Mr(e.adler,r.pending_buf,r.pending-i,i))}r.status=G1}if(r.status===G1){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Wn(e),r.pending!==0))return r.last_flush=-1,Gr;Ct(r,e.adler&255),Ct(r,e.adler>>8&255),e.adler=0}if(r.status=oo,Wn(e),r.pending!==0)return r.last_flush=-1,Gr}if(e.avail_in!==0||r.lookahead!==0||t!==Sa&&r.status!==Wu){let i=r.level===0?U_(r,t):r.strategy===Xd?d7(r,t):r.strategy===GA?c7(r,t):Hu[r.level].func(r,t);if((i===bo||i===Kl)&&(r.status=Wu),i===gn||i===bo)return e.avail_out===0&&(r.last_flush=-1),Gr;if(i===Gl&&(t===$A?zA(r):t!==a5&&($1(r,0,0,!1),t===qA&&(aa(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Wn(e),e.avail_out===0))return r.last_flush=-1,Gr}return t!==ui?Gr:r.wrap<=0?o5:(r.wrap===2?(Ct(r,e.adler&255),Ct(r,e.adler>>8&255),Ct(r,e.adler>>16&255),Ct(r,e.adler>>24&255),Ct(r,e.total_in&255),Ct(r,e.total_in>>8&255),Ct(r,e.total_in>>16&255),Ct(r,e.total_in>>24&255)):(Fu(r,e.adler>>>16),Fu(r,e.adler&65535)),Wn(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Gr:o5)},v7=e=>{if(Vc(e))return Qi;const t=e.state.status;return e.state=null,t===oo?lo(e,WA):Gr},y7=(e,t)=>{let r=t.length;if(Vc(e))return Qi;const n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==Fl||n.lookahead)return Qi;if(i===1&&(e.adler=Tc(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){i===0&&(aa(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(t.subarray(r-n.w_size,r),0),t=l,r=n.w_size}const s=e.avail_in,a=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Ml(n);n.lookahead>=kt;){let l=n.strstart,c=n.lookahead-(kt-1);do n.ins_h=Na(n,n.ins_h,n.window[l+kt-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--c);n.strstart=l,n.lookahead=kt-1,Ml(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=kt-1,n.match_available=0,e.next_in=a,e.input=o,e.avail_in=s,n.wrap=i,Gr};var w7=m7,b7=q_,_7=$_,x7=z_,S7=p7,N7=g7,k7=v7,A7=y7,j7="pako deflate (from Nodeca project)",ac={deflateInit:w7,deflateInit2:b7,deflateReset:_7,deflateResetKeep:x7,deflateSetHeader:S7,deflate:N7,deflateEnd:k7,deflateSetDictionary:A7,deflateInfo:j7};const L7=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var P7=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)L7(r,n)&&(e[n]=r[n])}}return e},E7=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,s=e.length;n<s;n++){let a=e[n];r.set(a,i),i+=a.length}return r},Mf={assign:P7,flattenChunks:E7};let W_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{W_=!1}const Oc=new Uint8Array(256);for(let e=0;e<256;e++)Oc[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Oc[254]=Oc[254]=1;var C7=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),s=0,i=0;s<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const T7=(e,t)=>{if(t<65534&&e.subarray&&W_)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var O7=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=e[n++];if(a<128){s[i++]=a;continue}let o=Oc[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|e[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return T7(s,i)},I7=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Oc[e[r]]>t?r:t},Ic={string2buf:C7,buf2string:O7,utf8border:I7};function R7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var H_=R7;const V_=Object.prototype.toString,{Z_NO_FLUSH:F7,Z_SYNC_FLUSH:M7,Z_FULL_FLUSH:D7,Z_FINISH:B7,Z_OK:of,Z_STREAM_END:U7,Z_DEFAULT_COMPRESSION:z7,Z_DEFAULT_STRATEGY:$7,Z_DEFLATED:q7}=Hc;function fg(e){this.options=Mf.assign({level:z7,method:q7,chunkSize:16384,windowBits:15,memLevel:8,strategy:$7},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new H_,this.strm.avail_out=0;let r=ac.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==of)throw new Error(Rl[r]);if(t.header&&ac.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Ic.string2buf(t.dictionary):V_.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=ac.deflateSetDictionary(this.strm,n),r!==of)throw new Error(Rl[r]);this._dict_set=!0}}fg.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?B7:F7,typeof e=="string"?r.input=Ic.string2buf(e):V_.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===M7||s===D7)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=ac.deflate(r,s),i===U7)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=ac.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===of;if(r.avail_out===0){this.onData(r.output);continue}if(s>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};fg.prototype.onData=function(e){this.chunks.push(e)};fg.prototype.onEnd=function(e){e===of&&(this.result=Mf.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const Qd=16209,W7=16191;var H7=function(t,r){let n,i,s,a,o,l,c,d,g,v,f,_,S,k,w,x,N,P,Y,D,H,z,U,J;const T=t.state;n=t.next_in,U=t.input,i=n+(t.avail_in-5),s=t.next_out,J=t.output,a=s-(r-t.avail_out),o=s+(t.avail_out-257),l=T.dmax,c=T.wsize,d=T.whave,g=T.wnext,v=T.window,f=T.hold,_=T.bits,S=T.lencode,k=T.distcode,w=(1<<T.lenbits)-1,x=(1<<T.distbits)-1;e:do{_<15&&(f+=U[n++]<<_,_+=8,f+=U[n++]<<_,_+=8),N=S[f&w];t:for(;;){if(P=N>>>24,f>>>=P,_-=P,P=N>>>16&255,P===0)J[s++]=N&65535;else if(P&16){Y=N&65535,P&=15,P&&(_<P&&(f+=U[n++]<<_,_+=8),Y+=f&(1<<P)-1,f>>>=P,_-=P),_<15&&(f+=U[n++]<<_,_+=8,f+=U[n++]<<_,_+=8),N=k[f&x];r:for(;;){if(P=N>>>24,f>>>=P,_-=P,P=N>>>16&255,P&16){if(D=N&65535,P&=15,_<P&&(f+=U[n++]<<_,_+=8,_<P&&(f+=U[n++]<<_,_+=8)),D+=f&(1<<P)-1,D>l){t.msg="invalid distance too far back",T.mode=Qd;break e}if(f>>>=P,_-=P,P=s-a,D>P){if(P=D-P,P>d&&T.sane){t.msg="invalid distance too far back",T.mode=Qd;break e}if(H=0,z=v,g===0){if(H+=c-P,P<Y){Y-=P;do J[s++]=v[H++];while(--P);H=s-D,z=J}}else if(g<P){if(H+=c+g-P,P-=g,P<Y){Y-=P;do J[s++]=v[H++];while(--P);if(H=0,g<Y){P=g,Y-=P;do J[s++]=v[H++];while(--P);H=s-D,z=J}}}else if(H+=g-P,P<Y){Y-=P;do J[s++]=v[H++];while(--P);H=s-D,z=J}for(;Y>2;)J[s++]=z[H++],J[s++]=z[H++],J[s++]=z[H++],Y-=3;Y&&(J[s++]=z[H++],Y>1&&(J[s++]=z[H++]))}else{H=s-D;do J[s++]=J[H++],J[s++]=J[H++],J[s++]=J[H++],Y-=3;while(Y>2);Y&&(J[s++]=J[H++],Y>1&&(J[s++]=J[H++]))}}else if(P&64){t.msg="invalid distance code",T.mode=Qd;break e}else{N=k[(N&65535)+(f&(1<<P)-1)];continue r}break}}else if(P&64)if(P&32){T.mode=W7;break e}else{t.msg="invalid literal/length code",T.mode=Qd;break e}else{N=S[(N&65535)+(f&(1<<P)-1)];continue t}break}}while(n<i&&s<o);Y=_>>3,n-=Y,_-=Y<<3,f&=(1<<_)-1,t.next_in=n,t.next_out=s,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=s<o?257+(o-s):257-(s-o),T.hold=f,T.bits=_};const Go=15,u5=852,c5=592,d5=0,cp=1,h5=2,V7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),G7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),K7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),J7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Y7=(e,t,r,n,i,s,a,o)=>{const l=o.bits;let c=0,d=0,g=0,v=0,f=0,_=0,S=0,k=0,w=0,x=0,N,P,Y,D,H,z=null,U;const J=new Uint16Array(Go+1),T=new Uint16Array(Go+1);let F=null,G,K,fe;for(c=0;c<=Go;c++)J[c]=0;for(d=0;d<n;d++)J[t[r+d]]++;for(f=l,v=Go;v>=1&&J[v]===0;v--);if(f>v&&(f=v),v===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(g=1;g<v&&J[g]===0;g++);for(f<g&&(f=g),k=1,c=1;c<=Go;c++)if(k<<=1,k-=J[c],k<0)return-1;if(k>0&&(e===d5||v!==1))return-1;for(T[1]=0,c=1;c<Go;c++)T[c+1]=T[c]+J[c];for(d=0;d<n;d++)t[r+d]!==0&&(a[T[t[r+d]]++]=d);if(e===d5?(z=F=a,U=20):e===cp?(z=V7,F=G7,U=257):(z=K7,F=J7,U=0),x=0,d=0,c=g,H=s,_=f,S=0,Y=-1,w=1<<f,D=w-1,e===cp&&w>u5||e===h5&&w>c5)return 1;for(;;){G=c-S,a[d]+1<U?(K=0,fe=a[d]):a[d]>=U?(K=F[a[d]-U],fe=z[a[d]-U]):(K=96,fe=0),N=1<<c-S,P=1<<_,g=P;do P-=N,i[H+(x>>S)+P]=G<<24|K<<16|fe|0;while(P!==0);for(N=1<<c-1;x&N;)N>>=1;if(N!==0?(x&=N-1,x+=N):x=0,d++,--J[c]===0){if(c===v)break;c=t[r+a[d]]}if(c>f&&(x&D)!==Y){for(S===0&&(S=f),H+=g,_=c-S,k=1<<_;_+S<v&&(k-=J[_+S],!(k<=0));)_++,k<<=1;if(w+=1<<_,e===cp&&w>u5||e===h5&&w>c5)return 1;Y=x&D,i[Y]=f<<24|_<<16|H-s|0}}return x!==0&&(i[H+x]=c-S<<24|64<<16|0),o.bits=f,0};var oc=Y7;const Z7=0,G_=1,K_=2,{Z_FINISH:f5,Z_BLOCK:X7,Z_TREES:eh,Z_OK:_o,Z_STREAM_END:Q7,Z_NEED_DICT:ej,Z_STREAM_ERROR:mi,Z_DATA_ERROR:J_,Z_MEM_ERROR:Y_,Z_BUF_ERROR:tj,Z_DEFLATED:p5}=Hc,Df=16180,m5=16181,g5=16182,v5=16183,y5=16184,w5=16185,b5=16186,_5=16187,x5=16188,S5=16189,lf=16190,ws=16191,dp=16192,N5=16193,hp=16194,k5=16195,A5=16196,j5=16197,L5=16198,th=16199,rh=16200,P5=16201,E5=16202,C5=16203,T5=16204,O5=16205,fp=16206,I5=16207,R5=16208,Qt=16209,Z_=16210,X_=16211,rj=852,nj=592,ij=15,sj=ij,F5=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function aj(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ko=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Df||t.mode>X_?1:0},Q_=e=>{if(ko(e))return mi;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Df,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(rj),t.distcode=t.distdyn=new Int32Array(nj),t.sane=1,t.back=-1,_o},ex=e=>{if(ko(e))return mi;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Q_(e)},tx=(e,t)=>{let r;if(ko(e))return mi;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?mi:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,ex(e))},rx=(e,t)=>{if(!e)return mi;const r=new aj;e.state=r,r.strm=e,r.window=null,r.mode=Df;const n=tx(e,t);return n!==_o&&(e.state=null),n},oj=e=>rx(e,sj);let M5=!0,pp,mp;const lj=e=>{if(M5){pp=new Int32Array(512),mp=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(oc(G_,e.lens,0,288,pp,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;oc(K_,e.lens,0,32,mp,0,e.work,{bits:5}),M5=!1}e.lencode=pp,e.lenbits=9,e.distcode=mp,e.distbits=5},nx=(e,t,r,n)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(t.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},uj=(e,t)=>{let r,n,i,s,a,o,l,c,d,g,v,f,_,S,k=0,w,x,N,P,Y,D,H,z;const U=new Uint8Array(4);let J,T;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ko(e)||!e.output||!e.input&&e.avail_in!==0)return mi;r=e.state,r.mode===ws&&(r.mode=dp),a=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,c=r.hold,d=r.bits,g=o,v=l,z=_o;e:for(;;)switch(r.mode){case Df:if(r.wrap===0){r.mode=dp;break}for(;d<16;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,U[0]=c&255,U[1]=c>>>8&255,r.check=Mr(r.check,U,2,0),c=0,d=0,r.mode=m5;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Qt;break}if((c&15)!==p5){e.msg="unknown compression method",r.mode=Qt;break}if(c>>>=4,d-=4,H=(c&15)+8,r.wbits===0&&(r.wbits=H),H>15||H>r.wbits){e.msg="invalid window size",r.mode=Qt;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=c&512?S5:ws,c=0,d=0;break;case m5:for(;d<16;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(r.flags=c,(r.flags&255)!==p5){e.msg="unknown compression method",r.mode=Qt;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Qt;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(U[0]=c&255,U[1]=c>>>8&255,r.check=Mr(r.check,U,2,0)),c=0,d=0,r.mode=g5;case g5:for(;d<32;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(U[0]=c&255,U[1]=c>>>8&255,U[2]=c>>>16&255,U[3]=c>>>24&255,r.check=Mr(r.check,U,4,0)),c=0,d=0,r.mode=v5;case v5:for(;d<16;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(U[0]=c&255,U[1]=c>>>8&255,r.check=Mr(r.check,U,2,0)),c=0,d=0,r.mode=y5;case y5:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(U[0]=c&255,U[1]=c>>>8&255,r.check=Mr(r.check,U,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=w5;case w5:if(r.flags&1024&&(f=r.length,f>o&&(f=o),f&&(r.head&&(H=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+f),H)),r.flags&512&&r.wrap&4&&(r.check=Mr(r.check,n,f,s)),o-=f,s+=f,r.length-=f),r.length))break e;r.length=0,r.mode=b5;case b5:if(r.flags&2048){if(o===0)break e;f=0;do H=n[s+f++],r.head&&H&&r.length<65536&&(r.head.name+=String.fromCharCode(H));while(H&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=Mr(r.check,n,f,s)),o-=f,s+=f,H)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=_5;case _5:if(r.flags&4096){if(o===0)break e;f=0;do H=n[s+f++],r.head&&H&&r.length<65536&&(r.head.comment+=String.fromCharCode(H));while(H&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=Mr(r.check,n,f,s)),o-=f,s+=f,H)break e}else r.head&&(r.head.comment=null);r.mode=x5;case x5:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Qt;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=ws;break;case S5:for(;d<32;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}e.adler=r.check=F5(c),c=0,d=0,r.mode=lf;case lf:if(r.havedict===0)return e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,r.hold=c,r.bits=d,ej;e.adler=r.check=1,r.mode=ws;case ws:if(t===X7||t===eh)break e;case dp:if(r.last){c>>>=d&7,d-=d&7,r.mode=fp;break}for(;d<3;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}switch(r.last=c&1,c>>>=1,d-=1,c&3){case 0:r.mode=N5;break;case 1:if(lj(r),r.mode=th,t===eh){c>>>=2,d-=2;break e}break;case 2:r.mode=A5;break;case 3:e.msg="invalid block type",r.mode=Qt}c>>>=2,d-=2;break;case N5:for(c>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Qt;break}if(r.length=c&65535,c=0,d=0,r.mode=hp,t===eh)break e;case hp:r.mode=k5;case k5:if(f=r.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;i.set(n.subarray(s,s+f),a),o-=f,s+=f,l-=f,a+=f,r.length-=f;break}r.mode=ws;break;case A5:for(;d<14;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(r.nlen=(c&31)+257,c>>>=5,d-=5,r.ndist=(c&31)+1,c>>>=5,d-=5,r.ncode=(c&15)+4,c>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Qt;break}r.have=0,r.mode=j5;case j5:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.lens[F[r.have++]]=c&7,c>>>=3,d-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,J={bits:r.lenbits},z=oc(Z7,r.lens,0,19,r.lencode,0,r.work,J),r.lenbits=J.bits,z){e.msg="invalid code lengths set",r.mode=Qt;break}r.have=0,r.mode=L5;case L5:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[c&(1<<r.lenbits)-1],w=k>>>24,x=k>>>16&255,N=k&65535,!(w<=d);){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(N<16)c>>>=w,d-=w,r.lens[r.have++]=N;else{if(N===16){for(T=w+2;d<T;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(c>>>=w,d-=w,r.have===0){e.msg="invalid bit length repeat",r.mode=Qt;break}H=r.lens[r.have-1],f=3+(c&3),c>>>=2,d-=2}else if(N===17){for(T=w+3;d<T;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}c>>>=w,d-=w,H=0,f=3+(c&7),c>>>=3,d-=3}else{for(T=w+7;d<T;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}c>>>=w,d-=w,H=0,f=11+(c&127),c>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Qt;break}for(;f--;)r.lens[r.have++]=H}}if(r.mode===Qt)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Qt;break}if(r.lenbits=9,J={bits:r.lenbits},z=oc(G_,r.lens,0,r.nlen,r.lencode,0,r.work,J),r.lenbits=J.bits,z){e.msg="invalid literal/lengths set",r.mode=Qt;break}if(r.distbits=6,r.distcode=r.distdyn,J={bits:r.distbits},z=oc(K_,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,J),r.distbits=J.bits,z){e.msg="invalid distances set",r.mode=Qt;break}if(r.mode=th,t===eh)break e;case th:r.mode=rh;case rh:if(o>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,r.hold=c,r.bits=d,H7(e,v),a=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,c=r.hold,d=r.bits,r.mode===ws&&(r.back=-1);break}for(r.back=0;k=r.lencode[c&(1<<r.lenbits)-1],w=k>>>24,x=k>>>16&255,N=k&65535,!(w<=d);){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(x&&!(x&240)){for(P=w,Y=x,D=N;k=r.lencode[D+((c&(1<<P+Y)-1)>>P)],w=k>>>24,x=k>>>16&255,N=k&65535,!(P+w<=d);){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}c>>>=P,d-=P,r.back+=P}if(c>>>=w,d-=w,r.back+=w,r.length=N,x===0){r.mode=O5;break}if(x&32){r.back=-1,r.mode=ws;break}if(x&64){e.msg="invalid literal/length code",r.mode=Qt;break}r.extra=x&15,r.mode=P5;case P5:if(r.extra){for(T=r.extra;d<T;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=E5;case E5:for(;k=r.distcode[c&(1<<r.distbits)-1],w=k>>>24,x=k>>>16&255,N=k&65535,!(w<=d);){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(!(x&240)){for(P=w,Y=x,D=N;k=r.distcode[D+((c&(1<<P+Y)-1)>>P)],w=k>>>24,x=k>>>16&255,N=k&65535,!(P+w<=d);){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}c>>>=P,d-=P,r.back+=P}if(c>>>=w,d-=w,r.back+=w,x&64){e.msg="invalid distance code",r.mode=Qt;break}r.offset=N,r.extra=x&15,r.mode=C5;case C5:if(r.extra){for(T=r.extra;d<T;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Qt;break}r.mode=T5;case T5:if(l===0)break e;if(f=v-l,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Qt;break}f>r.wnext?(f-=r.wnext,_=r.wsize-f):_=r.wnext-f,f>r.length&&(f=r.length),S=r.window}else S=i,_=a-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do i[a++]=S[_++];while(--f);r.length===0&&(r.mode=rh);break;case O5:if(l===0)break e;i[a++]=r.length,l--,r.mode=rh;break;case fp:if(r.wrap){for(;d<32;){if(o===0)break e;o--,c|=n[s++]<<d,d+=8}if(v-=l,e.total_out+=v,r.total+=v,r.wrap&4&&v&&(e.adler=r.check=r.flags?Mr(r.check,i,v,a-v):Tc(r.check,i,v,a-v)),v=l,r.wrap&4&&(r.flags?c:F5(c))!==r.check){e.msg="incorrect data check",r.mode=Qt;break}c=0,d=0}r.mode=I5;case I5:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Qt;break}c=0,d=0}r.mode=R5;case R5:z=Q7;break e;case Qt:z=J_;break e;case Z_:return Y_;case X_:default:return mi}return e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,r.hold=c,r.bits=d,(r.wsize||v!==e.avail_out&&r.mode<Qt&&(r.mode<fp||t!==f5))&&nx(e,e.output,e.next_out,v-e.avail_out),g-=e.avail_in,v-=e.avail_out,e.total_in+=g,e.total_out+=v,r.total+=v,r.wrap&4&&v&&(e.adler=r.check=r.flags?Mr(r.check,i,v,e.next_out-v):Tc(r.check,i,v,e.next_out-v)),e.data_type=r.bits+(r.last?64:0)+(r.mode===ws?128:0)+(r.mode===th||r.mode===hp?256:0),(g===0&&v===0||t===f5)&&z===_o&&(z=tj),z},cj=e=>{if(ko(e))return mi;let t=e.state;return t.window&&(t.window=null),e.state=null,_o},dj=(e,t)=>{if(ko(e))return mi;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,_o):mi},hj=(e,t)=>{const r=t.length;let n,i,s;return ko(e)||(n=e.state,n.wrap!==0&&n.mode!==lf)?mi:n.mode===lf&&(i=1,i=Tc(i,t,r,0),i!==n.check)?J_:(s=nx(e,t,r,r),s?(n.mode=Z_,Y_):(n.havedict=1,_o))};var fj=ex,pj=tx,mj=Q_,gj=oj,vj=rx,yj=uj,wj=cj,bj=dj,_j=hj,xj="pako inflate (from Nodeca project)",ks={inflateReset:fj,inflateReset2:pj,inflateResetKeep:mj,inflateInit:gj,inflateInit2:vj,inflate:yj,inflateEnd:wj,inflateGetHeader:bj,inflateSetDictionary:_j,inflateInfo:xj};function Sj(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Nj=Sj;const ix=Object.prototype.toString,{Z_NO_FLUSH:kj,Z_FINISH:Aj,Z_OK:Rc,Z_STREAM_END:gp,Z_NEED_DICT:vp,Z_STREAM_ERROR:jj,Z_DATA_ERROR:D5,Z_MEM_ERROR:Lj}=Hc;function Gc(e){this.options=Mf.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new H_,this.strm.avail_out=0;let r=ks.inflateInit2(this.strm,t.windowBits);if(r!==Rc)throw new Error(Rl[r]);if(this.header=new Nj,ks.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Ic.string2buf(t.dictionary):ix.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=ks.inflateSetDictionary(this.strm,t.dictionary),r!==Rc)))throw new Error(Rl[r])}Gc.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?Aj:kj,ix.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=ks.inflate(r,a),s===vp&&i&&(s=ks.inflateSetDictionary(r,i),s===Rc?s=ks.inflate(r,a):s===D5&&(s=vp));r.avail_in>0&&s===gp&&r.state.wrap>0&&e[r.next_in]!==0;)ks.inflateReset(r),s=ks.inflate(r,a);switch(s){case jj:case D5:case vp:case Lj:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===gp))if(this.options.to==="string"){let l=Ic.utf8border(r.output,r.next_out),c=r.next_out-l,d=Ic.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Rc&&o===0)){if(s===gp)return s=ks.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Gc.prototype.onData=function(e){this.chunks.push(e)};Gc.prototype.onEnd=function(e){e===Rc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Mf.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function pg(e,t){const r=new Gc(t);if(r.push(e),r.err)throw r.msg||Rl[r.err];return r.result}function Pj(e,t){return t=t||{},t.raw=!0,pg(e,t)}var Ej=Gc,Cj=pg,Tj=Pj,Oj=pg,Ij=Hc,Rj={Inflate:Ej,inflate:Cj,inflateRaw:Tj,ungzip:Oj,constants:Ij};const{Inflate:Fj,inflate:Mj,inflateRaw:gP,ungzip:vP}=Rj;var B5=Fj,Dj=Mj;const sx=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;sx[e]=t}const U5=4294967295;function Bj(e,t,r){let n=e;for(let i=0;i<r;i++)n=sx[(n^t[i])&255]^n>>>8;return n}function Uj(e,t){return(Bj(U5,e,t)^U5)>>>0}function z5(e,t,r){const n=e.readUint32(),i=Uj(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function ax(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function ox(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function lx(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function ux(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-i]+r[s]>>1)&255}}function cx(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+zj(t[s-i],r[s],r[s-i])&255}}function zj(e,t,r){const n=e+t-r,i=Math.abs(n-e),s=Math.abs(n-t),a=Math.abs(n-r);return i<=s&&i<=a?e:s<=a?t:r}function $j(e,t,r,n,i,s){switch(e){case 0:ax(t,r,i);break;case 1:ox(t,r,i,s);break;case 2:lx(t,r,n,i);break;case 3:ux(t,r,n,i,s);break;case 4:cx(t,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const qj=new Uint16Array([255]),Wj=new Uint8Array(qj.buffer),Hj=Wj[0]===255;function Vj(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let d=0;d<7;d++){const g=a[d],v=Math.ceil((r-g.x)/g.xStep),f=Math.ceil((n-g.y)/g.yStep);if(v<=0||f<=0)continue;const _=v*o,S=new Uint8Array(_);for(let k=0;k<f;k++){const w=t[c++],x=t.subarray(c,c+_);c+=_;const N=new Uint8Array(_);$j(w,x,N,S,_,o),S.set(N);for(let P=0;P<v;P++){const Y=g.x+P*g.xStep,D=g.y+k*g.yStep;if(!(Y>=r||D>=n))for(let H=0;H<o;H++)l[(D*r+Y)*o+H]=N[P*o+H]}}}if(s===16){const d=new Uint16Array(l.buffer);if(Hj)for(let g=0;g<d.length;g++)d[g]=Gj(d[g]);return d}else return l}function Gj(e){return(e&255)<<8|e>>8&255}const Kj=new Uint16Array([255]),Jj=new Uint8Array(Kj.buffer),Yj=Jj[0]===255,Zj=new Uint8Array(0);function $5(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),l=new Uint8Array(n*o);let c=Zj,d=0,g,v;for(let f=0;f<n;f++){switch(g=t.subarray(d+1,d+1+o),v=l.subarray(f*o,(f+1)*o),t[d]){case 0:ax(g,v,o);break;case 1:ox(g,v,o,a);break;case 2:lx(g,v,c,o);break;case 3:ux(g,v,c,o,a);break;case 4:cx(g,v,c,o,a);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}c=v,d+=o+1}if(s===16){const f=new Uint16Array(l.buffer);if(Yj)for(let _=0;_<f.length;_++)f[_]=Xj(f[_]);return f}else return l}function Xj(e){return(e&255)<<8|e>>8&255}const Nh=Uint8Array.of(137,80,78,71,13,10,26,10);function q5(e){if(!Qj(e.readBytes(Nh.length)))throw new Error("wrong PNG signature")}function Qj(e){if(e.length<Nh.length)return!1;for(let t=0;t<Nh.length;t++)if(e[t]!==Nh[t])return!1;return!0}const eL="tEXt",tL=0,dx=new TextDecoder("latin1");function rL(e){if(iL(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const nL=/^[\u0000-\u00FF]*$/;function iL(e){if(!nL.test(e))throw new Error("invalid latin1 text")}function sL(e,t,r){const n=hx(t);e[n]=aL(t,r-n.length-1)}function hx(e){for(e.mark();e.readByte()!==tL;);const t=e.offset;e.reset();const r=dx.decode(e.readBytes(t-e.offset-1));return e.skip(1),rL(r),r}function aL(e,t){return dx.decode(e.readBytes(t))}const qn={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},yp={UNKNOWN:-1,DEFLATE:0},W5={UNKNOWN:-1,ADAPTIVE:0},wp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},nh={NONE:0,BACKGROUND:1,PREVIOUS:2},bp={SOURCE:0,OVER:1};class oL extends og{constructor(r,n={}){super(r);Rt(this,"_checkCrc");Rt(this,"_inflator");Rt(this,"_png");Rt(this,"_apng");Rt(this,"_end");Rt(this,"_hasPalette");Rt(this,"_palette");Rt(this,"_hasTransparency");Rt(this,"_transparency");Rt(this,"_compressionMethod");Rt(this,"_filterMethod");Rt(this,"_interlaceMethod");Rt(this,"_colorType");Rt(this,"_isAnimated");Rt(this,"_numberOfFrames");Rt(this,"_numberOfPlays");Rt(this,"_frames");Rt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new B5,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=yp.UNKNOWN,this._filterMethod=W5.UNKNOWN,this._interlaceMethod=wp.UNKNOWN,this._colorType=qn.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(q5(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(q5(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case eL:sL(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?z5(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?z5(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=lL(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case qn.GREYSCALE:i=1;break;case qn.TRUECOLOUR:i=3;break;case qn.INDEXED_COLOUR:i=1;break;case qn.GREYSCALE_ALPHA:i=2;break;case qn.TRUECOLOUR_ALPHA:i=4;break;case qn.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==yp.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case qn.GREYSCALE:case qn.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case qn.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case qn.UNKNOWN:case qn.GREYSCALE_ALPHA:case qn.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=hx(this),i=this.readUint8();if(i!==yp.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Dj(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=$5({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case nh.NONE:break;case nh.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*r.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case nh.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(a*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case bp.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let d=0;d<this._png.channels;d++)r.data[l+d]=n.data[c+d]}break;case bp.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let d=0;d<this._png.channels;d++){const g=n.data[c+this._png.channels-1]/i,v=d%(this._png.channels-1)===0?1:n.data[c+d],f=Math.floor(g*v+(1-g)*r.data[l+d]);r.data[l+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==W5.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===wp.NO_INTERLACE)this._png.data=$5({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===wp.ADAM7)this._png.data=Vj({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:nh.NONE,blendOp:bp.SOURCE,data:r}),this._inflator=new B5,this._writingDataChunks=!1}}function lL(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var H5;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(H5||(H5={}));function uL(e,t){return new oL(e,t).decode()}var ot=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function _p(){ot.console&&typeof ot.console.log=="function"&&ot.console.log.apply(ot.console,arguments)}var qt={log:_p,warn:function(e){ot.console&&(typeof ot.console.warn=="function"?ot.console.warn.apply(ot.console,arguments):_p.call(null,arguments))},error:function(e){ot.console&&(typeof ot.console.error=="function"?ot.console.error.apply(ot.console,arguments):_p(e))}};function xp(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){eo(n.response,t,r)},n.onerror=function(){qt.error("could not download file")},n.send()}function V5(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function ih(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var eo=ot.saveAs||((typeof window>"u"?"undefined":Ft(window))!=="object"||window!==ot?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=ot.URL||ot.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?V5(i.href)?xp(e,t,r):ih(i,i.target="_blank"):ih(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){ih(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(V5(e))xp(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){ih(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Ft(s)!=="object"&&(qt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return xp(e,t,r);var i=e.type==="application/octet-stream",s=/constructor/i.test(ot.HTMLElement)||ot.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Ft(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var l=ot.URL||ot.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function fx(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var kh=ot.atob.bind(ot),G5=ot.btoa.bind(ot);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Sp(e,t){var r=e[0],n=e[1],i=e[2],s=e[3];r=en(r,n,i,s,t[0],7,-680876936),s=en(s,r,n,i,t[1],12,-389564586),i=en(i,s,r,n,t[2],17,606105819),n=en(n,i,s,r,t[3],22,-1044525330),r=en(r,n,i,s,t[4],7,-176418897),s=en(s,r,n,i,t[5],12,1200080426),i=en(i,s,r,n,t[6],17,-1473231341),n=en(n,i,s,r,t[7],22,-45705983),r=en(r,n,i,s,t[8],7,1770035416),s=en(s,r,n,i,t[9],12,-1958414417),i=en(i,s,r,n,t[10],17,-42063),n=en(n,i,s,r,t[11],22,-1990404162),r=en(r,n,i,s,t[12],7,1804603682),s=en(s,r,n,i,t[13],12,-40341101),i=en(i,s,r,n,t[14],17,-1502002290),r=tn(r,n=en(n,i,s,r,t[15],22,1236535329),i,s,t[1],5,-165796510),s=tn(s,r,n,i,t[6],9,-1069501632),i=tn(i,s,r,n,t[11],14,643717713),n=tn(n,i,s,r,t[0],20,-373897302),r=tn(r,n,i,s,t[5],5,-701558691),s=tn(s,r,n,i,t[10],9,38016083),i=tn(i,s,r,n,t[15],14,-660478335),n=tn(n,i,s,r,t[4],20,-405537848),r=tn(r,n,i,s,t[9],5,568446438),s=tn(s,r,n,i,t[14],9,-1019803690),i=tn(i,s,r,n,t[3],14,-187363961),n=tn(n,i,s,r,t[8],20,1163531501),r=tn(r,n,i,s,t[13],5,-1444681467),s=tn(s,r,n,i,t[2],9,-51403784),i=tn(i,s,r,n,t[7],14,1735328473),r=rn(r,n=tn(n,i,s,r,t[12],20,-1926607734),i,s,t[5],4,-378558),s=rn(s,r,n,i,t[8],11,-2022574463),i=rn(i,s,r,n,t[11],16,1839030562),n=rn(n,i,s,r,t[14],23,-35309556),r=rn(r,n,i,s,t[1],4,-1530992060),s=rn(s,r,n,i,t[4],11,1272893353),i=rn(i,s,r,n,t[7],16,-155497632),n=rn(n,i,s,r,t[10],23,-1094730640),r=rn(r,n,i,s,t[13],4,681279174),s=rn(s,r,n,i,t[0],11,-358537222),i=rn(i,s,r,n,t[3],16,-722521979),n=rn(n,i,s,r,t[6],23,76029189),r=rn(r,n,i,s,t[9],4,-640364487),s=rn(s,r,n,i,t[12],11,-421815835),i=rn(i,s,r,n,t[15],16,530742520),r=nn(r,n=rn(n,i,s,r,t[2],23,-995338651),i,s,t[0],6,-198630844),s=nn(s,r,n,i,t[7],10,1126891415),i=nn(i,s,r,n,t[14],15,-1416354905),n=nn(n,i,s,r,t[5],21,-57434055),r=nn(r,n,i,s,t[12],6,1700485571),s=nn(s,r,n,i,t[3],10,-1894986606),i=nn(i,s,r,n,t[10],15,-1051523),n=nn(n,i,s,r,t[1],21,-2054922799),r=nn(r,n,i,s,t[8],6,1873313359),s=nn(s,r,n,i,t[15],10,-30611744),i=nn(i,s,r,n,t[6],15,-1560198380),n=nn(n,i,s,r,t[13],21,1309151649),r=nn(r,n,i,s,t[4],6,-145523070),s=nn(s,r,n,i,t[11],10,-1120210379),i=nn(i,s,r,n,t[2],15,718787259),n=nn(n,i,s,r,t[9],21,-343485551),e[0]=da(r,e[0]),e[1]=da(n,e[1]),e[2]=da(i,e[2]),e[3]=da(s,e[3])}function Bf(e,t,r,n,i,s){return t=da(da(t,e),da(n,s)),da(t<<i|t>>>32-i,r)}function en(e,t,r,n,i,s,a){return Bf(t&r|~t&n,e,t,i,s,a)}function tn(e,t,r,n,i,s,a){return Bf(t&n|r&~n,e,t,i,s,a)}function rn(e,t,r,n,i,s,a){return Bf(t^r^n,e,t,i,s,a)}function nn(e,t,r,n,i,s,a){return Bf(r^(t|~n),e,t,i,s,a)}function px(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Sp(n,cL(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Sp(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,Sp(n,i),n}function cL(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var K5="0123456789abcdef".split("");function dL(e){for(var t="",r=0;r<4;r++)t+=K5[e>>8*r+4&15]+K5[e>>8*r&15];return t}function hL(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function J1(e){return px(e).map(hL).join("")}var fL=function(e){for(var t=0;t<e.length;t++)e[t]=dL(e[t]);return e.join("")}(px("hello"))!="5d41402abc4b2a76b9719d911017c592";function da(e,t){if(fL){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Y1(e,t){var r,n,i,s;if(e!==r){for(var a=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+a.charCodeAt(l))%256,o[l]=o[c],o[c]=d}r=e,n=o}else o=n;var g=t.length,v=0,f=0,_="";for(l=0;l<g;l++)f=(f+(d=o[v=(v+1)%256]))%256,o[v]=o[f],o[f]=d,a=o[(o[v]+o[f])%256],_+=String.fromCharCode(t.charCodeAt(l)^a);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var J5={print:4,modify:8,copy:16,"annot-forms":32};function el(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(J5.perm!==void 0)throw new Error("Invalid permission: "+o);i+=J5[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=J1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Y1(this.encryptionKey,this.padding)}function tl(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function Y5(e){if(Ft(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[r]){var a=t[r][s];try{a[0].apply(e,n)}catch(o){ot.console&&qt.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function uf(e){if(!(this instanceof uf))return new uf(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function mx(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ro(e,t,r,n,i){if(!(this instanceof ro))return new ro(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,mx.call(this,n,i)}function pl(e,t,r,n,i){if(!(this instanceof pl))return new pl(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,mx.call(this,n,i)}function Ke(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",d=null;Ft(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),a=e.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,v={},f={internal:{},__private__:{}};f.__private__.PubSub=Y5;var _="1.3",S=f.__private__.getPdfVersion=function(){return _};f.__private__.setPdfVersion=function(m){_=m};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return k};var w=f.__private__.getPageFormat=function(m){return k[m]};i=i||"a4";var x="compat",N="advanced",P=x;function Y(){this.saveGraphicsState(),B(new et(de,0,0,-de,0,Ba()*de).toString()+" cm"),this.setFontSize(this.getFontSize()/de),c="n",P=N}function D(){this.restoreGraphicsState(),c="S",P=x}var H=f.__private__.combineFontStyleAndFontWeight=function(m,j){if(m=="bold"&&j=="normal"||m=="bold"&&j==400||m=="normal"&&j=="italic"||m=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(m=j==400||j==="normal"?m==="italic"?"italic":"normal":j!=700&&j!=="bold"||m!=="normal"?(j==700?"bold":j)+""+m:"bold"),m};f.advancedAPI=function(m){var j=P===x;return j&&Y.call(this),typeof m!="function"||(m(this),j&&D.call(this)),this},f.compatAPI=function(m){var j=P===N;return j&&D.call(this),typeof m!="function"||(m(this),j&&Y.call(this)),this},f.isAdvancedAPI=function(){return P===N};var z,U=function(m){if(P!==N)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},J=f.roundToPrecision=f.__private__.roundToPrecision=function(m,j){var W=t||j;if(isNaN(m)||isNaN(W))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(W).replace(/0+$/,"")};z=f.hpf=f.__private__.hpf=typeof l=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return J(m,l)}:l==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return J(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return J(m,16)};var T=f.f2=f.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return J(m,2)},F=f.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return J(m,3)},G=f.scale=f.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return P===x?m*de:P===N?m:void 0},K=function(m){return G(function(j){return P===x?Ba()-j:P===N?j:void 0}(m))};f.__private__.setPrecision=f.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(t=parseInt(m,10))};var fe,he="00000000000000000000000000000000",ue=f.__private__.getFileId=function(){return he},X=f.__private__.setFileId=function(m){return he=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():he.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(jr=new el(d.userPermissions,d.userPassword,d.ownerPassword,he)),he};f.setFileId=function(m){return X(m),this},f.getFileId=function(){return ue()};var R=f.__private__.convertDateToPDFDate=function(m){var j=m.getTimezoneOffset(),W=j<0?"+":"-",ee=Math.floor(Math.abs(j/60)),ie=Math.abs(j%60),be=[W,V(ee),"'",V(ie),"'"].join("");return["D:",m.getFullYear(),V(m.getMonth()+1),V(m.getDate()),V(m.getHours()),V(m.getMinutes()),V(m.getSeconds()),be].join("")},oe=f.__private__.convertPDFDateToDate=function(m){var j=parseInt(m.substr(2,4),10),W=parseInt(m.substr(6,2),10)-1,ee=parseInt(m.substr(8,2),10),ie=parseInt(m.substr(10,2),10),be=parseInt(m.substr(12,2),10),xe=parseInt(m.substr(14,2),10);return new Date(j,W,ee,ie,be,xe,0)},Z=f.__private__.setCreationDate=function(m){var j;if(m===void 0&&(m=new Date),m instanceof Date)j=R(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=m}return fe=j},A=f.__private__.getCreationDate=function(m){var j=fe;return m==="jsDate"&&(j=oe(fe)),j};f.setCreationDate=function(m){return Z(m),this},f.getCreationDate=function(m){return A(m)};var M,V=f.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},Q=f.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},re=0,ae=[],ge=[],me=0,ve=[],je=[],Oe=!1,Ce=ge;f.__private__.setCustomOutputDestination=function(m){Oe=!0,Ce=m};var Ge=function(m){Oe||(Ce=m)};f.__private__.resetCustomOutputDestination=function(){Oe=!1,Ce=ge};var B=f.__private__.out=function(m){return m=m.toString(),me+=m.length+1,Ce.push(m),Ce},Ee=f.__private__.write=function(m){return B(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},ft=f.__private__.getArrayBuffer=function(m){for(var j=m.length,W=new ArrayBuffer(j),ee=new Uint8Array(W);j--;)ee[j]=m.charCodeAt(j);return W},Xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Xe};var Ne=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(m){return Ne=P===N?m/de:m,this};var Qe,Ie=f.__private__.getFontSize=f.getFontSize=function(){return P===x?Ne:Ne*de},Ye=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(m){return Ye=m,this},f.__private__.getR2L=f.getR2L=function(){return Ye};var De,dt=f.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))Qe=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');Qe=m}else Qe=parseInt(m,10)};f.__private__.getZoomMode=function(){return Qe};var pt,rt=f.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');De=m};f.__private__.getPageMode=function(){return De};var wt=f.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');pt=m};f.__private__.getLayoutMode=function(){return pt},f.__private__.setDisplayMode=f.setDisplayMode=function(m,j,W){return dt(m),wt(j),rt(W),this};var _t={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(m){if(Object.keys(_t).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _t[m]},f.__private__.getDocumentProperties=function(){return _t},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(m){for(var j in _t)_t.hasOwnProperty(j)&&m[j]&&(_t[j]=m[j]);return this},f.__private__.setDocumentProperty=function(m,j){if(Object.keys(_t).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _t[m]=j};var ze,de,ke,Ze,tt,nt={},it={},jt=[],Te={},We={},Re={},st={},Dt=null,at=0,Je=[],bt=new Y5(f),On=e.hotfixes||[],Xt={},In={},_n=[],et=function m(j,W,ee,ie,be,xe){if(!(this instanceof m))return new m(j,W,ee,ie,be,xe);isNaN(j)&&(j=1),isNaN(W)&&(W=0),isNaN(ee)&&(ee=0),isNaN(ie)&&(ie=1),isNaN(be)&&(be=0),isNaN(xe)&&(xe=0),this._matrix=[j,W,ee,ie,be,xe]};Object.defineProperty(et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(et.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(et.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(et.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(et.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(et.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(et.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),et.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(m)},et.prototype.multiply=function(m){var j=m.sx*this.sx+m.shy*this.shx,W=m.sx*this.shy+m.shy*this.sy,ee=m.shx*this.sx+m.sy*this.shx,ie=m.shx*this.shy+m.sy*this.sy,be=m.tx*this.sx+m.ty*this.shx+this.tx,xe=m.tx*this.shy+m.ty*this.sy+this.ty;return new et(j,W,ee,ie,be,xe)},et.prototype.decompose=function(){var m=this.sx,j=this.shy,W=this.shx,ee=this.sy,ie=this.tx,be=this.ty,xe=Math.sqrt(m*m+j*j),Ue=(m/=xe)*W+(j/=xe)*ee;W-=m*Ue,ee-=j*Ue;var He=Math.sqrt(W*W+ee*ee);return Ue/=He,m*(ee/=He)<j*(W/=He)&&(m=-m,j=-j,Ue=-Ue,xe=-xe),{scale:new et(xe,0,0,He,0,0),translate:new et(1,0,0,1,ie,be),rotate:new et(m,j,-j,m,0,0),skew:new et(1,0,Ue,1,0,0)}},et.prototype.toString=function(m){return this.join(" ")},et.prototype.inversed=function(){var m=this.sx,j=this.shy,W=this.shx,ee=this.sy,ie=this.tx,be=this.ty,xe=1/(m*ee-j*W),Ue=ee*xe,He=-j*xe,lt=-W*xe,mt=m*xe;return new et(Ue,He,lt,mt,-Ue*ie-lt*be,-He*ie-mt*be)},et.prototype.applyToPoint=function(m){var j=m.x*this.sx+m.y*this.shx+this.tx,W=m.x*this.shy+m.y*this.sy+this.ty;return new os(j,W)},et.prototype.applyToRectangle=function(m){var j=this.applyToPoint(m),W=this.applyToPoint(new os(m.x+m.w,m.y+m.h));return new nu(j.x,j.y,W.x-j.x,W.y-j.y)},et.prototype.clone=function(){var m=this.sx,j=this.shy,W=this.shx,ee=this.sy,ie=this.tx,be=this.ty;return new et(m,j,W,ee,ie,be)},f.Matrix=et;var Qn=f.matrixMult=function(m,j){return j.multiply(m)},ei=new et(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=ei;var on=function(m,j){if(!We[m]){var W=(j instanceof ro?"Sh":"P")+(Object.keys(Te).length+1).toString(10);j.id=W,We[m]=W,Te[W]=j,bt.publish("addPattern",j)}};f.ShadingPattern=ro,f.TilingPattern=pl,f.addShadingPattern=function(m,j){return U("addShadingPattern()"),on(m,j),this},f.beginTilingPattern=function(m){U("beginTilingPattern()"),iu(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},f.endTilingPattern=function(m,j){U("endTilingPattern()"),j.stream=je[M].join(`
`),on(m,j),bt.publish("endTilingPattern",j),_n.pop().restore()};var ln,Bt=f.__private__.newObject=function(){var m=tr();return cr(m,!0),m},tr=f.__private__.newObjectDeferred=function(){return re++,ae[re]=function(){return me},re},cr=function(m,j){return j=typeof j=="boolean"&&j,ae[m]=me,j&&B(m+" 0 obj"),m},Ii=f.__private__.newAdditionalObject=function(){var m={objId:tr(),content:""};return ve.push(m),m},Ri=tr(),dr=tr(),Ar=f.__private__.decodeColorString=function(m){var j=m.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length!==5||j[4]!=="k"&&j[4]!=="K"||(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var W=parseFloat(j[0]);j=[W,W,W,"r"]}for(var ee="#",ie=0;ie<3;ie++)ee+=("0"+Math.floor(255*parseFloat(j[ie])).toString(16)).slice(-2);return ee},un=f.__private__.encodeColorString=function(m){var j;typeof m=="string"&&(m={ch1:m});var W=m.ch1,ee=m.ch2,ie=m.ch3,be=m.ch4,xe=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof W=="string"&&W.charAt(0)!=="#"){var Ue=new fx(W);if(Ue.ok)W=Ue.toHex();else if(!/^\d*\.?\d*$/.test(W))throw new Error('Invalid color "'+W+'" passed to jsPDF.encodeColorString.')}if(typeof W=="string"&&/^#[0-9A-Fa-f]{3}$/.test(W)&&(W="#"+W[1]+W[1]+W[2]+W[2]+W[3]+W[3]),typeof W=="string"&&/^#[0-9A-Fa-f]{6}$/.test(W)){var He=parseInt(W.substr(1),16);W=He>>16&255,ee=He>>8&255,ie=255&He}if(ee===void 0||be===void 0&&W===ee&&ee===ie)j=typeof W=="string"?W+" "+xe[0]:m.precision===2?T(W/255)+" "+xe[0]:F(W/255)+" "+xe[0];else if(be===void 0||Ft(be)==="object"){if(be&&!isNaN(be.a)&&be.a===0)return["1.","1.","1.",xe[1]].join(" ");j=typeof W=="string"?[W,ee,ie,xe[1]].join(" "):m.precision===2?[T(W/255),T(ee/255),T(ie/255),xe[1]].join(" "):[F(W/255),F(ee/255),F(ie/255),xe[1]].join(" ")}else j=typeof W=="string"?[W,ee,ie,be,xe[2]].join(" "):m.precision===2?[T(W),T(ee),T(ie),T(be),xe[2]].join(" "):[F(W),F(ee),F(ie),F(be),xe[2]].join(" ");return j},Yr=f.__private__.getFilters=function(){return a},xn=f.__private__.putStream=function(m){var j=(m=m||{}).data||"",W=m.filters||Yr(),ee=m.alreadyAppliedFilters||[],ie=m.addLength1||!1,be=j.length,xe=m.objectId,Ue=function(Lr){return Lr};if(d!==null&&xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ue=jr.encryptor(xe,0));var He={};W===!0&&(W=["FlateEncode"]);var lt=m.additionalKeyValues||[],mt=(He=Ke.API.processDataByFilters!==void 0?Ke.API.processDataByFilters(j,W):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(He.data.length!==0&&(lt.push({key:"Length",value:He.data.length}),ie===!0&&lt.push({key:"Length1",value:be})),mt.length!=0)if(mt.split("/").length-1==1)lt.push({key:"Filter",value:mt});else{lt.push({key:"Filter",value:"["+mt+"]"});for(var Lt=0;Lt<lt.length;Lt+=1)if(lt[Lt].key==="DecodeParms"){for(var rr=[],xr=0;xr<He.reverseChain.split("/").length-1;xr+=1)rr.push("null");rr.push(lt[Lt].value),lt[Lt].value="["+rr.join(" ")+"]"}}B("<<");for(var Wt=0;Wt<lt.length;Wt++)B("/"+lt[Wt].key+" "+lt[Wt].value);B(">>"),He.data.length!==0&&(B("stream"),B(Ue(He.data)),B("endstream"))},rs=f.__private__.putPage=function(m){var j=m.number,W=m.data,ee=m.objId,ie=m.contentsObjId;cr(ee,!0),B("<</Type /Page"),B("/Parent "+m.rootDictionaryObjId+" 0 R"),B("/Resources "+m.resourceDictionaryObjId+" 0 R"),B("/MediaBox ["+parseFloat(z(m.mediaBox.bottomLeftX))+" "+parseFloat(z(m.mediaBox.bottomLeftY))+" "+z(m.mediaBox.topRightX)+" "+z(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&B("/CropBox ["+z(m.cropBox.bottomLeftX)+" "+z(m.cropBox.bottomLeftY)+" "+z(m.cropBox.topRightX)+" "+z(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&B("/BleedBox ["+z(m.bleedBox.bottomLeftX)+" "+z(m.bleedBox.bottomLeftY)+" "+z(m.bleedBox.topRightX)+" "+z(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&B("/TrimBox ["+z(m.trimBox.bottomLeftX)+" "+z(m.trimBox.bottomLeftY)+" "+z(m.trimBox.topRightX)+" "+z(m.trimBox.topRightY)+"]"),m.artBox!==null&&B("/ArtBox ["+z(m.artBox.bottomLeftX)+" "+z(m.artBox.bottomLeftY)+" "+z(m.artBox.topRightX)+" "+z(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&B("/UserUnit "+m.userUnit),bt.publish("putPage",{objId:ee,pageContext:Je[j],pageNumber:j,page:W}),B("/Contents "+ie+" 0 R"),B(">>"),B("endobj");var be=W.join(`
`);return P===N&&(be+=`
Q`),cr(ie,!0),xn({data:be,filters:Yr(),objectId:ie}),B("endobj"),ee},Fi=f.__private__.putPages=function(){var m,j,W=[];for(m=1;m<=at;m++)Je[m].objId=tr(),Je[m].contentsObjId=tr();for(m=1;m<=at;m++)W.push(rs({number:m,data:je[m],objId:Je[m].objId,contentsObjId:Je[m].contentsObjId,mediaBox:Je[m].mediaBox,cropBox:Je[m].cropBox,bleedBox:Je[m].bleedBox,trimBox:Je[m].trimBox,artBox:Je[m].artBox,userUnit:Je[m].userUnit,rootDictionaryObjId:Ri,resourceDictionaryObjId:dr}));cr(Ri,!0),B("<</Type /Pages");var ee="/Kids [";for(j=0;j<at;j++)ee+=W[j]+" 0 R ";B(ee+"]"),B("/Count "+at),B(">>"),B("endobj"),bt.publish("postPutPages")},Ia=function(m){bt.publish("putFont",{font:m,out:B,newObject:Bt,putStream:xn}),m.isAlreadyPutted!==!0&&(m.objectNumber=Bt(),B("<<"),B("/Type /Font"),B("/BaseFont /"+tl(m.postScriptName)),B("/Subtype /Type1"),typeof m.encoding=="string"&&B("/Encoding /"+m.encoding),B("/FirstChar 32"),B("/LastChar 255"),B(">>"),B("endobj"))},jo=function(m){m.objectNumber=Bt();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[z(m.x),z(m.y),z(m.x+m.width),z(m.y+m.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var W=m.pages[1].join(`
`);xn({data:W,additionalKeyValues:j,objectId:m.objectNumber}),B("endobj")},Lo=function(m,j){j||(j=21);var W=Bt(),ee=function(xe,Ue){var He,lt=[],mt=1/(Ue-1);for(He=0;He<1;He+=mt)lt.push(He);if(lt.push(1),xe[0].offset!=0){var Lt={offset:0,color:xe[0].color};xe.unshift(Lt)}if(xe[xe.length-1].offset!=1){var rr={offset:1,color:xe[xe.length-1].color};xe.push(rr)}for(var xr="",Wt=0,Lr=0;Lr<lt.length;Lr++){for(He=lt[Lr];He>xe[Wt+1].offset;)Wt++;var Sr=xe[Wt].offset,zr=(He-Sr)/(xe[Wt+1].offset-Sr),cs=xe[Wt].color,vi=xe[Wt+1].color;xr+=Q(Math.round((1-zr)*cs[0]+zr*vi[0]).toString(16))+Q(Math.round((1-zr)*cs[1]+zr*vi[1]).toString(16))+Q(Math.round((1-zr)*cs[2]+zr*vi[2]).toString(16))}return xr.trim()}(m.colors,j),ie=[];ie.push({key:"FunctionType",value:"0"}),ie.push({key:"Domain",value:"[0.0 1.0]"}),ie.push({key:"Size",value:"["+j+"]"}),ie.push({key:"BitsPerSample",value:"8"}),ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xn({data:ee,additionalKeyValues:ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:W}),B("endobj"),m.objectNumber=Bt(),B("<< /ShadingType "+m.type),B("/ColorSpace /DeviceRGB");var be="/Coords ["+z(parseFloat(m.coords[0]))+" "+z(parseFloat(m.coords[1]))+" ";m.type===2?be+=z(parseFloat(m.coords[2]))+" "+z(parseFloat(m.coords[3])):be+=z(parseFloat(m.coords[2]))+" "+z(parseFloat(m.coords[3]))+" "+z(parseFloat(m.coords[4]))+" "+z(parseFloat(m.coords[5])),B(be+="]"),m.matrix&&B("/Matrix ["+m.matrix.toString()+"]"),B("/Function "+W+" 0 R"),B("/Extend [true true]"),B(">>"),B("endobj")},Po=function(m,j){var W=tr(),ee=Bt();j.push({resourcesOid:W,objectOid:ee}),m.objectNumber=ee;var ie=[];ie.push({key:"Type",value:"/Pattern"}),ie.push({key:"PatternType",value:"1"}),ie.push({key:"PaintType",value:"1"}),ie.push({key:"TilingType",value:"1"}),ie.push({key:"BBox",value:"["+m.boundingBox.map(z).join(" ")+"]"}),ie.push({key:"XStep",value:z(m.xStep)}),ie.push({key:"YStep",value:z(m.yStep)}),ie.push({key:"Resources",value:W+" 0 R"}),m.matrix&&ie.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),xn({data:m.stream,additionalKeyValues:ie,objectId:m.objectNumber}),B("endobj")},Uf=function(m){for(var j in m.objectNumber=Bt(),B("<<"),m)switch(j){case"opacity":B("/ca "+T(m[j]));break;case"stroke-opacity":B("/CA "+T(m[j]))}B(">>"),B("endobj")},Jl=function(m){cr(m.resourcesOid,!0),B("<<"),B("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var j in B("/Font <<"),nt)nt.hasOwnProperty(j)&&(g===!1||g===!0&&v.hasOwnProperty(j))&&B("/"+j+" "+nt[j].objectNumber+" 0 R");B(">>")}(),function(){if(Object.keys(Te).length>0){for(var j in B("/Shading <<"),Te)Te.hasOwnProperty(j)&&Te[j]instanceof ro&&Te[j].objectNumber>=0&&B("/"+j+" "+Te[j].objectNumber+" 0 R");bt.publish("putShadingPatternDict"),B(">>")}}(),function(j){if(Object.keys(Te).length>0){for(var W in B("/Pattern <<"),Te)Te.hasOwnProperty(W)&&Te[W]instanceof f.TilingPattern&&Te[W].objectNumber>=0&&Te[W].objectNumber<j&&B("/"+W+" "+Te[W].objectNumber+" 0 R");bt.publish("putTilingPatternDict"),B(">>")}}(m.objectOid),function(){if(Object.keys(Re).length>0){var j;for(j in B("/ExtGState <<"),Re)Re.hasOwnProperty(j)&&Re[j].objectNumber>=0&&B("/"+j+" "+Re[j].objectNumber+" 0 R");bt.publish("putGStateDict"),B(">>")}}(),function(){for(var j in B("/XObject <<"),Xt)Xt.hasOwnProperty(j)&&Xt[j].objectNumber>=0&&B("/"+j+" "+Xt[j].objectNumber+" 0 R");bt.publish("putXobjectDict"),B(">>")}(),B(">>"),B("endobj")},Kc=function(m){it[m.fontName]=it[m.fontName]||{},it[m.fontName][m.fontStyle]=m.id},Jc=function(m,j,W,ee,ie){var be={id:"F"+(Object.keys(nt).length+1).toString(10),postScriptName:m,fontName:j,fontStyle:W,encoding:ee,isStandardFont:ie||!1,metadata:{}};return bt.publish("addFont",{font:be,instance:this}),nt[be.id]=be,Kc(be),be.id},ti=f.__private__.pdfEscape=f.pdfEscape=function(m,j){return function(W,ee){var ie,be,xe,Ue,He,lt,mt,Lt,rr;if(xe=(ee=ee||{}).sourceEncoding||"Unicode",He=ee.outputEncoding,(ee.autoencode||He)&&nt[ze].metadata&&nt[ze].metadata[xe]&&nt[ze].metadata[xe].encoding&&(Ue=nt[ze].metadata[xe].encoding,!He&&nt[ze].encoding&&(He=nt[ze].encoding),!He&&Ue.codePages&&(He=Ue.codePages[0]),typeof He=="string"&&(He=Ue[He]),He)){for(mt=!1,lt=[],ie=0,be=W.length;ie<be;ie++)(Lt=He[W.charCodeAt(ie)])?lt.push(String.fromCharCode(Lt)):lt.push(W[ie]),lt[ie].charCodeAt(0)>>8&&(mt=!0);W=lt.join("")}for(ie=W.length;mt===void 0&&ie!==0;)W.charCodeAt(ie-1)>>8&&(mt=!0),ie--;if(!mt)return W;for(lt=ee.noBOM?[]:[254,255],ie=0,be=W.length;ie<be;ie++){if((rr=(Lt=W.charCodeAt(ie))>>8)>>8)throw new Error("Character at position "+ie+" of string '"+W+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");lt.push(rr),lt.push(Lt-(rr<<8))}return String.fromCharCode.apply(void 0,lt)}(m,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yl=f.__private__.beginPage=function(m){je[++at]=[],Je[at]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},Zc(at),Ge(je[M])},Yc=function(m,j){var W,ee,ie;switch(r=j||r,typeof m=="string"&&(W=w(m.toLowerCase()),Array.isArray(W)&&(ee=W[0],ie=W[1])),Array.isArray(m)&&(ee=m[0]*de,ie=m[1]*de),isNaN(ee)&&(ee=i[0],ie=i[1]),(ee>14400||ie>14400)&&(qt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),ie=Math.min(14400,ie)),i=[ee,ie],r.substr(0,1)){case"l":ie>ee&&(i=[ie,ee]);break;case"p":ee>ie&&(i=[ie,ee])}Yl(i),ut(Ql),B(Oo),tu!==0&&B(tu+" J"),ru!==0&&B(ru+" j"),bt.publish("addPage",{pageNumber:at})},Zl=function(m){m>0&&m<=at&&(je.splice(m,1),Je.splice(m,1),at--,M>at&&(M=at),this.setPage(M))},Zc=function(m){m>0&&m<=at&&(M=m)},Xc=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return je.length-1},Qc=function(m,j,W){var ee,ie=void 0;return W=W||{},m=m!==void 0?m:nt[ze].fontName,j=j!==void 0?j:nt[ze].fontStyle,ee=m.toLowerCase(),it[ee]!==void 0&&it[ee][j]!==void 0?ie=it[ee][j]:it[m]!==void 0&&it[m][j]!==void 0?ie=it[m][j]:W.disableWarning===!1&&qt.warn("Unable to look up font label for font '"+m+"', '"+j+"'. Refer to getFontList() for available fonts."),ie||W.noFallback||(ie=it.times[j])==null&&(ie=it.times.normal),ie},Mi=f.__private__.putInfo=function(){var m=Bt(),j=function(ee){return ee};for(var W in d!==null&&(j=jr.encryptor(m,0)),B("<<"),B("/Producer ("+ti(j("jsPDF "+Ke.version))+")"),_t)_t.hasOwnProperty(W)&&_t[W]&&B("/"+W.substr(0,1).toUpperCase()+W.substr(1)+" ("+ti(j(_t[W]))+")");B("/CreationDate ("+ti(j(fe))+")"),B(">>"),B("endobj")},Eo=f.__private__.putCatalog=function(m){var j=(m=m||{}).rootDictionaryObjId||Ri;switch(Bt(),B("<<"),B("/Type /Catalog"),B("/Pages "+j+" 0 R"),Qe||(Qe="fullwidth"),Qe){case"fullwidth":B("/OpenAction [3 0 R /FitH null]");break;case"fullheight":B("/OpenAction [3 0 R /FitV null]");break;case"fullpage":B("/OpenAction [3 0 R /Fit]");break;case"original":B("/OpenAction [3 0 R /XYZ null null 1]");break;default:var W=""+Qe;W.substr(W.length-1)==="%"&&(Qe=parseInt(Qe)/100),typeof Qe=="number"&&B("/OpenAction [3 0 R /XYZ null null "+T(Qe)+"]")}switch(pt||(pt="continuous"),pt){case"continuous":B("/PageLayout /OneColumn");break;case"single":B("/PageLayout /SinglePage");break;case"two":case"twoleft":B("/PageLayout /TwoColumnLeft");break;case"tworight":B("/PageLayout /TwoColumnRight")}De&&B("/PageMode /"+De),bt.publish("putCatalog"),B(">>"),B("endobj")},zf=f.__private__.putTrailer=function(){B("trailer"),B("<<"),B("/Size "+(re+1)),B("/Root "+re+" 0 R"),B("/Info "+(re-1)+" 0 R"),d!==null&&B("/Encrypt "+jr.oid+" 0 R"),B("/ID [ <"+he+"> <"+he+"> ]"),B(">>")},_r=f.__private__.putHeader=function(){B("%PDF-"+_),B("%")},ed=f.__private__.putXRef=function(){var m="0000000000";B("xref"),B("0 "+(re+1)),B("0000000000 65535 f ");for(var j=1;j<=re;j++)typeof ae[j]=="function"?B((m+ae[j]()).slice(-10)+" 00000 n "):ae[j]!==void 0?B((m+ae[j]).slice(-10)+" 00000 n "):B("0000000000 00000 n ")},Di=f.__private__.buildDocument=function(){var m;re=0,me=0,ge=[],ae=[],ve=[],Ri=tr(),dr=tr(),Ge(ge),bt.publish("buildDocument"),_r(),Fi(),function(){bt.publish("putAdditionalObjects");for(var W=0;W<ve.length;W++){var ee=ve[W];cr(ee.objId,!0),B(ee.content),B("endobj")}bt.publish("postPutAdditionalObjects")}(),m=[],function(){for(var W in nt)nt.hasOwnProperty(W)&&(g===!1||g===!0&&v.hasOwnProperty(W))&&Ia(nt[W])}(),function(){var W;for(W in Re)Re.hasOwnProperty(W)&&Uf(Re[W])}(),function(){for(var W in Xt)Xt.hasOwnProperty(W)&&jo(Xt[W])}(),function(W){var ee;for(ee in Te)Te.hasOwnProperty(ee)&&(Te[ee]instanceof ro?Lo(Te[ee]):Te[ee]instanceof pl&&Po(Te[ee],W))}(m),bt.publish("putResources"),m.forEach(Jl),Jl({resourcesOid:dr,objectOid:Number.MAX_SAFE_INTEGER}),bt.publish("postPutResources"),d!==null&&(jr.oid=Bt(),B("<<"),B("/Filter /Standard"),B("/V "+jr.v),B("/R "+jr.r),B("/U <"+jr.toHexString(jr.U)+">"),B("/O <"+jr.toHexString(jr.O)+">"),B("/P "+jr.P),B(">>"),B("endobj")),Mi(),Eo();var j=me;return ed(),zf(),B("startxref"),B(""+j),B("%%EOF"),Ge(je[M]),ge.join(`
`)},Co=f.__private__.getBlob=function(m){return new Blob([ft(m)],{type:"application/pdf"})},td=f.output=f.__private__.output=(ln=function(m,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",m){case void 0:return Di();case"save":f.save(j.filename);break;case"arraybuffer":return ft(Di());case"blob":return Co(Di());case"bloburi":case"bloburl":if(ot.URL!==void 0&&typeof ot.URL.createObjectURL=="function")return ot.URL&&ot.URL.createObjectURL(Co(Di()))||void 0;qt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var W="",ee=Di();try{W=G5(ee)}catch{W=G5(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+j.filename+";base64,"+W;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ot)==="[object Window]"){var ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(ie=j.pdfObjectUrl,be="");var xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ie+'"'+be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",Ue=ot.open();return Ue!==null&&Ue.document.write(xe),Ue}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ot)==="[object Window]"){var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',lt=ot.open();if(lt!==null){lt.document.write(He);var mt=this;lt.document.documentElement.querySelector("#pdfViewer").onload=function(){lt.document.title=j.filename,lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mt.output("bloburl"))}}return lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ot)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',rr=ot.open();if(rr!==null&&(rr.document.write(Lt),rr.document.title=j.filename),rr||typeof safari>"u")return rr;break;case"datauri":case"dataurl":return ot.document.location.href=this.output("datauristring",j);default:return null}},ln.foo=function(){try{return ln.apply(this,arguments)}catch(W){var m=W.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var j="Error in function "+m.split(`
`)[0].split("<")[0]+": "+W.message;if(!ot.console)throw new Error(j);ot.console.error(j,W),ot.alert&&alert(j)}},ln.foo.bar=ln,ln.foo),ri=function(m){return Array.isArray(On)===!0&&On.indexOf(m)>-1};switch(n){case"pt":de=1;break;case"mm":de=72/25.4;break;case"cm":de=72/2.54;break;case"in":de=72;break;case"px":de=ri("px_scaling")==1?.75:96/72;break;case"pc":case"em":de=12;break;case"ex":de=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);de=n}var jr=null;Z(),X();var ns=f.__private__.getPageInfo=f.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Je[m].objId,pageNumber:m,pageContext:Je[m]}},rd=f.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in Je)if(Je[j].objId===m)break;return ns(j)},$f=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Je[M].objId,pageNumber:M,pageContext:Je[M]}};f.addPage=function(){return Yc.apply(this,arguments),this},f.setPage=function(){return Zc.apply(this,arguments),Ge.call(this,je[M]),this},f.insertPage=function(m){return this.addPage(),this.movePage(M,m),this},f.movePage=function(m,j){var W,ee;if(m>j){W=je[m],ee=Je[m];for(var ie=m;ie>j;ie--)je[ie]=je[ie-1],Je[ie]=Je[ie-1];je[j]=W,Je[j]=ee,this.setPage(j)}else if(m<j){W=je[m],ee=Je[m];for(var be=m;be<j;be++)je[be]=je[be+1],Je[be]=Je[be+1];je[j]=W,Je[j]=ee,this.setPage(j)}return this},f.deletePage=function(){return Zl.apply(this,arguments),this},f.__private__.text=f.text=function(m,j,W,ee,ie){var be,xe,Ue,He,lt,mt,Lt,rr,xr,Wt=(ee=ee||{}).scope||this;if(typeof m=="number"&&typeof j=="number"&&(typeof W=="string"||Array.isArray(W))){var Lr=W;W=j,j=m,m=Lr}if(arguments[3]instanceof et==0?(Ue=arguments[4],He=arguments[5],Ft(Lt=arguments[3])==="object"&&Lt!==null||(typeof Ue=="string"&&(He=Ue,Ue=null),typeof Lt=="string"&&(He=Lt,Lt=null),typeof Lt=="number"&&(Ue=Lt,Lt=null),ee={flags:Lt,angle:Ue,align:He})):(U("The transform parameter of text() with a Matrix value"),xr=ie),isNaN(j)||isNaN(W)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return Wt;var Sr,zr="",cs=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:Fa,vi=Wt.internal.scaleFactor;function ds(Tt){return Tt=Tt.split("	").join(Array(ee.TabLen||9).join(" ")),ti(Tt,Lt)}function au(Tt){for(var Ut,fr=Tt.concat(),Pr=[],ps=fr.length;ps--;)typeof(Ut=fr.shift())=="string"?Pr.push(Ut):Array.isArray(Tt)&&(Ut.length===1||Ut[1]===void 0&&Ut[2]===void 0)?Pr.push(Ut[0]):Pr.push([Ut[0],Ut[1],Ut[2]]);return Pr}function Ro(Tt,Ut){var fr;if(typeof Tt=="string")fr=Ut(Tt)[0];else if(Array.isArray(Tt)){for(var Pr,ps,gu=Tt.concat(),Do=[],fd=gu.length;fd--;)typeof(Pr=gu.shift())=="string"?Do.push(Ut(Pr)[0]):Array.isArray(Pr)&&typeof Pr[0]=="string"&&(ps=Ut(Pr[0],Pr[1],Pr[2]),Do.push([ps[0],ps[1],ps[2]]));fr=Do}return fr}var Is=!1,Ua=!0;if(typeof m=="string")Is=!0;else if(Array.isArray(m)){var za=m.concat();xe=[];for(var Rs,$r=za.length;$r--;)(typeof(Rs=za.shift())!="string"||Array.isArray(Rs)&&typeof Rs[0]!="string")&&(Ua=!1);Is=Ua}if(Is===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var $a=Ne/Wt.internal.scaleFactor,qa=$a*(cs-1);switch(ee.baseline){case"bottom":W-=qa;break;case"top":W+=$a-qa;break;case"hanging":W+=$a-2*qa;break;case"middle":W+=$a/2-qa}if((mt=ee.maxWidth||0)>0&&(typeof m=="string"?m=Wt.splitTextToSize(m,mt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Tt,Ut){return Tt.concat(Wt.splitTextToSize(Ut,mt))},[]))),be={text:m,x:j,y:W,options:ee,mutex:{pdfEscape:ti,activeFontKey:ze,fonts:nt,activeFontSize:Ne}},bt.publish("preProcessText",be),m=be.text,Ue=(ee=be.options).angle,xr instanceof et==0&&Ue&&typeof Ue=="number"){Ue*=Math.PI/180,ee.rotationDirection===0&&(Ue=-Ue),P===N&&(Ue=-Ue);var ou=Math.cos(Ue),lu=Math.sin(Ue);xr=new et(ou,lu,-lu,ou,0,0)}else Ue&&Ue instanceof et&&(xr=Ue);P!==N||xr||(xr=ei),(lt=ee.charSpace||as)!==void 0&&(zr+=z(G(lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(rr=ee.horizontalScale)!==void 0&&(zr+=z(100*rr)+` Tz
`),ee.lang;var cn=-1,hs=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,Fo=Wt.internal.getCurrentPageInfo().pageContext;switch(hs){case 0:case!1:case"fill":cn=0;break;case 1:case!0:case"stroke":cn=1;break;case 2:case"fillThenStroke":cn=2;break;case 3:case"invisible":cn=3;break;case 4:case"fillAndAddForClipping":cn=4;break;case 5:case"strokeAndAddPathForClipping":cn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":cn=6;break;case 7:case"addToPathForClipping":cn=7}var dd=Fo.usedRenderingMode!==void 0?Fo.usedRenderingMode:-1;cn!==-1?zr+=cn+` Tr
`:dd!==-1&&(zr+=`0 Tr
`),cn!==-1&&(Fo.usedRenderingMode=cn),He=ee.align||"left";var ni,Wa=Ne*cs,uu=Wt.internal.pageSize.getWidth(),cu=nt[ze];lt=ee.charSpace||as,mt=ee.maxWidth||0,Lt=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var Fs=[],Ha=function(Tt){return Wt.getStringUnitWidth(Tt,{font:cu,charSpace:lt,fontSize:Ne,doKerning:!1})*Ne/vi};if(Object.prototype.toString.call(m)==="[object Array]"){var Rn;xe=au(m),He!=="left"&&(ni=xe.map(Ha));var Fn,Ms=0;if(He==="right"){j-=ni[0],m=[],$r=xe.length;for(var fs=0;fs<$r;fs++)fs===0?(Fn=is(j),Rn=ss(W)):(Fn=G(Ms-ni[fs]),Rn=-Wa),m.push([xe[fs],Fn,Rn]),Ms=ni[fs]}else if(He==="center"){j-=ni[0]/2,m=[],$r=xe.length;for(var Ds=0;Ds<$r;Ds++)Ds===0?(Fn=is(j),Rn=ss(W)):(Fn=G((Ms-ni[Ds])/2),Rn=-Wa),m.push([xe[Ds],Fn,Rn]),Ms=ni[Ds]}else if(He==="left"){m=[],$r=xe.length;for(var du=0;du<$r;du++)m.push(xe[du])}else if(He==="justify"&&cu.encoding==="Identity-H"){m=[],$r=xe.length,mt=mt!==0?mt:uu;for(var Mo=0,hr=0;hr<$r;hr++)if(Rn=hr===0?ss(W):-Wa,Fn=hr===0?is(j):Mo,hr<$r-1){var hd=G((mt-ni[hr])/(xe[hr].split(" ").length-1)),Ui=xe[hr].split(" ");m.push([Ui[0]+" ",Fn,Rn]),Mo=0;for(var zi=1;zi<Ui.length;zi++){var hu=(Ha(Ui[zi-1]+" "+Ui[zi])-Ha(Ui[zi]))*vi+hd;zi==Ui.length-1?m.push([Ui[zi],hu,0]):m.push([Ui[zi]+" ",hu,0]),Mo-=hu}}else m.push([xe[hr],Fn,Rn]);m.push(["",Mo,0])}else{if(He!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],$r=xe.length,mt=mt!==0?mt:uu,hr=0;hr<$r;hr++){Rn=hr===0?ss(W):-Wa,Fn=hr===0?is(j):0;var fu=xe[hr].split(" ").length-1,pu=fu>0?(mt-ni[hr])/fu:0;hr<$r-1?Fs.push(z(G(pu))):Fs.push(0),m.push([xe[hr],Fn,Rn])}}}(typeof ee.R2L=="boolean"?ee.R2L:Ye)===!0&&(m=Ro(m,function(Tt,Ut,fr){return[Tt.split("").reverse().join(""),Ut,fr]})),be={text:m,x:j,y:W,options:ee,mutex:{pdfEscape:ti,activeFontKey:ze,fonts:nt,activeFontSize:Ne}},bt.publish("postProcessText",be),m=be.text,Sr=be.mutex.isHex||!1;var mu=nt[ze].encoding;mu!=="WinAnsiEncoding"&&mu!=="StandardEncoding"||(m=Ro(m,function(Tt,Ut,fr){return[ds(Tt),Ut,fr]})),xe=au(m),m=[];for(var Bs,Us,zs,Va=Array.isArray(xe[0])?1:0,$s="",Ga=function(Tt,Ut,fr){var Pr="";return fr instanceof et?(fr=typeof ee.angle=="number"?Qn(fr,new et(1,0,0,1,Tt,Ut)):Qn(new et(1,0,0,1,Tt,Ut),fr),P===N&&(fr=Qn(new et(1,0,0,-1,0,0),fr)),Pr=fr.join(" ")+` Tm
`):Pr=z(Tt)+" "+z(Ut)+` Td
`,Pr},ii=0;ii<xe.length;ii++){switch($s="",Va){case 1:zs=(Sr?"<":"(")+xe[ii][0]+(Sr?">":")"),Bs=parseFloat(xe[ii][1]),Us=parseFloat(xe[ii][2]);break;case 0:zs=(Sr?"<":"(")+xe[ii]+(Sr?">":")"),Bs=is(j),Us=ss(W)}Fs!==void 0&&Fs[ii]!==void 0&&($s=Fs[ii]+` Tw
`),ii===0?m.push($s+Ga(Bs,Us,xr)+zs):Va===0?m.push($s+zs):Va===1&&m.push($s+Ga(Bs,Us,xr)+zs)}m=Va===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var $i=`BT
/`;return $i+=ze+" "+Ne+` Tf
`,$i+=z(Ne*cs)+` TL
`,$i+=Ma+`
`,$i+=zr,$i+=m,B($i+="ET"),v[ze]=!0,Wt};var qf=f.__private__.clip=f.clip=function(m){return B(m==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return qf("evenodd")},f.__private__.discardPath=f.discardPath=function(){return B("n"),this};var Bi=f.__private__.isValidStyle=function(m){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(j=!0),j};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(m){return Bi(m)&&(c=m),this};var nd=f.__private__.getStyle=f.getStyle=function(m){var j=c;switch(m){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=m}return j},id=f.close=function(){return B("h"),this};f.stroke=function(){return B("S"),this},f.fill=function(m){return To("f",m),this},f.fillEvenOdd=function(m){return To("f*",m),this},f.fillStroke=function(m){return To("B",m),this},f.fillStrokeEvenOdd=function(m){return To("B*",m),this};var To=function(m,j){Ft(j)==="object"?Hf(j,m):B(m)},Ra=function(m){m===null||P===N&&m===void 0||(m=nd(m),B(m))};function Wf(m,j,W,ee,ie){var be=new pl(j||this.boundingBox,W||this.xStep,ee||this.yStep,this.gState,ie||this.matrix);be.stream=this.stream;var xe=m+"$$"+this.cloneIndex+++"$$";return on(xe,be),be}var Hf=function(m,j){var W=We[m.key],ee=Te[W];if(ee instanceof ro)B("q"),B(Vf(j)),ee.gState&&f.setGState(ee.gState),B(m.matrix.toString()+" cm"),B("/"+W+" sh"),B("Q");else if(ee instanceof pl){var ie=new et(1,0,0,-1,0,Ba());m.matrix&&(ie=ie.multiply(m.matrix||ei),W=Wf.call(ee,m.key,m.boundingBox,m.xStep,m.yStep,ie).id),B("q"),B("/Pattern cs"),B("/"+W+" scn"),ee.gState&&f.setGState(ee.gState),B(j),B("Q")}},Vf=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Xl=f.moveTo=function(m,j){return B(z(G(m))+" "+z(K(j))+" m"),this},sd=f.lineTo=function(m,j){return B(z(G(m))+" "+z(K(j))+" l"),this},gi=f.curveTo=function(m,j,W,ee,ie,be){return B([z(G(m)),z(K(j)),z(G(W)),z(K(ee)),z(G(ie)),z(K(be)),"c"].join(" ")),this};f.__private__.line=f.line=function(m,j,W,ee,ie){if(isNaN(m)||isNaN(j)||isNaN(W)||isNaN(ee)||!Bi(ie))throw new Error("Invalid arguments passed to jsPDF.line");return P===x?this.lines([[W-m,ee-j]],m,j,[1,1],ie||"S"):this.lines([[W-m,ee-j]],m,j,[1,1]).stroke()},f.__private__.lines=f.lines=function(m,j,W,ee,ie,be){var xe,Ue,He,lt,mt,Lt,rr,xr,Wt,Lr,Sr,zr;if(typeof m=="number"&&(zr=W,W=j,j=m,m=zr),ee=ee||[1,1],be=be||!1,isNaN(j)||isNaN(W)||!Array.isArray(m)||!Array.isArray(ee)||!Bi(ie)||typeof be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xl(j,W),xe=ee[0],Ue=ee[1],lt=m.length,Lr=j,Sr=W,He=0;He<lt;He++)(mt=m[He]).length===2?(Lr=mt[0]*xe+Lr,Sr=mt[1]*Ue+Sr,sd(Lr,Sr)):(Lt=mt[0]*xe+Lr,rr=mt[1]*Ue+Sr,xr=mt[2]*xe+Lr,Wt=mt[3]*Ue+Sr,Lr=mt[4]*xe+Lr,Sr=mt[5]*Ue+Sr,gi(Lt,rr,xr,Wt,Lr,Sr));return be&&id(),Ra(ie),this},f.path=function(m){for(var j=0;j<m.length;j++){var W=m[j],ee=W.c;switch(W.op){case"m":Xl(ee[0],ee[1]);break;case"l":sd(ee[0],ee[1]);break;case"c":gi.apply(this,ee);break;case"h":id()}}return this},f.__private__.rect=f.rect=function(m,j,W,ee,ie){if(isNaN(m)||isNaN(j)||isNaN(W)||isNaN(ee)||!Bi(ie))throw new Error("Invalid arguments passed to jsPDF.rect");return P===x&&(ee=-ee),B([z(G(m)),z(K(j)),z(G(W)),z(G(ee)),"re"].join(" ")),Ra(ie),this},f.__private__.triangle=f.triangle=function(m,j,W,ee,ie,be,xe){if(isNaN(m)||isNaN(j)||isNaN(W)||isNaN(ee)||isNaN(ie)||isNaN(be)||!Bi(xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[W-m,ee-j],[ie-W,be-ee],[m-ie,j-be]],m,j,[1,1],xe,!0),this},f.__private__.roundedRect=f.roundedRect=function(m,j,W,ee,ie,be,xe){if(isNaN(m)||isNaN(j)||isNaN(W)||isNaN(ee)||isNaN(ie)||isNaN(be)||!Bi(xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ue=4/3*(Math.SQRT2-1);return ie=Math.min(ie,.5*W),be=Math.min(be,.5*ee),this.lines([[W-2*ie,0],[ie*Ue,0,ie,be-be*Ue,ie,be],[0,ee-2*be],[0,be*Ue,-ie*Ue,be,-ie,be],[2*ie-W,0],[-ie*Ue,0,-ie,-be*Ue,-ie,-be],[0,2*be-ee],[0,-be*Ue,ie*Ue,-be,ie,-be]],m+ie,j,[1,1],xe,!0),this},f.__private__.ellipse=f.ellipse=function(m,j,W,ee,ie){if(isNaN(m)||isNaN(j)||isNaN(W)||isNaN(ee)||!Bi(ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var be=4/3*(Math.SQRT2-1)*W,xe=4/3*(Math.SQRT2-1)*ee;return Xl(m+W,j),gi(m+W,j-xe,m+be,j-ee,m,j-ee),gi(m-be,j-ee,m-W,j-xe,m-W,j),gi(m-W,j+xe,m-be,j+ee,m,j+ee),gi(m+be,j+ee,m+W,j+xe,m+W,j),Ra(ie),this},f.__private__.circle=f.circle=function(m,j,W,ee){if(isNaN(m)||isNaN(j)||isNaN(W)||!Bi(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,j,W,W,ee)},f.setFont=function(m,j,W){return W&&(j=H(j,W)),ze=Qc(m,j,{disableWarning:!1}),this};var Gf=f.__private__.getFont=f.getFont=function(){return nt[Qc.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var m,j,W={};for(m in it)if(it.hasOwnProperty(m))for(j in W[m]=[],it[m])it[m].hasOwnProperty(j)&&W[m].push(j);return W},f.addFont=function(m,j,W,ee,ie){var be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&be.indexOf(arguments[3])!==-1?ie=arguments[3]:arguments[3]&&be.indexOf(arguments[3])==-1&&(W=H(W,ee)),Jc.call(this,m,j,W,ie=ie||"Identity-H")};var Fa,Ql=e.lineWidth||.200025,Kf=f.__private__.getLineWidth=f.getLineWidth=function(){return Ql},ut=f.__private__.setLineWidth=f.setLineWidth=function(m){return Ql=m,B(z(G(m))+" w"),this};f.__private__.setLineDash=Ke.API.setLineDash=Ke.API.setLineDashPattern=function(m,j){if(m=m||[],j=j||0,isNaN(j)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(W){return z(G(W))}).join(" "),j=z(G(j)),B("["+m+"] "+j+" d"),this};var Jf=f.__private__.getLineHeight=f.getLineHeight=function(){return Ne*Fa};f.__private__.getLineHeight=f.getLineHeight=function(){return Ne*Fa};var Yf=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(Fa=m),this},Zf=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Fa};Yf(e.lineHeight);var is=f.__private__.getHorizontalCoordinate=function(m){return G(m)},ss=f.__private__.getVerticalCoordinate=function(m){return P===N?m:Je[M].mediaBox.topRightY-Je[M].mediaBox.bottomLeftY-G(m)},Xf=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(m){return z(is(m))},Qf=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(m){return z(ss(m))},Oo=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Ar(Oo)},f.__private__.setStrokeColor=f.setDrawColor=function(m,j,W,ee){return Oo=un({ch1:m,ch2:j,ch3:W,ch4:ee,pdfColorType:"draw",precision:2}),B(Oo),this};var eu=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Ar(eu)},f.__private__.setFillColor=f.setFillColor=function(m,j,W,ee){return eu=un({ch1:m,ch2:j,ch3:W,ch4:ee,pdfColorType:"fill",precision:2}),B(eu),this};var Ma=e.textColor||"0 g",e0=f.__private__.getTextColor=f.getTextColor=function(){return Ar(Ma)};f.__private__.setTextColor=f.setTextColor=function(m,j,W,ee){return Ma=un({ch1:m,ch2:j,ch3:W,ch4:ee,pdfColorType:"text",precision:3}),this};var as=e.charSpace,t0=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(as||0)};f.__private__.setCharSpace=f.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return as=m,this};var tu=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(m){var j=f.CapJoinStyles[m];if(j===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tu=j,B(j+" J"),this};var ru=0;f.__private__.setLineJoin=f.setLineJoin=function(m){var j=f.CapJoinStyles[m];if(j===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ru=j,B(j+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return B(z(G(m))+" M"),this},f.GState=uf,f.setGState=function(m){(m=typeof m=="string"?Re[st[m]]:ad(null,m)).equals(Dt)||(B("/"+m.id+" gs"),Dt=m)};var ad=function(m,j){if(!m||!st[m]){var W=!1;for(var ee in Re)if(Re.hasOwnProperty(ee)&&Re[ee].equals(j)){W=!0;break}if(W)j=Re[ee];else{var ie="GS"+(Object.keys(Re).length+1).toString(10);Re[ie]=j,j.id=ie}return m&&(st[m]=j.id),bt.publish("addGState",j),j}};f.addGState=function(m,j){return ad(m,j),this},f.saveGraphicsState=function(){return B("q"),jt.push({key:ze,size:Ne,color:Ma}),this},f.restoreGraphicsState=function(){B("Q");var m=jt.pop();return ze=m.key,Ne=m.size,Ma=m.color,Dt=null,this},f.setCurrentTransformationMatrix=function(m){return B(m.toString()+" cm"),this},f.comment=function(m){return B("#"+m),this};var os=function(m,j){var W=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return W},set:function(be){isNaN(be)||(W=parseFloat(be))}});var ee=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(be){isNaN(be)||(ee=parseFloat(be))}});var ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ie},set:function(be){ie=be.toString()}}),this},nu=function(m,j,W,ee){os.call(this,m,j),this.type="rect";var ie=W||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ie},set:function(xe){isNaN(xe)||(ie=parseFloat(xe))}});var be=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return be},set:function(xe){isNaN(xe)||(be=parseFloat(xe))}}),this},Io=function(){this.page=at,this.currentPage=M,this.pages=je.slice(0),this.pagesContext=Je.slice(0),this.x=ke,this.y=Ze,this.matrix=tt,this.width=su(M),this.height=ld(M),this.outputDestination=Ce,this.id="",this.objectNumber=-1};Io.prototype.restore=function(){at=this.page,M=this.currentPage,Je=this.pagesContext,je=this.pages,ke=this.x,Ze=this.y,tt=this.matrix,od(M,this.width),ls(M,this.height),Ce=this.outputDestination};var iu=function(m,j,W,ee,ie){_n.push(new Io),at=M=0,je=[],ke=m,Ze=j,tt=ie,Yl([W,ee])};for(var Da in f.beginFormObject=function(m,j,W,ee,ie){return iu(m,j,W,ee,ie),this},f.endFormObject=function(m){return function(j){if(In[j])_n.pop().restore();else{var W=new Io,ee="Xo"+(Object.keys(Xt).length+1).toString(10);W.id=ee,In[j]=ee,Xt[ee]=W,bt.publish("addFormObject",W),_n.pop().restore()}}(m),this},f.doFormObject=function(m,j){var W=Xt[In[m]];return B("q"),B(j.toString()+" cm"),B("/"+W.id+" Do"),B("Q"),this},f.getFormObject=function(m){var j=Xt[In[m]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},f.save=function(m,j){return m=m||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(eo(Co(Di()),m),typeof eo.unload=="function"&&ot.setTimeout&&setTimeout(eo.unload,911),this):new Promise(function(W,ee){try{var ie=eo(Co(Di()),m);typeof eo.unload=="function"&&ot.setTimeout&&setTimeout(eo.unload,911),W(ie)}catch(be){ee(be.message)}})},Ke.API)Ke.API.hasOwnProperty(Da)&&(Da==="events"&&Ke.API.events.length?function(m,j){var W,ee,ie;for(ie=j.length-1;ie!==-1;ie--)W=j[ie][0],ee=j[ie][1],m.subscribe.apply(m,[W].concat(typeof ee=="function"?[ee]:ee))}(bt,Ke.API.events):f[Da]=Ke.API[Da]);function su(m){return Je[m].mediaBox.topRightX-Je[m].mediaBox.bottomLeftX}function od(m,j){Je[m].mediaBox.topRightX=j+Je[m].mediaBox.bottomLeftX}function ld(m){return Je[m].mediaBox.topRightY-Je[m].mediaBox.bottomLeftY}function ls(m,j){Je[m].mediaBox.topRightY=j+Je[m].mediaBox.bottomLeftY}var us=f.getPageWidth=function(m){return su(m=m||M)/de},ud=f.setPageWidth=function(m,j){od(m,j*de)},Ba=f.getPageHeight=function(m){return ld(m=m||M)/de},cd=f.setPageHeight=function(m,j){ls(m,j*de)};return f.internal={pdfEscape:ti,getStyle:nd,getFont:Gf,getFontSize:Ie,getCharSpace:t0,getTextColor:e0,getLineHeight:Jf,getLineHeightFactor:Zf,getLineWidth:Kf,write:Ee,getHorizontalCoordinate:is,getVerticalCoordinate:ss,getCoordinateString:Xf,getVerticalCoordinateString:Qf,collections:{},newObject:Bt,newAdditionalObject:Ii,newObjectDeferred:tr,newObjectDeferredBegin:cr,getFilters:Yr,putStream:xn,events:bt,scaleFactor:de,pageSize:{getWidth:function(){return us(M)},setWidth:function(m){ud(M,m)},getHeight:function(){return Ba(M)},setHeight:function(m){cd(M,m)}},encryptionOptions:d,encryption:jr,getEncryptor:function(m){return d!==null?jr.encryptor(m,0):function(j){return j}},output:td,getNumberOfPages:Xc,get pages(){return je},out:B,f2:T,f3:F,getPageInfo:ns,getPageInfoByObjId:rd,getCurrentPageInfo:$f,getPDFVersion:S,Point:os,Rectangle:nu,Matrix:et,hasHotfix:ri},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return us(M)},set:function(m){ud(M,m)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Ba(M)},set:function(m){cd(M,m)},enumerable:!0,configurable:!0}),(function(m){for(var j=0,W=Xe.length;j<W;j++){var ee=Jc.call(this,m[j][0],m[j][1],m[j][2],Xe[j][3],!0);g===!1&&(v[ee]=!0);var ie=m[j][0].split("-");Kc({id:ee,fontName:ie[0],fontStyle:ie[1]||""})}bt.publish("addFonts",{fonts:nt,dictionary:it})}).call(f,Xe),ze="F1",Yc(i,r),bt.publish("initialized"),f}el.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},el.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},el.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},el.prototype.processOwnerPassword=function(e,t){return Y1(J1(t).substr(0,5),e)},el.prototype.encryptor=function(e,t){var r=J1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Y1(r,n)}},uf.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Ft(e)!==Ft(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Ke.API={events:[]},Ke.version="3.0.4";var lr=Ke.API,mg=1,Ao=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ko=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ct=function(e){return e.toFixed(2)},Xs=function(e){return e.toFixed(5)};lr.__acroform__={};var Tn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Z5=function(e){return e*mg},Hi=function(e){var t=new vx,r=Be.internal.getHeight(e)||0,n=Be.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ct(n)),Number(ct(r))],t},pL=lr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},mL=lr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},gL=lr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},vr=lr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gL(e,t-1)},yr=lr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return pL(e,t-1)},wr=lr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return mL(e,t-1)},vL=lr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],s=e[1],a=e[2],o=e[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(ct(l.lowerLeft_X)),Number(ct(l.lowerLeft_Y)),Number(ct(l.upperRight_X)),Number(ct(l.upperRight_Y))]},yL=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Z1(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+ct(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Hi(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},Z1=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=r,a=Be.internal.getHeight(e)||0;a=a<0?-a:a;var o=Be.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(T,F,G){if(T+1<i.length){var K=F+" "+i[T+1][0];return sh(K,e,G).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var c,d,g=sh("3",e,s).height,v=e.multiline?a-s:(a-g)/2,f=v+=2,_=0,S=0,k=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+sh(t,e,s=12).width+", FieldWidth:"+o+`
`;break}for(var w="",x=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var P=!1;if(i[N].length!==1&&k!==i[N].length-1){if((g+2)*(x+2)+2>a)continue e;w+=i[N][k],P=!0,S=N,N--}else{w=(w+=i[N][k]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var Y=parseInt(N),D=l(Y,w,s),H=N>=i.length-1;if(D&&!H){w+=" ",k=0;continue}if(D||H){if(H)S=Y;else if(e.multiline&&(g+2)*(x+2)+2>a)continue e}else{if(!e.multiline||(g+2)*(x+2)+2>a)continue e;S=Y}}for(var z="",U=_;U<=S;U++){var J=i[U];if(e.multiline){if(U===S){z+=J[k]+" ",k=(k+1)%J.length;continue}if(U===_){z+=J[J.length-1]+" ";continue}}z+=J[0]+" "}switch(z=z.substr(z.length-1)==" "?z.substr(0,z.length-1):z,d=sh(z,e,s).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=ct(c)+" "+ct(f)+` Td
`,t+="("+Ao(z)+`) Tj
`,t+=-ct(c)+` 0 Td
`,f=-(s+2),d=0,_=P?S:S+1,x++,w=""}break}return n.text=t,n.fontSize=s,n},sh=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},wL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},bL=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},_L=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ti.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(wL)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");mg=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new yx,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&bL(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=vL(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Be.createDefaultAppearanceStream(o),Ft(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=yL(o);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var g="";for(var v in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(v)){var f=o.appearanceStreamContent[v];if(g+="/"+v+" ",g+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var _=f[a];typeof _=="function"&&(_=_.call(i,o)),g+="/"+a+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=f)=="function"&&(_=_.call(i,o)),g+="/"+a+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);g+=">>"}l.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(S,k){for(var w in S)if(S.hasOwnProperty(w)){var x=w,N=S[w];k.internal.newObjectDeferredBegin(N.objId,!0),Ft(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete S[x]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},gx=lr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Ft(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Ao(n(e[s].toString()))+")"):i+=e[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Np=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Ao(n(e))+")"},Yi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yi.prototype.toString=function(){return this.objId+" 0 R"},Yi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Yi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:gx(i,this.objId,this.scope)}):i instanceof Yi?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var vx=function(){Yi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Tn(vx,Yi);var yx=function(){Yi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ao(r(e))+")"}},set:function(r){e=r}})};Tn(yx,Yi);var Ti=function e(){Yi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vr(t,3)},set:function(w){w?this.F=yr(t,3):this.F=wr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof cf)return;s="FieldObject"+e.FieldNum++}var w=function(x){return x};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Ao(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/mg:c},set:function(w){c=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof cf||this instanceof fo))return Np(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=w}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Br==0?Np(v,this.objId,this.scope):v},set:function(w){w=w.toString(),v=this instanceof Br==0?w.substr(0,1)==="("?Ko(w.substr(1,w.length-2)):Ko(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Br==1?Ko(v.substr(1,v.length-1)):v},set:function(w){w=w.toString(),v=this instanceof Br==1?"/"+w:w}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Br==0?Np(f,this.objId,this.scope):f},set:function(w){w=w.toString(),f=this instanceof Br==0?w.substr(0,1)==="("?Ko(w.substr(1,w.length-2)):Ko(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Br==1?Ko(f.substr(1,f.length-1)):f},set:function(w){w=w.toString(),f=this instanceof Br==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(w){w=!!w,S=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(w){_=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,1)},set:function(w){w?this.Ff=yr(this.Ff,1):this.Ff=wr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,2)},set:function(w){w?this.Ff=yr(this.Ff,2):this.Ff=wr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,3)},set:function(w){w?this.Ff=yr(this.Ff,3):this.Ff=wr(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');k=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(k){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};Tn(Ti,Yi);var xl=function(){Ti.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return gx(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,18)},set:function(r){r?this.Ff=yr(this.Ff,18):this.Ff=wr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=yr(this.Ff,19):this.Ff=wr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,20)},set:function(r){r?(this.Ff=yr(this.Ff,20),t.sort()):this.Ff=wr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,22)},set:function(r){r?this.Ff=yr(this.Ff,22):this.Ff=wr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,23)},set:function(r){r?this.Ff=yr(this.Ff,23):this.Ff=wr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,27)},set:function(r){r?this.Ff=yr(this.Ff,27):this.Ff=wr(this.Ff,27)}}),this.hasAppearanceStream=!1};Tn(xl,Ti);var Sl=function(){xl.call(this),this.fontName="helvetica",this.combo=!1};Tn(Sl,xl);var Nl=function(){Sl.call(this),this.combo=!0};Tn(Nl,Sl);var Ah=function(){Nl.call(this),this.edit=!0};Tn(Ah,Nl);var Br=function(){Ti.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,15)},set:function(r){r?this.Ff=yr(this.Ff,15):this.Ff=wr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,16)},set:function(r){r?this.Ff=yr(this.Ff,16):this.Ff=wr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,17)},set:function(r){r?this.Ff=yr(this.Ff,17):this.Ff=wr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,26)},set:function(r){r?this.Ff=yr(this.Ff,26):this.Ff=wr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Ao(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Ft(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Tn(Br,Ti);var jh=function(){Br.call(this),this.pushButton=!0};Tn(jh,Br);var kl=function(){Br.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Tn(kl,Br);var cf=function(){var e,t;Ti.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Ao(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Ft(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Be.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Tn(cf,Ti),kl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},kl.prototype.createOption=function(e){var t=new cf;return t.Parent=this,t.optionName=e,this.Kids.push(t),xL.call(this.scope,t),t};var Lh=function(){Br.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Be.CheckBox.createAppearanceStream()};Tn(Lh,Br);var fo=function(){Ti.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,13)},set:function(t){t?this.Ff=yr(this.Ff,13):this.Ff=wr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,21)},set:function(t){t?this.Ff=yr(this.Ff,21):this.Ff=wr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,23)},set:function(t){t?this.Ff=yr(this.Ff,23):this.Ff=wr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,24)},set:function(t){t?this.Ff=yr(this.Ff,24):this.Ff=wr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,25)},set:function(t){t?this.Ff=yr(this.Ff,25):this.Ff=wr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,26)},set:function(t){t?this.Ff=yr(this.Ff,26):this.Ff=wr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Tn(fo,Ti);var Ph=function(){fo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,14)},set:function(e){e?this.Ff=yr(this.Ff,14):this.Ff=wr(this.Ff,14)}}),this.password=!0};Tn(Ph,fo);var Be={CheckBox:{createAppearanceStream:function(){return{N:{On:Be.CheckBox.YesNormal},D:{On:Be.CheckBox.YesPushDown,Off:Be.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Hi(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=Z1(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+ct(Be.internal.getWidth(e))+" "+ct(Be.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ct(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Hi(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],s=Be.internal.getHeight(e),a=Be.internal.getWidth(e),o=Z1(e,e.caption);return i.push("1 g"),i.push("0 0 "+ct(a)+" "+ct(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ct(a-1)+" "+ct(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+ct(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Hi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ct(Be.internal.getWidth(e))+" "+ct(Be.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Be.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Be.RadioButton.Circle.YesNormal,t.D[e]=Be.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Hi(e);t.scope=e.scope;var r=[],n=Be.internal.getWidth(e)<=Be.internal.getHeight(e)?Be.internal.getWidth(e)/4:Be.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Be.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Xs(Be.internal.getWidth(e)/2)+" "+Xs(Be.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Hi(e);t.scope=e.scope;var r=[],n=Be.internal.getWidth(e)<=Be.internal.getHeight(e)?Be.internal.getWidth(e)/4:Be.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Be.internal.Bezier_C).toFixed(5)),a=Number((n*Be.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Xs(Be.internal.getWidth(e)/2)+" "+Xs(Be.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Xs(Be.internal.getWidth(e)/2)+" "+Xs(Be.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Hi(e);t.scope=e.scope;var r=[],n=Be.internal.getWidth(e)<=Be.internal.getHeight(e)?Be.internal.getWidth(e)/4:Be.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Be.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Xs(Be.internal.getWidth(e)/2)+" "+Xs(Be.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Be.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Be.RadioButton.Cross.YesNormal,t.D[e]=Be.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Hi(e);t.scope=e.scope;var r=[],n=Be.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+ct(Be.internal.getWidth(e)-2)+" "+ct(Be.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ct(n.x1.x)+" "+ct(n.x1.y)+" m"),r.push(ct(n.x2.x)+" "+ct(n.x2.y)+" l"),r.push(ct(n.x4.x)+" "+ct(n.x4.y)+" m"),r.push(ct(n.x3.x)+" "+ct(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Hi(e);t.scope=e.scope;var r=Be.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+ct(Be.internal.getWidth(e))+" "+ct(Be.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ct(Be.internal.getWidth(e)-2)+" "+ct(Be.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ct(r.x1.x)+" "+ct(r.x1.y)+" m"),n.push(ct(r.x2.x)+" "+ct(r.x2.y)+" l"),n.push(ct(r.x4.x)+" "+ct(r.x4.y)+" m"),n.push(ct(r.x3.x)+" "+ct(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Hi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ct(Be.internal.getWidth(e))+" "+ct(Be.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Be.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Be.internal.getWidth(e),r=Be.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Be.internal.getWidth=function(e){var t=0;return Ft(e)==="object"&&(t=Z5(e.Rect[2])),t},Be.internal.getHeight=function(e){var t=0;return Ft(e)==="object"&&(t=Z5(e.Rect[3])),t};var xL=lr.addField=function(e){if(_L(this,e),!(e instanceof Ti))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};lr.AcroFormChoiceField=xl,lr.AcroFormListBox=Sl,lr.AcroFormComboBox=Nl,lr.AcroFormEditBox=Ah,lr.AcroFormButton=Br,lr.AcroFormPushButton=jh,lr.AcroFormRadioButton=kl,lr.AcroFormCheckBox=Lh,lr.AcroFormTextField=fo,lr.AcroFormPasswordField=Ph,lr.AcroFormAppearance=Be,lr.AcroForm={ChoiceField:xl,ListBox:Sl,ComboBox:Nl,EditBox:Ah,Button:Br,PushButton:jh,RadioButton:kl,CheckBox:Lh,TextField:fo,PasswordField:Ph,Appearance:Be},Ke.AcroForm={ChoiceField:xl,ListBox:Sl,ComboBox:Nl,EditBox:Ah,Button:Br,PushButton:jh,RadioButton:kl,CheckBox:Lh,TextField:fo,PasswordField:Ph,Appearance:Be};function wx(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(T,F){var G,K,fe,he,ue,X=r;if((F=F||r)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(D(T))for(ue in n)for(fe=n[ue],G=0;G<fe.length;G+=1){for(he=!0,K=0;K<fe[G].length;K+=1)if(fe[G][K]!==void 0&&fe[G][K]!==T[K]){he=!1;break}if(he===!0){X=ue;break}}else for(ue in n)for(fe=n[ue],G=0;G<fe.length;G+=1){for(he=!0,K=0;K<fe[G].length;K+=1)if(fe[G][K]!==void 0&&fe[G][K]!==T.charCodeAt(K)){he=!1;break}if(he===!0){X=ue;break}}return X===r&&F!==r&&(X=F),X},s=function T(F){for(var G=this.internal.write,K=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var he=[];if(he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Image"}),he.push({key:"Width",value:F.width}),he.push({key:"Height",value:F.height}),F.colorSpace===w.INDEXED?he.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(he.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===w.DEVICE_CMYK&&he.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),he.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&he.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var ue="",X=0,R=F.transparency.length;X<R;X++)ue+=F.transparency[X]+" "+F.transparency[X]+" ";he.push({key:"Mask",value:"["+ue+"]"})}F.sMask!==void 0&&he.push({key:"SMask",value:F.objectId+1+" 0 R"});var oe=F.filter!==void 0?["/"+F.filter]:void 0;if(K({data:F.data,additionalKeyValues:he,alreadyAppliedFilters:oe,objectId:F.objectId}),G("endobj"),"sMask"in F&&F.sMask!==void 0){var Z,A=(Z=F.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:F.bitsPerComponent,M={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:A,data:F.sMask};"filter"in F&&(M.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(A," /Columns ").concat(F.width),M.filter=F.filter),T.call(this,M)}if(F.colorSpace===w.INDEXED){var V=this.internal.newObject();K({data:z(new Uint8Array(F.palette)),objectId:V}),G("endobj")}},a=function(){var T=this.internal.collections[t+"images"];for(var F in T)s.call(this,T[F])},o=function(){var T,F=this.internal.collections[t+"images"],G=this.internal.write;for(var K in F)G("/I"+(T=F[K]).index,T.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var T=this.internal.collections[t+"images"];return l.call(this),T},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},g=function(T){return typeof e["process"+T.toUpperCase()]=="function"},v=function(T){return Ft(T)==="object"&&T.nodeType===1},f=function(T,F){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var G=""+T.getAttribute("src");if(G.indexOf("data:image/")===0)return kh(unescape(G).split("base64,").pop());var K=e.loadFile(G,!0);if(K!==void 0)return K}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var fe;switch(F){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;default:fe="image/jpeg"}return kh(T.toDataURL(fe,1).split("base64,").pop())}},_=function(T){var F=this.internal.collections[t+"images"];if(F){for(var G in F)if(T===F[G].alias)return F[G]}},S=function(T,F,G){return T||F||(T=-96,F=-96),T<0&&(T=-1*G.width*72/T/this.internal.scaleFactor),F<0&&(F=-1*G.height*72/F/this.internal.scaleFactor),T===0&&(T=F*G.width/G.height),F===0&&(F=T*G.height/G.width),[T,F]},k=function(T,F,G,K,fe,he){var ue=S.call(this,G,K,fe),X=this.internal.getCoordinateString,R=this.internal.getVerticalCoordinateString,oe=c.call(this);if(G=ue[0],K=ue[1],oe[fe.index]=fe,he){he*=Math.PI/180;var Z=Math.cos(he),A=Math.sin(he),M=function(Q){return Q.toFixed(4)},V=[M(Z),M(A),M(-1*A),M(Z),0,0,"cm"]}this.internal.write("q"),he?(this.internal.write([1,"0","0",1,X(T),R(F+K),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([X(G),"0","0",X(K),"0","0","cm"].join(" "))):this.internal.write([X(G),"0","0",X(K),X(T),R(F+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=e.__addimage__.sHashCode=function(T){var F,G,K=0;if(typeof T=="string")for(G=T.length,F=0;F<G;F++)K=(K<<5)-K+T.charCodeAt(F),K|=0;else if(D(T))for(G=T.byteLength/2,F=0;F<G;F++)K=(K<<5)-K+T[F],K|=0;return K},P=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var F=!0;return T.length===0&&(F=!1),T.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(F=!1),F},Y=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var F=T.indexOf(",");return F<0?null:T.substring(0,F).trim().endsWith("base64")?T.substring(F+1):null};e.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},H=e.__addimage__.binaryStringToUint8Array=function(T){for(var F=T.length,G=new Uint8Array(F),K=0;K<F;K++)G[K]=T.charCodeAt(K);return G},z=e.__addimage__.arrayBufferToBinaryString=function(T){for(var F="",G=D(T)?T:new Uint8Array(T),K=0;K<G.length;K+=8192)F+=String.fromCharCode.apply(null,G.subarray(K,K+8192));return F};e.addImage=function(){var T,F,G,K,fe,he,ue,X,R;if(typeof arguments[1]=="number"?(F=r,G=arguments[1],K=arguments[2],fe=arguments[3],he=arguments[4],ue=arguments[5],X=arguments[6],R=arguments[7]):(F=arguments[1],G=arguments[2],K=arguments[3],fe=arguments[4],he=arguments[5],ue=arguments[6],X=arguments[7],R=arguments[8]),Ft(T=arguments[0])==="object"&&!v(T)&&"imageData"in T){var oe=T;T=oe.imageData,F=oe.format||F||r,G=oe.x||G||0,K=oe.y||K||0,fe=oe.w||oe.width||fe,he=oe.h||oe.height||he,ue=oe.alias||ue,X=oe.compression||X,R=oe.rotation||oe.angle||R}var Z=this.internal.getFilters();if(X===void 0&&Z.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(G)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var A=U.call(this,T,F,ue,X);return k.call(this,G,K,fe,he,A,R),this};var U=function(T,F,G,K){var fe,he,ue;if(typeof T=="string"&&i(T)===r){T=unescape(T);var X=J(T,!1);(X!==""||(X=e.loadFile(T,!0))!==void 0)&&(T=X)}if(v(T)&&(T=f(T,F)),F=i(T,F),!g(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((ue=G)==null||ue.length===0)&&(G=function(R){return typeof R=="string"||D(R)?N(R):D(R.data)?N(R.data):null}(T)),(fe=_.call(this,G))||(T instanceof Uint8Array||F==="RGBA"||(he=T,T=H(T)),fe=this["process"+F.toUpperCase()](T,d.call(this),G,function(R){return R&&typeof R=="string"&&(R=R.toUpperCase()),R in e.image_compression?R:x.NONE}(K),he)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},J=e.__addimage__.convertBase64ToBinaryString=function(T,F){F=typeof F!="boolean"||F;var G,K="";if(typeof T=="string"){var fe;G=(fe=Y(T))!==null&&fe!==void 0?fe:T;try{K=kh(G)}catch(he){if(F)throw P(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+he.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};e.getImageProperties=function(T){var F,G,K="";if(v(T)&&(T=f(T)),typeof T=="string"&&i(T)===r&&((K=J(T,!1))===""&&(K=e.loadFile(T)||""),T=K),G=i(T),!g(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(T instanceof Uint8Array||(T=H(T)),!(F=this["process"+G.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=G,F}})(Ke.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ke.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,d=!1,g=0;g<c.length&&!d;g++)switch((n=c[g]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var v=0;v<c.length;v++){n=c[v];var f=this.internal.pdfEscape,_=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(S.objId),x=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(w(n.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(w(x))+") >>",S.content=s;var N=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(S.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var P=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(_(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var Y=this.annotations._nameMap[n.options.name];n.options.pageNumber=Y.page,n.options.top=Y.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var D=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+D+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+s)},options:a,type:"link"})},e.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(r,o).length;a=Math.ceil(c*d)}else o=l,a=c;return this.text(r,n,i,s),i+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-c,o,a,s),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ke.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(S){return t[S.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},o=e.__arabicParser__.isArabicEndLetter=function(S){return a(S)&&s(S)&&t[S.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(S){return a(S)&&i.indexOf(S.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return a(S)&&s(S)&&t[S.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(S){return a(S)&&s(S)&&t[S.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(S){return a(S)&&s(S)&&t[S.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(S){return a(S)&&s(S)&&t[S.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(S){var k=0,w=r,x="",N=0;for(k=0;k<S.length;k+=1)w[S.charCodeAt(k)]!==void 0?(N++,typeof(w=w[S.charCodeAt(k)])=="number"&&(x+=String.fromCharCode(w),w=r,N=0),k===S.length-1&&(w=r,x+=S.charAt(k-(N-1)),k-=N-1,N=0)):(w=r,x+=S.charAt(k-N),k-=N,N=0);return x};e.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&n[S.charCodeAt(0)]!==void 0};var v=e.__arabicParser__.getCorrectForm=function(S,k,w){return a(S)?s(S)===!1?-1:!c(S)||!a(k)&&!a(w)||!a(w)&&o(k)||o(S)&&!a(k)||o(S)&&l(k)||o(S)&&o(k)?0:d(S)&&a(k)&&!o(k)&&a(w)&&c(w)?3:o(S)||!a(w)?1:2:-1},f=function(S){var k=0,w=0,x=0,N="",P="",Y="",D=(S=S||"").split("\\s+"),H=[];for(k=0;k<D.length;k+=1){for(H.push(""),w=0;w<D[k].length;w+=1)N=D[k][w],P=D[k][w-1],Y=D[k][w+1],a(N)?(x=v(N,P,Y),H[k]+=x!==-1?String.fromCharCode(t[N.charCodeAt(0)][x]):N):H[k]+=N;H[k]=g(H[k])}return H.join(" ")},_=e.__arabicParser__.processArabic=e.processArabic=function(){var S,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(k)){var x=0;for(w=[],x=0;x<k.length;x+=1)Array.isArray(k[x])?w.push([f(k[x][0]),k[x][1],k[x][2]]):w.push([f(k[x])]);S=w}else S=f(k);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};e.events.push(["preProcessText",_])}(Ke.API),Ke.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ke.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(S){l=S}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(S){v=S}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(S){_=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),g=c.font||this.getFont(),v=c.scaleFactor||this.internal.scaleFactor,f=0,_=0,S=0,k=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(N,P){return N.concat(k.splitTextToSize(P,w))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)f<(S=this.getStringUnitWidth(l[x],{font:g})*d)&&(f=S);return f!==0&&(_=l.length),{w:f/=v,h:Math.max((_*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/v,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,g=this.internal.__cell__.margins||t,v=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=g.top,f&&v&&(this.printHeaderRow(l.lineNumber,!0),l.y+=v[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,d,g,v){if(n.call(this),!d)throw new Error("No data for PDF table.");var f,_,S,k,w=[],x=[],N=[],P={},Y={},D=[],H=[],z=(v=v||{}).autoSize||!1,U=v.printHeaders!==!1,J=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,T=v.margins||Object.assign({width:this.getPageWidth()},t),F=typeof v.padding=="number"?v.padding:3,G=v.headerBackgroundColor||"#c8c8c8",K=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=J,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=K,this.setFontSize(J),g==null)x=w=Object.keys(d[0]),N=w.map(function(){return"left"});else if(Array.isArray(g)&&Ft(g[0])==="object")for(w=g.map(function(oe){return oe.name}),x=g.map(function(oe){return oe.prompt||oe.name||""}),N=g.map(function(oe){return oe.align||"left"}),f=0;f<g.length;f+=1)Y[g[f].name]=.7499990551181103*g[f].width;else Array.isArray(g)&&typeof g[0]=="string"&&(x=w=g,N=w.map(function(){return"left"}));if(z||Array.isArray(g)&&typeof g[0]=="string")for(f=0;f<w.length;f+=1){for(P[k=w[f]]=d.map(function(oe){return oe[k]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(x[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=P[k],this.setFont(void 0,"normal"),S=0;S<_.length;S+=1)D.push(this.getTextDimensions(_[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Y[k]=Math.max.apply(null,D)+F+F,D=[]}if(U){var fe={};for(f=0;f<w.length;f+=1)fe[w[f]]={},fe[w[f]].text=x[f],fe[w[f]].align=N[f];var he=o.call(this,fe,Y);H=w.map(function(oe){return new s(l,c,Y[oe],he,fe[oe].text,void 0,fe[oe].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var ue=g.reduce(function(oe,Z){return oe[Z.name]=Z.align,oe},{});for(f=0;f<d.length;f+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:f,data:d[f]},this);var X=o.call(this,d[f],Y);for(S=0;S<w.length;S+=1){var R=d[f][w[S]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:f,col:S,data:R},this),a.call(this,new s(l,c,Y[w[S]],X,R,f+2,ue[w[S]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var d=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(l).map(function(f){var _=l[f];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,c[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*g/v+d+d},this).reduce(function(f,_){return Math.max(f,_)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,v.push(d)),d.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(_)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(Ke.API);var bx={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_x=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],X1=wx(_x),xx=[100,200,300,400,500,600,700,800,900],SL=wx(xx);function kp(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return bx[s=s||"normal"]?s:"normal"}(e.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),i=function(s){return typeof X1[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function X5(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var NL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Q5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ey(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function ty(e){return e.trimLeft()}function kL(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function AL(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var ah,ry,ny,Jo,oh,iy,sy,ay,Ap=["times"];function oy(e,t,r,n,i){var s=4,a=uy;switch(i){case Ke.API.image_compression.FAST:s=1,a=ly;break;case Ke.API.image_compression.MEDIUM:s=6,a=cy;break;case Ke.API.image_compression.SLOW:s=9,a=dy}e=function(l,c,d,g){for(var v,f=l.length/c,_=new Uint8Array(l.length+f),S=[jL,ly,uy,cy,dy],k=0;k<f;k+=1){var w=k*c,x=l.subarray(w,w+c);if(g)_.set(g(x,d,v),w+k);else{for(var N=S.length,P=[],Y=0;Y<N;Y+=1)P[Y]=S[Y](x,d,v);var D=PL(P.concat());_.set(P[D],w+k)}v=x}return _}(e,t,Math.ceil(r*n/8),a);var o=B1(e,{level:s});return Ke.API.__addimage__.arrayBufferToBinaryString(o)}function jL(e){var t=Array.apply([],e);return t.unshift(0),t}function ly(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=e[i-t]||0;n[i+1]=e[i]-s+256&255}return n}function uy(e,t,r){var n=e.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=e[s]-a+256&255}return i}function cy(e,t,r){var n=e.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=e[s-t]||0,o=r&&r[s]||0;i[s+1]=e[s]+256-(a+o>>>1)&255}return i}function dy(e,t,r){var n=e.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=LL(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);i[s+1]=e[s]-a+256&255}return i}function LL(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=i&&n<=s?e:i<=s?t:r}function PL(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function jp(e,t,r){var n=t*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return Sx(e,i)>>s&a}function hy(e,t,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(t&o)<<a;(function(c,d,g){if(d+1<c.byteLength)c.setUint16(d,g,!1);else{var v=g>>8&255;c.setUint8(d,v)}})(e,s,Sx(e,s)&~(o<<a)&65535|l)}function Sx(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function EL(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,a=1<<1+(7&i);e[t++],e[t++];var o=null,l=null;s&&(o=t,l=a,t+=3*a);var c=!0,d=[],g=0,v=null,f=0,_=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,_=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var S=e[t++];g=e[t++]|e[t++]<<8,v=e[t++],1&S||(v=null),f=S>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var k=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,P=e[t++],Y=P>>6&1,D=1<<1+(7&P),H=o,z=l,U=!1;P>>7&&(U=!0,H=t,z=D,t+=3*D);var J=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}d.push({x:k,y:w,width:x,height:N,has_local_palette:U,palette_offset:H,palette_size:z,data_offset:J,data_length:t-J,transparent_index:v,interlaced:!!Y,delay:g,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return _},this.frameInfo=function(F){if(F<0||F>=d.length)throw new Error("Frame index out of range.");return d[F]},this.decodeAndBlitFrameBGRA=function(F,G){var K=this.frameInfo(F),fe=K.width*K.height,he=new Uint8Array(fe);fy(e,K.data_offset,he,fe);var ue=K.palette_offset,X=K.transparent_index;X===null&&(X=256);var R=K.width,oe=r-R,Z=R,A=4*(K.y*r+K.x),M=4*((K.y+K.height)*r+K.x),V=A,Q=4*oe;K.interlaced===!0&&(Q+=4*r*7);for(var re=8,ae=0,ge=he.length;ae<ge;++ae){var me=he[ae];if(Z===0&&(Z=R,(V+=Q)>=M&&(Q=4*oe+4*r*(re-1),V=A+(R+oe)*(re<<1),re>>=1)),me===X)V+=4;else{var ve=e[ue+3*me],je=e[ue+3*me+1],Oe=e[ue+3*me+2];G[V++]=Oe,G[V++]=je,G[V++]=ve,G[V++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(F,G){var K=this.frameInfo(F),fe=K.width*K.height,he=new Uint8Array(fe);fy(e,K.data_offset,he,fe);var ue=K.palette_offset,X=K.transparent_index;X===null&&(X=256);var R=K.width,oe=r-R,Z=R,A=4*(K.y*r+K.x),M=4*((K.y+K.height)*r+K.x),V=A,Q=4*oe;K.interlaced===!0&&(Q+=4*r*7);for(var re=8,ae=0,ge=he.length;ae<ge;++ae){var me=he[ae];if(Z===0&&(Z=R,(V+=Q)>=M&&(Q=4*oe+4*r*(re-1),V=A+(R+oe)*(re<<1),re>>=1)),me===X)V+=4;else{var ve=e[ue+3*me],je=e[ue+3*me+1],Oe=e[ue+3*me+2];G[V++]=ve,G[V++]=je,G[V++]=Oe,G[V++]=255}--Z}}}function fy(e,t,r,n){for(var i=e[t++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,d=0,g=0,v=0,f=e[t++],_=new Int32Array(4096),S=null;;){for(;d<16&&f!==0;)g|=e[t++]<<d,d+=8,f===1?f=e[t++]:--f;if(d<l)break;var k=g&c;if(g>>=l,d-=l,k!==s){if(k===a)break;for(var w=k<o?k:S,x=0,N=w;N>s;)N=_[N]>>8,++x;var P=N;if(v+x+(w!==k?1:0)>n)return void qt.log("Warning, gif stream longer than expected.");r[v++]=P;var Y=v+=x;for(w!==k&&(r[v++]=P),N=w;x--;)N=_[N],r[--Y]=255&N,N>>=8;S!==null&&o<4096&&(_[o++]=S<<8|P,o>=c+1&&l<12&&(++l,c=c<<1|1)),S=k}else o=a+1,c=(1<<(l=i+1))-1,S=null}return v!==n&&qt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Lp(e){var t,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),g=new Array(65535),v=new Array(65535),f=new Array(64),_=new Array(64),S=[],k=0,w=7,x=new Array(64),N=new Array(64),P=new Array(64),Y=new Array(256),D=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function he(A,M){for(var V=0,Q=0,re=new Array,ae=1;ae<=16;ae++){for(var ge=1;ge<=A[ae];ge++)re[M[Q]]=[],re[M[Q]][0]=V,re[M[Q]][1]=ae,Q++,V++;V*=2}return re}function ue(A){for(var M=A[0],V=A[1]-1;V>=0;)M&1<<V&&(k|=1<<w),V--,--w<0&&(k==255?(X(255),X(0)):X(k),w=7,k=0)}function X(A){S.push(A)}function R(A){X(A>>8&255),X(255&A)}function oe(A,M,V,Q,re){for(var ae,ge=re[0],me=re[240],ve=function(Ne,Qe){var Ie,Ye,De,dt,pt,rt,wt,_t,ze,de,ke=0;for(ze=0;ze<8;++ze){Ie=Ne[ke],Ye=Ne[ke+1],De=Ne[ke+2],dt=Ne[ke+3],pt=Ne[ke+4],rt=Ne[ke+5],wt=Ne[ke+6];var Ze=Ie+(_t=Ne[ke+7]),tt=Ie-_t,nt=Ye+wt,it=Ye-wt,jt=De+rt,Te=De-rt,We=dt+pt,Re=dt-pt,st=Ze+We,Dt=Ze-We,at=nt+jt,Je=nt-jt;Ne[ke]=st+at,Ne[ke+4]=st-at;var bt=.707106781*(Je+Dt);Ne[ke+2]=Dt+bt,Ne[ke+6]=Dt-bt;var On=.382683433*((st=Re+Te)-(Je=it+tt)),Xt=.5411961*st+On,In=1.306562965*Je+On,_n=.707106781*(at=Te+it),et=tt+_n,Qn=tt-_n;Ne[ke+5]=Qn+Xt,Ne[ke+3]=Qn-Xt,Ne[ke+1]=et+In,Ne[ke+7]=et-In,ke+=8}for(ke=0,ze=0;ze<8;++ze){Ie=Ne[ke],Ye=Ne[ke+8],De=Ne[ke+16],dt=Ne[ke+24],pt=Ne[ke+32],rt=Ne[ke+40],wt=Ne[ke+48];var ei=Ie+(_t=Ne[ke+56]),on=Ie-_t,ln=Ye+wt,Bt=Ye-wt,tr=De+rt,cr=De-rt,Ii=dt+pt,Ri=dt-pt,dr=ei+Ii,Ar=ei-Ii,un=ln+tr,Yr=ln-tr;Ne[ke]=dr+un,Ne[ke+32]=dr-un;var xn=.707106781*(Yr+Ar);Ne[ke+16]=Ar+xn,Ne[ke+48]=Ar-xn;var rs=.382683433*((dr=Ri+cr)-(Yr=Bt+on)),Fi=.5411961*dr+rs,Ia=1.306562965*Yr+rs,jo=.707106781*(un=cr+Bt),Lo=on+jo,Po=on-jo;Ne[ke+40]=Po+Fi,Ne[ke+24]=Po-Fi,Ne[ke+8]=Lo+Ia,Ne[ke+56]=Lo-Ia,ke++}for(ze=0;ze<64;++ze)de=Ne[ze]*Qe[ze],f[ze]=de>0?de+.5|0:de-.5|0;return f}(A,M),je=0;je<64;++je)_[H[je]]=ve[je];var Oe=_[0]-V;V=_[0],Oe==0?ue(Q[0]):(ue(Q[v[ae=32767+Oe]]),ue(g[ae]));for(var Ce=63;Ce>0&&_[Ce]==0;)Ce--;if(Ce==0)return ue(ge),V;for(var Ge,B=1;B<=Ce;){for(var Ee=B;_[B]==0&&B<=Ce;)++B;var ft=B-Ee;if(ft>=16){Ge=ft>>4;for(var Xe=1;Xe<=Ge;++Xe)ue(me);ft&=15}ae=32767+_[B],ue(re[(ft<<4)+v[ae]]),ue(g[ae]),B++}return Ce!=63&&ue(ge),V}function Z(A){A=Math.min(Math.max(A,1),100),s!=A&&(function(M){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var re=a((V[Q]*M+50)/100);re=Math.min(Math.max(re,1),255),o[H[Q]]=re}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var me=a((ae[ge]*M+50)/100);me=Math.min(Math.max(me,1),255),l[H[ge]]=me}for(var ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,Oe=0;Oe<8;Oe++)for(var Ce=0;Ce<8;Ce++)c[je]=1/(o[H[je]]*ve[Oe]*ve[Ce]*8),d[je]=1/(l[H[je]]*ve[Oe]*ve[Ce]*8),je++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),s=A)}this.encode=function(A,M){M&&Z(M),S=new Array,k=0,w=7,R(65496),R(65504),R(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),R(1),R(1),X(0),X(0),function(){R(65499),R(132),X(0);for(var Ye=0;Ye<64;Ye++)X(o[Ye]);X(1);for(var De=0;De<64;De++)X(l[De])}(),function(Ye,De){R(65472),R(17),X(8),R(De),R(Ye),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(A.width,A.height),function(){R(65476),R(418),X(0);for(var Ye=0;Ye<16;Ye++)X(z[Ye+1]);for(var De=0;De<=11;De++)X(U[De]);X(16);for(var dt=0;dt<16;dt++)X(J[dt+1]);for(var pt=0;pt<=161;pt++)X(T[pt]);X(1);for(var rt=0;rt<16;rt++)X(F[rt+1]);for(var wt=0;wt<=11;wt++)X(G[wt]);X(17);for(var _t=0;_t<16;_t++)X(K[_t+1]);for(var ze=0;ze<=161;ze++)X(fe[ze])}(),R(65498),R(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var V=0,Q=0,re=0;k=0,w=7,this.encode.displayName="_encode_";for(var ae,ge,me,ve,je,Oe,Ce,Ge,B,Ee=A.data,ft=A.width,Xe=A.height,Ne=4*ft,Qe=0;Qe<Xe;){for(ae=0;ae<Ne;){for(je=Ne*Qe+ae,Ce=-1,Ge=0,B=0;B<64;B++)Oe=je+(Ge=B>>3)*Ne+(Ce=4*(7&B)),Qe+Ge>=Xe&&(Oe-=Ne*(Qe+1+Ge-Xe)),ae+Ce>=Ne&&(Oe-=ae+Ce-Ne+4),ge=Ee[Oe++],me=Ee[Oe++],ve=Ee[Oe++],x[B]=(D[ge]+D[me+256|0]+D[ve+512|0]>>16)-128,N[B]=(D[ge+768|0]+D[me+1024|0]+D[ve+1280|0]>>16)-128,P[B]=(D[ge+1280|0]+D[me+1536|0]+D[ve+1792|0]>>16)-128;V=oe(x,c,V,t,n),Q=oe(N,d,Q,r,i),re=oe(P,d,re,r,i),ae+=32}Qe+=8}if(w>=0){var Ie=[];Ie[1]=w+1,Ie[0]=(1<<w+1)-1,ue(Ie)}return R(65497),new Uint8Array(S)},e=e||50,function(){for(var A=String.fromCharCode,M=0;M<256;M++)Y[M]=A(M)}(),t=he(z,U),r=he(F,G),n=he(J,T),i=he(K,fe),function(){for(var A=1,M=2,V=1;V<=15;V++){for(var Q=A;Q<M;Q++)v[32767+Q]=V,g[32767+Q]=[],g[32767+Q][1]=V,g[32767+Q][0]=Q;for(var re=-(M-1);re<=-A;re++)v[32767+re]=V,g[32767+re]=[],g[32767+re][1]=V,g[32767+re][0]=M-1+re;A<<=1,M<<=1}}(),function(){for(var A=0;A<256;A++)D[A]=19595*A,D[A+256|0]=38470*A,D[A+512|0]=7471*A+32768,D[A+768|0]=-11059*A,D[A+1024|0]=-21709*A,D[A+1280|0]=32768*A+8421375,D[A+1536|0]=-27439*A,D[A+1792|0]=-5329*A}(),Z(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function xi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function py(e){function t(U){if(!U)throw Error("assert :P")}function r(U,J,T){for(var F=0;4>F;F++)if(U[J+F]!=T.charCodeAt(F))return!0;return!1}function n(U,J,T,F,G){for(var K=0;K<G;K++)U[J+K]=T[F+K]}function i(U,J,T,F){for(var G=0;G<F;G++)U[J+G]=T}function s(U){return new Int32Array(U)}function a(U,J){for(var T=[],F=0;F<U;F++)T.push(new J);return T}function o(U,J){var T=[];return function F(G,K,fe){for(var he=fe[K],ue=0;ue<he&&(G.push(fe.length>K+1?[]:new J),!(fe.length<K+1));ue++)F(G[ue],K+1,fe)}(T,0,U),T}var l=function(){var U=this;function J(u,h){for(var y=1<<h-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function T(u,h,y,b,L){t(!(b%y));do u[h+(b-=y)]=L;while(0<b)}function F(u,h,y,b,L){if(t(2328>=L),512>=L)var E=s(512);else if((E=s(L))==null)return 0;return function(C,O,I,$,te,ce){var q,ne,se=O,ye=1<<I,le=s(16),we=s(16);for(t(te!=0),t($!=null),t(C!=null),t(0<I),ne=0;ne<te;++ne){if(15<$[ne])return 0;++le[$[ne]]}if(le[0]==te)return 0;for(we[1]=0,q=1;15>q;++q){if(le[q]>1<<q)return 0;we[q+1]=we[q]+le[q]}for(ne=0;ne<te;++ne)q=$[ne],0<$[ne]&&(ce[we[q]++]=ne);if(we[15]==1)return($=new G).g=0,$.value=ce[0],T(C,se,1,ye,$),ye;var _e,Ae=-1,Se=ye-1,Ve=0,Me=1,vt=1,$e=1<<I;for(ne=0,q=1,te=2;q<=I;++q,te<<=1){if(Me+=vt<<=1,0>(vt-=le[q]))return 0;for(;0<le[q];--le[q])($=new G).g=q,$.value=ce[ne++],T(C,se+Ve,te,$e,$),Ve=J(Ve,q)}for(q=I+1,te=2;15>=q;++q,te<<=1){if(Me+=vt<<=1,0>(vt-=le[q]))return 0;for(;0<le[q];--le[q]){if($=new G,(Ve&Se)!=Ae){for(se+=$e,_e=1<<(Ae=q)-I;15>Ae&&!(0>=(_e-=le[Ae]));)++Ae,_e<<=1;ye+=$e=1<<(_e=Ae-I),C[O+(Ae=Ve&Se)].g=_e+I,C[O+Ae].value=se-O-Ae}$.g=q-I,$.value=ce[ne++],T(C,se+(Ve>>I),te,$e,$),Ve=J(Ve,q)}}return Me!=2*we[15]-1?0:ye}(u,h,y,b,L,E)}function G(){this.value=this.g=0}function K(){this.value=this.g=0}function fe(){this.G=a(5,G),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ha,K)}function he(u,h,y,b){t(u!=null),t(h!=null),t(2147483648>b),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=y,u.Jd=h,u.Yc=y+b,u.Zc=4<=b?y+b-4+1:y,ge(u)}function ue(u,h){for(var y=0;0<h--;)y|=ve(u,128)<<h;return y}function X(u,h){var y=ue(u,h);return me(u)?-y:y}function R(u,h,y,b){var L,E=0;for(t(u!=null),t(h!=null),t(4294967288>b),u.Sb=b,u.Ra=0,u.u=0,u.h=0,4<b&&(b=4),L=0;L<b;++L)E+=h[y+L]<<8*L;u.Ra=E,u.bb=b,u.oa=h,u.pa=y}function oe(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Ms-8>>>0,++u.bb,u.u-=8;Q(u)&&(u.h=1,u.u=0)}function Z(u,h){if(t(0<=h),!u.h&&h<=Fn){var y=V(u)&Rn[h];return u.u+=h,oe(u),y}return u.h=1,u.u=0}function A(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(u){return u.Ra>>>(u.u&Ms-1)>>>0}function Q(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Ms}function re(u,h){u.u=h,u.h=Q(u)}function ae(u){u.u>=fs&&(t(u.u>=fs),oe(u))}function ge(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function me(u){return ue(u,1)}function ve(u,h){var y=u.Ca;0>u.b&&ge(u);var b=u.b,L=y*h>>>8,E=(u.I>>>b>L)+0;for(E?(y-=L,u.I-=L+1<<b>>>0):y=L+1,b=y,L=0;256<=b;)L+=8,b>>=8;return b=7^L+Ds[b],u.b-=b,u.Ca=(y<<b)-1,E}function je(u,h,y){u[h+0]=y>>24&255,u[h+1]=y>>16&255,u[h+2]=y>>8&255,u[h+3]=255&y}function Oe(u,h){return u[h+0]|u[h+1]<<8}function Ce(u,h){return Oe(u,h)|u[h+2]<<16}function Ge(u,h){return Oe(u,h)|Oe(u,h+2)<<16}function B(u,h){var y=1<<h;return t(u!=null),t(0<h),u.X=s(y),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function Ee(u,h){t(u!=null),t(h!=null),t(u.Xa==h.Xa),n(h.X,0,u.X,0,1<<h.Xa)}function ft(){this.X=[],this.Xa=this.Mb=0}function Xe(u,h,y,b){t(y!=null),t(b!=null);var L=y[0],E=b[0];return L==0&&(L=(u*E+h/2)/h),E==0&&(E=(h*L+u/2)/u),0>=L||0>=E?0:(y[0]=L,b[0]=E,1)}function Ne(u,h){return u+(1<<h)-1>>>h}function Qe(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function Ie(u,h){U[h]=function(y,b,L,E,C,O,I){var $;for($=0;$<C;++$){var te=U[u](O[I+$-1],L,E+$);O[I+$]=Qe(y[b+$],te)}}}function Ye(){this.ud=this.hd=this.jd=0}function De(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function dt(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function pt(u,h){return dt(u+(u-h+.5>>1))}function rt(u,h,y){return Math.abs(h-y)-Math.abs(u-y)}function wt(u,h,y,b,L,E,C){for(b=E[C-1],y=0;y<L;++y)E[C+y]=b=Qe(u[h+y],b)}function _t(u,h,y,b,L){var E;for(E=0;E<y;++E){var C=u[h+E],O=C>>8&255,I=16711935&(I=(I=16711935&C)+((O<<16)+O));b[L+E]=(4278255360&C)+I>>>0}}function ze(u,h){h.jd=255&u,h.hd=u>>8&255,h.ud=u>>16&255}function de(u,h,y,b,L,E){var C;for(C=0;C<b;++C){var O=h[y+C],I=O>>>8,$=O,te=255&(te=(te=O>>>16)+((u.jd<<24>>24)*(I<<24>>24)>>>5));$=255&($=($+=(u.hd<<24>>24)*(I<<24>>24)>>>5)+((u.ud<<24>>24)*(te<<24>>24)>>>5)),L[E+C]=(4278255360&O)+(te<<16)+$}}function ke(u,h,y,b,L){U[h]=function(E,C,O,I,$,te,ce,q,ne){for(I=ce;I<q;++I)for(ce=0;ce<ne;++ce)$[te++]=L(O[b(E[C++])])},U[u]=function(E,C,O,I,$,te,ce){var q=8>>E.b,ne=E.Ea,se=E.K[0],ye=E.w;if(8>q)for(E=(1<<E.b)-1,ye=(1<<q)-1;C<O;++C){var le,we=0;for(le=0;le<ne;++le)le&E||(we=b(I[$++])),te[ce++]=L(se[we&ye]),we>>=q}else U["VP8LMapColor"+y](I,$,se,ye,te,ce,C,O,ne)}}function Ze(u,h,y,b,L){for(y=h+y;h<y;){var E=u[h++];b[L++]=E>>16&255,b[L++]=E>>8&255,b[L++]=255&E}}function tt(u,h,y,b,L){for(y=h+y;h<y;){var E=u[h++];b[L++]=E>>16&255,b[L++]=E>>8&255,b[L++]=255&E,b[L++]=E>>24&255}}function nt(u,h,y,b,L){for(y=h+y;h<y;){var E=(C=u[h++])>>16&240|C>>12&15,C=240&C|C>>28&15;b[L++]=E,b[L++]=C}}function it(u,h,y,b,L){for(y=h+y;h<y;){var E=(C=u[h++])>>16&248|C>>13&7,C=C>>5&224|C>>3&31;b[L++]=E,b[L++]=C}}function jt(u,h,y,b,L){for(y=h+y;h<y;){var E=u[h++];b[L++]=255&E,b[L++]=E>>8&255,b[L++]=E>>16&255}}function Te(u,h,y,b,L,E){if(E==0)for(y=h+y;h<y;)je(b,((E=u[h++])[0]>>24|E[1]>>8&65280|E[2]<<8&16711680|E[3]<<24)>>>0),L+=32;else n(b,L,u,h,y)}function We(u,h){U[h][0]=U[u+"0"],U[h][1]=U[u+"1"],U[h][2]=U[u+"2"],U[h][3]=U[u+"3"],U[h][4]=U[u+"4"],U[h][5]=U[u+"5"],U[h][6]=U[u+"6"],U[h][7]=U[u+"7"],U[h][8]=U[u+"8"],U[h][9]=U[u+"9"],U[h][10]=U[u+"10"],U[h][11]=U[u+"11"],U[h][12]=U[u+"12"],U[h][13]=U[u+"13"],U[h][14]=U[u+"0"],U[h][15]=U[u+"0"]}function Re(u){return u==i0||u==s0||u==wd||u==a0}function st(){this.eb=[],this.size=this.A=this.fb=0}function Dt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function at(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new st,this.f.kb=new Dt,this.sd=null}function Je(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function bt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function On(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Xt(u,h){var y=u.T,b=h.ba.f.RGBA,L=b.eb,E=b.fb+u.ka*b.A,C=ai[h.ba.S],O=u.y,I=u.O,$=u.f,te=u.N,ce=u.ea,q=u.W,ne=h.cc,se=h.dc,ye=h.Mc,le=h.Nc,we=u.ka,_e=u.ka+u.T,Ae=u.U,Se=Ae+1>>1;for(we==0?C(O,I,null,null,$,te,ce,q,$,te,ce,q,L,E,null,null,Ae):(C(h.ec,h.fc,O,I,ne,se,ye,le,$,te,ce,q,L,E-b.A,L,E,Ae),++y);we+2<_e;we+=2)ne=$,se=te,ye=ce,le=q,te+=u.Rc,q+=u.Rc,E+=2*b.A,C(O,(I+=2*u.fa)-u.fa,O,I,ne,se,ye,le,$,te,ce,q,L,E-b.A,L,E,Ae);return I+=u.fa,u.j+_e<u.o?(n(h.ec,h.fc,O,I,Ae),n(h.cc,h.dc,$,te,Se),n(h.Mc,h.Nc,ce,q,Se),y--):1&_e||C(O,I,null,null,$,te,ce,q,$,te,ce,q,L,E+b.A,null,null,Ae),y}function In(u,h,y){var b=u.F,L=[u.J];if(b!=null){var E=u.U,C=h.ba.S,O=C==yd||C==wd;h=h.ba.f.RGBA;var I=[0],$=u.ka;I[0]=u.T,u.Kb&&($==0?--I[0]:(--$,L[0]-=u.width),u.j+u.ka+u.T==u.o&&(I[0]=u.o-u.j-$));var te=h.eb;$=h.fb+$*h.A,u=Sg(b,L[0],u.width,E,I,te,$+(O?0:3),h.A),t(y==I),u&&Re(C)&&vu(te,$,O,E,I,h.A)}return 0}function _n(u){var h=u.ma,y=h.ba.S,b=11>y,L=y==gd||y==vd||y==yd||y==n0||y==12||Re(y);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!uu(h.Oa,u,L?11:12))return 0;if(L&&Re(y)&&au(),u.da)alert("todo:use_scaling");else{if(b){if(h.Ib=On,u.Kb){if(y=u.U+1>>1,h.memory=s(u.U+2*y),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+y,h.Ib=Xt,au()}}else alert("todo:EmitYUV");L&&(h.Jb=In,b&&vi())}if(b&&!Ug){for(u=0;256>u;++u)Hx[u]=89858*(u-128)+_d>>bd,Kx[u]=-22014*(u-128)+_d,Gx[u]=-45773*(u-128),Vx[u]=113618*(u-128)+_d>>bd;for(u=wu;u<u0;++u)h=76283*(u-16)+_d>>bd,Jx[u-wu]=Mi(h,255),Yx[u-wu]=Mi(h+8>>4,15);Ug=1}return 1}function et(u){var h=u.ma,y=u.U,b=u.T;return t(!(1&u.ka)),0>=y||0>=b?0:(y=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,y),h.Dc+=y,1)}function Qn(u){u.ma.memory=null}function ei(u,h,y,b){return Z(u,8)!=47?0:(h[0]=Z(u,14)+1,y[0]=Z(u,14)+1,b[0]=Z(u,1),Z(u,3)!=0?0:!u.h)}function on(u,h){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+Z(h,y)+1}function ln(u,h){return 120<h?h-120:1<=(y=((y=Cx[h-1])>>4)*u+(8-(15&y)))?y:1;var y}function Bt(u,h,y){var b=V(y),L=u[h+=255&b].g-8;return 0<L&&(re(y,y.u+8),b=V(y),h+=u[h].value,h+=b&(1<<L)-1),re(y,y.u+u[h].g),u[h].value}function tr(u,h,y){return y.g+=u.g,y.value+=u.value<<h>>>0,t(8>=y.g),u.g}function cr(u,h,y){var b=u.xc;return t((h=b==0?0:u.vc[u.md*(y>>b)+(h>>b)])<u.Wb),u.Ya[h]}function Ii(u,h,y,b){var L=u.ab,E=u.c*h,C=u.C;h=C+h;var O=y,I=b;for(b=u.Ta,y=u.Ua;0<L--;){var $=u.gc[L],te=C,ce=h,q=O,ne=I,se=(I=b,O=y,$.Ea);switch(t(te<ce),t(ce<=$.nc),$.hc){case 2:hr(q,ne,(ce-te)*se,I,O);break;case 0:var ye=te,le=ce,we=I,_e=O,Ae=($e=$).Ea;ye==0&&(du(q,ne,null,null,1,we,_e),wt(q,ne+1,0,0,Ae-1,we,_e+1),ne+=Ae,_e+=Ae,++ye);for(var Se=1<<$e.b,Ve=Se-1,Me=Ne(Ae,$e.b),vt=$e.K,$e=$e.w+(ye>>$e.b)*Me;ye<le;){var Nt=vt,Er=$e,yt=1;for(Mo(q,ne,we,_e-Ae,1,we,_e);yt<Ae;){var qe=(yt&~Ve)+Se;qe>Ae&&(qe=Ae),(0,fu[Nt[Er++]>>8&15])(q,ne+ +yt,we,_e+yt-Ae,qe-yt,we,_e+yt),yt=qe}ne+=Ae,_e+=Ae,++ye&Ve||($e+=Me)}ce!=$.nc&&n(I,O-se,I,O+(ce-te-1)*se,se);break;case 1:for(se=q,le=ne,Ae=(q=$.Ea)-(_e=q&~(we=(ne=1<<$.b)-1)),ye=Ne(q,$.b),Se=$.K,$=$.w+(te>>$.b)*ye;te<ce;){for(Ve=Se,Me=$,vt=new Ye,$e=le+_e,Nt=le+q;le<$e;)ze(Ve[Me++],vt),pu(vt,se,le,ne,I,O),le+=ne,O+=ne;le<Nt&&(ze(Ve[Me++],vt),pu(vt,se,le,Ae,I,O),le+=Ae,O+=Ae),++te&we||($+=ye)}break;case 3:if(q==I&&ne==O&&0<$.b){for(le=I,q=se=O+(ce-te)*se-(_e=(ce-te)*Ne($.Ea,$.b)),ne=I,we=O,ye=[],_e=(Ae=_e)-1;0<=_e;--_e)ye[_e]=ne[we+_e];for(_e=Ae-1;0<=_e;--_e)le[q+_e]=ye[_e];hd($,te,ce,I,se,I,O)}else hd($,te,ce,q,ne,I,O)}O=b,I=y}I!=y&&n(b,y,O,I,E)}function Ri(u,h){var y=u.V,b=u.Ba+u.c*u.C,L=h-u.C;if(t(h<=u.l.o),t(16>=L),0<L){var E=u.l,C=u.Ta,O=u.Ua,I=E.width;if(Ii(u,L,y,b),L=O=[O],t((y=u.C)<(b=h)),t(E.v<E.va),b>E.o&&(b=E.o),y<E.j){var $=E.j-y;y=E.j,L[0]+=$*I}if(y>=b?y=0:(L[0]+=4*E.v,E.ka=y-E.j,E.U=E.va-E.v,E.T=b-y,y=1),y){if(O=O[0],11>(y=u.ca).S){var te=y.f.RGBA,ce=(b=y.S,L=E.U,E=E.T,$=te.eb,te.A),q=E;for(te=te.fb+u.Ma*te.A;0<q--;){var ne=C,se=O,ye=L,le=$,we=te;switch(b){case md:mu(ne,se,ye,le,we);break;case gd:Bs(ne,se,ye,le,we);break;case i0:Bs(ne,se,ye,le,we),vu(le,we,0,ye,1,0);break;case Eg:Va(ne,se,ye,le,we);break;case vd:Te(ne,se,ye,le,we,1);break;case s0:Te(ne,se,ye,le,we,1),vu(le,we,0,ye,1,0);break;case yd:Te(ne,se,ye,le,we,0);break;case wd:Te(ne,se,ye,le,we,0),vu(le,we,1,ye,1,0);break;case n0:Us(ne,se,ye,le,we);break;case a0:Us(ne,se,ye,le,we),xg(le,we,ye,1,0);break;case Cg:zs(ne,se,ye,le,we);break;default:t(0)}O+=I,te+=ce}u.Ma+=E}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=y.height)}}u.C=h,t(u.C<=u.i)}function dr(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var y=u.Ya[h].G,b=u.Ya[h].H;if(0<y[1][b[1]+0].g||0<y[2][b[2]+0].g||0<y[3][b[3]+0].g)return 0}return 1}function Ar(u,h,y,b,L,E){if(u.Z!=0){var C=u.qd,O=u.rd;for(t(Ws[u.Z]!=null);h<y;++h)Ws[u.Z](C,O,b,L,b,L,E),C=b,O=L,L+=E;u.qd=C,u.rd=O}}function un(u,h){var y=u.l.ma,b=y.Z==0||y.Z==1?u.l.j:u.C;if(b=u.C<b?b:u.C,t(h<=u.l.o),h>b){var L=u.l.width,E=y.ca,C=y.tb+L*b,O=u.V,I=u.Ba+u.c*b,$=u.gc;t(u.ab==1),t($[0].hc==3),zi($[0],b,h,O,I,E,C),Ar(y,b,h,E,C,L)}u.C=u.Ma=h}function Yr(u,h,y,b,L,E,C){var O=u.$/b,I=u.$%b,$=u.m,te=u.s,ce=y+u.$,q=ce;L=y+b*L;var ne=y+b*E,se=280+te.ua,ye=u.Pb?O:16777216,le=0<te.ua?te.Wa:null,we=te.wc,_e=ce<ne?cr(te,I,O):null;t(u.C<E),t(ne<=L);var Ae=!1;e:for(;;){for(;Ae||ce<ne;){var Se=0;if(O>=ye){var Ve=ce-y;t((ye=u).Pb),ye.wd=ye.m,ye.xd=Ve,0<ye.s.ua&&Ee(ye.s.Wa,ye.s.vb),ye=O+Ox}if(I&we||(_e=cr(te,I,O)),t(_e!=null),_e.Qb&&(h[ce]=_e.qb,Ae=!0),!Ae)if(ae($),_e.jc){Se=$,Ve=h;var Me=ce,vt=_e.pd[V(Se)&Ha-1];t(_e.jc),256>vt.g?(re(Se,Se.u+vt.g),Ve[Me]=vt.value,Se=0):(re(Se,Se.u+vt.g-256),t(256<=vt.value),Se=vt.value),Se==0&&(Ae=!0)}else Se=Bt(_e.G[0],_e.H[0],$);if($.h)break;if(Ae||256>Se){if(!Ae)if(_e.nd)h[ce]=(_e.qb|Se<<8)>>>0;else{if(ae($),Ae=Bt(_e.G[1],_e.H[1],$),ae($),Ve=Bt(_e.G[2],_e.H[2],$),Me=Bt(_e.G[3],_e.H[3],$),$.h)break;h[ce]=(Me<<24|Ae<<16|Se<<8|Ve)>>>0}if(Ae=!1,++ce,++I>=b&&(I=0,++O,C!=null&&O<=E&&!(O%16)&&C(u,O),le!=null))for(;q<ce;)Se=h[q++],le.X[(506832829*Se&4294967295)>>>le.Mb]=Se}else if(280>Se){if(Se=on(Se-256,$),Ve=Bt(_e.G[4],_e.H[4],$),ae($),Ve=ln(b,Ve=on(Ve,$)),$.h)break;if(ce-y<Ve||L-ce<Se)break e;for(Me=0;Me<Se;++Me)h[ce+Me]=h[ce+Me-Ve];for(ce+=Se,I+=Se;I>=b;)I-=b,++O,C!=null&&O<=E&&!(O%16)&&C(u,O);if(t(ce<=L),I&we&&(_e=cr(te,I,O)),le!=null)for(;q<ce;)Se=h[q++],le.X[(506832829*Se&4294967295)>>>le.Mb]=Se}else{if(!(Se<se))break e;for(Ae=Se-280,t(le!=null);q<ce;)Se=h[q++],le.X[(506832829*Se&4294967295)>>>le.Mb]=Se;Se=ce,t(!(Ae>>>(Ve=le).Xa)),h[Se]=Ve.X[Ae],Ae=!0}Ae||t($.h==Q($))}if(u.Pb&&$.h&&ce<L)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&Ee(u.s.vb,u.s.Wa);else{if($.h)break e;C!=null&&C(u,O>E?E:O),u.a=0,u.$=ce-y}return 1}return u.a=3,0}function xn(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,t(u!=null)}function rs(){var u=new lt;return u==null?null:(u.a=0,u.xb=Ig,We("Predictor","VP8LPredictors"),We("Predictor","VP8LPredictors_C"),We("PredictorAdd","VP8LPredictorsAdd"),We("PredictorAdd","VP8LPredictorsAdd_C"),hr=_t,pu=de,mu=Ze,Bs=tt,Us=nt,zs=it,Va=jt,U.VP8LMapColor32b=Ui,U.VP8LMapColor8b=hu,u)}function Fi(u,h,y,b,L){var E=1,C=[u],O=[h],I=b.m,$=b.s,te=null,ce=0;e:for(;;){if(y)for(;E&&Z(I,1);){var q=C,ne=O,se=b,ye=1,le=se.m,we=se.gc[se.ab],_e=Z(le,2);if(se.Oc&1<<_e)E=0;else{switch(se.Oc|=1<<_e,we.hc=_e,we.Ea=q[0],we.nc=ne[0],we.K=[null],++se.ab,t(4>=se.ab),_e){case 0:case 1:we.b=Z(le,3)+2,ye=Fi(Ne(we.Ea,we.b),Ne(we.nc,we.b),0,se,we.K),we.K=we.K[0];break;case 3:var Ae,Se=Z(le,8)+1,Ve=16<Se?0:4<Se?1:2<Se?2:3;if(q[0]=Ne(we.Ea,Ve),we.b=Ve,Ae=ye=Fi(Se,1,0,se,we.K)){var Me,vt=Se,$e=we,Nt=1<<(8>>$e.b),Er=s(Nt);if(Er==null)Ae=0;else{var yt=$e.K[0],qe=$e.w;for(Er[0]=$e.K[0][0],Me=1;Me<1*vt;++Me)Er[Me]=Qe(yt[qe+Me],Er[Me-1]);for(;Me<4*Nt;++Me)Er[Me]=0;$e.K[0]=null,$e.K[0]=Er,Ae=1}}ye=Ae;break;case 2:break;default:t(0)}E=ye}}if(C=C[0],O=O[0],E&&Z(I,1)&&!(E=1<=(ce=Z(I,4))&&11>=ce)){b.a=3;break e}var Pe;if(Pe=E)t:{var pr,ht,At,Kt=b,qr=C,dn=O,ar=ce,Zr=y,hn=Kt.m,Cr=Kt.s,Pt=[null],Ot=1,or=0,It=Tx[ar];r:for(;;){if(Zr&&Z(hn,1)){var Wr=Z(hn,3)+2,wi=Ne(qr,Wr),mr=Ne(dn,Wr),Sn=wi*mr;if(!Fi(wi,mr,0,Kt,Pt))break r;for(Pt=Pt[0],Cr.xc=Wr,pr=0;pr<Sn;++pr){var zt=Pt[pr]>>8&65535;Pt[pr]=zt,zt>=Ot&&(Ot=zt+1)}}if(hn.h)break r;for(ht=0;5>ht;++ht){var Tr=Tg[ht];!ht&&0<ar&&(Tr+=1<<ar),or<Tr&&(or=Tr)}var Dn=a(Ot*It,G),fn=Ot,Bn=a(fn,fe);if(Bn==null)var Un=null;else t(65536>=fn),Un=Bn;var Nn=s(or);if(Un==null||Nn==null||Dn==null){Kt.a=1;break r}var zn=Dn;for(pr=At=0;pr<Ot;++pr){var Ht=Un[pr],$n=Ht.G,bi=Ht.H,Ka=0,gs=1,Hr=0;for(ht=0;5>ht;++ht){Tr=Tg[ht],$n[ht]=zn,bi[ht]=At,!ht&&0<ar&&(Tr+=1<<ar);i:{var Sd,c0=Tr,Nd=Kt,bu=Nn,Qx=zn,e3=At,d0=0,Hs=Nd.m,t3=Z(Hs,1);if(i(bu,0,0,c0),t3){var r3=Z(Hs,1)+1,n3=Z(Hs,1),qg=Z(Hs,n3==0?1:8);bu[qg]=1,r3==2&&(bu[qg=Z(Hs,8)]=1);var kd=1}else{var Wg=s(19),Hg=Z(Hs,4)+4;if(19<Hg){Nd.a=3;var Ad=0;break i}for(Sd=0;Sd<Hg;++Sd)Wg[Ex[Sd]]=Z(Hs,3);var h0=void 0,_u=void 0,Vg=Nd,i3=Wg,jd=c0,Gg=bu,f0=0,Vs=Vg.m,Kg=8,Jg=a(128,G);n:for(;F(Jg,0,7,i3,19);){if(Z(Vs,1)){var s3=2+2*Z(Vs,3);if((h0=2+Z(Vs,s3))>jd)break n}else h0=jd;for(_u=0;_u<jd&&h0--;){ae(Vs);var Yg=Jg[0+(127&V(Vs))];re(Vs,Vs.u+Yg.g);var Bo=Yg.value;if(16>Bo)Gg[_u++]=Bo,Bo!=0&&(Kg=Bo);else{var a3=Bo==16,Zg=Bo-16,o3=Lx[Zg],Xg=Z(Vs,jx[Zg])+o3;if(_u+Xg>jd)break n;for(var l3=a3?Kg:0;0<Xg--;)Gg[_u++]=l3}}f0=1;break n}f0||(Vg.a=3),kd=f0}(kd=kd&&!Hs.h)&&(d0=F(Qx,e3,8,bu,c0)),kd&&d0!=0?Ad=d0:(Nd.a=3,Ad=0)}if(Ad==0)break r;if(gs&&Px[ht]==1&&(gs=zn[At].g==0),Ka+=zn[At].g,At+=Ad,3>=ht){var xu,p0=Nn[0];for(xu=1;xu<Tr;++xu)Nn[xu]>p0&&(p0=Nn[xu]);Hr+=p0}}if(Ht.nd=gs,Ht.Qb=0,gs&&(Ht.qb=($n[3][bi[3]+0].value<<24|$n[1][bi[1]+0].value<<16|$n[2][bi[2]+0].value)>>>0,Ka==0&&256>$n[0][bi[0]+0].value&&(Ht.Qb=1,Ht.qb+=$n[0][bi[0]+0].value<<8)),Ht.jc=!Ht.Qb&&6>Hr,Ht.jc){var Ld,vs=Ht;for(Ld=0;Ld<Ha;++Ld){var Gs=Ld,Ks=vs.pd[Gs],Pd=vs.G[0][vs.H[0]+Gs];256<=Pd.value?(Ks.g=Pd.g+256,Ks.value=Pd.value):(Ks.g=0,Ks.value=0,Gs>>=tr(Pd,8,Ks),Gs>>=tr(vs.G[1][vs.H[1]+Gs],16,Ks),Gs>>=tr(vs.G[2][vs.H[2]+Gs],0,Ks),tr(vs.G[3][vs.H[3]+Gs],24,Ks))}}}Cr.vc=Pt,Cr.Wb=Ot,Cr.Ya=Un,Cr.yc=Dn,Pe=1;break t}Pe=0}if(!(E=Pe)){b.a=3;break e}if(0<ce){if($.ua=1<<ce,!B($.Wa,ce)){b.a=1,E=0;break e}}else $.ua=0;var m0=b,Qg=C,u3=O,g0=m0.s,v0=g0.xc;if(m0.c=Qg,m0.i=u3,g0.md=Ne(Qg,v0),g0.wc=v0==0?-1:(1<<v0)-1,y){b.xb=Ux;break e}if((te=s(C*O))==null){b.a=1,E=0;break e}E=(E=Yr(b,te,0,C,O,O,null))&&!I.h;break e}return E?(L!=null?L[0]=te:(t(te==null),t(y)),b.$=0,y||xn($)):xn($),E}function Ia(u,h){var y=u.c*u.i,b=y+h+16*h;return t(u.c<=h),u.V=s(b),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+h,1)}function jo(u,h){var y=u.C,b=h-y,L=u.V,E=u.Ba+u.c*y;for(t(h<=u.l.o);0<b;){var C=16<b?16:b,O=u.l.ma,I=u.l.width,$=I*C,te=O.ca,ce=O.tb+I*y,q=u.Ta,ne=u.Ua;Ii(u,C,L,E),Ng(q,ne,te,ce,$),Ar(O,y,y+C,te,ce,I),b-=C,L+=C*u.c,y+=C}t(y==h),u.C=u.Ma=h}function Lo(){this.ub=this.yd=this.td=this.Rb=0}function Po(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Uf(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Jl(){this.Yb=function(){var u=[];return function h(y,b,L){for(var E=L[b],C=0;C<E&&(y.push(L.length>b+1?[]:0),!(L.length<b+1));C++)h(y[C],b+1,L)}(u,0,[3,11]),u}()}function Kc(){this.jb=s(3),this.Wc=o([4,8],Jl),this.Xc=o([4,17],Jl)}function Jc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ti(){this.ld=this.La=this.dd=this.tc=0}function Yl(){this.Na=this.la=0}function Yc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Zc(){this.uc=this.M=this.Nb=0,this.wa=Array(new ti),this.Y=0,this.ya=Array(new Zl),this.aa=0,this.l=new Eo}function Xc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Qc(){this.cb=this.a=0,this.sc="",this.m=new A,this.Od=new Lo,this.Kc=new Po,this.ed=new Jc,this.Qa=new Uf,this.Ic=this.$c=this.Aa=0,this.D=new Zc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,A),this.ia=0,this.pb=a(4,Yc),this.Pa=new Kc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Xc),this.Hd=0,this.rb=Array(new Yl),this.sb=0,this.wa=Array(new ti),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zl),this.L=this.aa=0,this.gd=o([4,2],ti),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mi(u,h){return 0>u?0:u>h?h:u}function Eo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function zf(){var u=new Qc;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,yu||(yu=Co)),u}function _r(u,h,y){return u.a==0&&(u.a=h,u.sc=y,u.cb=0),0}function ed(u,h,y){return 3<=y&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function Di(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return _r(u,2,"null VP8Io passed to VP8GetHeaders()");var y=h.data,b=h.w,L=h.ha;if(4>L)return _r(u,7,"Truncated header.");var E=y[b+0]|y[b+1]<<8|y[b+2]<<16,C=u.Od;if(C.Rb=!(1&E),C.td=E>>1&7,C.yd=E>>4&1,C.ub=E>>5,3<C.td)return _r(u,3,"Incorrect keyframe parameters.");if(!C.yd)return _r(u,4,"Frame not displayable.");b+=3,L-=3;var O=u.Kc;if(C.Rb){if(7>L)return _r(u,7,"cannot parse picture header");if(!ed(y,b,L))return _r(u,3,"Bad code word");O.c=16383&(y[b+4]<<8|y[b+3]),O.Td=y[b+4]>>6,O.i=16383&(y[b+6]<<8|y[b+5]),O.Ud=y[b+6]>>6,b+=7,L-=7,u.za=O.c+15>>4,u.Ub=O.i+15>>4,h.width=O.c,h.height=O.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((E=u.Pa).jb,0,255,E.jb.length),t((E=u.Qa)!=null),E.Cb=0,E.Bb=0,E.Fb=1,i(E.Zb,0,0,E.Zb.length),i(E.Lb,0,0,E.Lb)}if(C.ub>L)return _r(u,7,"bad partition length");he(E=u.m,y,b,C.ub),b+=C.ub,L-=C.ub,C.Rb&&(O.Ld=me(E),O.Kd=me(E)),O=u.Qa;var I,$=u.Pa;if(t(E!=null),t(O!=null),O.Cb=me(E),O.Cb){if(O.Bb=me(E),me(E)){for(O.Fb=me(E),I=0;4>I;++I)O.Zb[I]=me(E)?X(E,7):0;for(I=0;4>I;++I)O.Lb[I]=me(E)?X(E,6):0}if(O.Bb)for(I=0;3>I;++I)$.jb[I]=me(E)?ue(E,8):255}else O.Bb=0;if(E.Ka)return _r(u,3,"cannot parse segment header");if((O=u.ed).zd=me(E),O.Tb=ue(E,6),O.wb=ue(E,3),O.Pc=me(E),O.Pc&&me(E)){for($=0;4>$;++$)me(E)&&(O.vd[$]=X(E,6));for($=0;4>$;++$)me(E)&&(O.od[$]=X(E,6))}if(u.L=O.Tb==0?0:O.zd?1:2,E.Ka)return _r(u,3,"cannot parse filter header");var te=L;if(L=I=b,b=I+te,O=te,u.Xb=(1<<ue(u.m,2))-1,te<3*($=u.Xb))y=7;else{for(I+=3*$,O-=3*$,te=0;te<$;++te){var ce=y[L+0]|y[L+1]<<8|y[L+2]<<16;ce>O&&(ce=O),he(u.Jc[+te],y,I,ce),I+=ce,O-=ce,L+=3}he(u.Jc[+$],y,I,O),y=I<b?0:5}if(y!=0)return _r(u,y,"cannot parse partitions");for(y=ue(I=u.m,7),L=me(I)?X(I,4):0,b=me(I)?X(I,4):0,O=me(I)?X(I,4):0,$=me(I)?X(I,4):0,I=me(I)?X(I,4):0,te=u.Qa,ce=0;4>ce;++ce){if(te.Cb){var q=te.Zb[ce];te.Fb||(q+=y)}else{if(0<ce){u.pb[ce]=u.pb[0];continue}q=y}var ne=u.pb[ce];ne.Sc[0]=o0[Mi(q+L,127)],ne.Sc[1]=l0[Mi(q+0,127)],ne.Eb[0]=2*o0[Mi(q+b,127)],ne.Eb[1]=101581*l0[Mi(q+O,127)]>>16,8>ne.Eb[1]&&(ne.Eb[1]=8),ne.Qc[0]=o0[Mi(q+$,117)],ne.Qc[1]=l0[Mi(q+I,127)],ne.lc=q+I}if(!C.Rb)return _r(u,4,"Not a key frame.");for(me(E),C=u.Pa,y=0;4>y;++y){for(L=0;8>L;++L)for(b=0;3>b;++b)for(O=0;11>O;++O)$=ve(E,Dx[y][L][b][O])?ue(E,8):Fx[y][L][b][O],C.Wc[y][L].Yb[b][O]=$;for(L=0;17>L;++L)C.Xc[y][L]=C.Wc[y][Bx[L]]}return u.kc=me(E),u.kc&&(u.Bd=ue(E,8)),u.cb=1}function Co(u,h,y,b,L,E,C){var O=h[L].Yb[y];for(y=0;16>L;++L){if(!ve(u,O[y+0]))return L;for(;!ve(u,O[y+1]);)if(O=h[++L].Yb[0],y=0,L==16)return 16;var I=h[L+1].Yb;if(ve(u,O[y+2])){var $=u,te=0;if(ve($,(q=O)[(ce=y)+3]))if(ve($,q[ce+6])){for(O=0,ce=2*(te=ve($,q[ce+8]))+(q=ve($,q[ce+9+te])),te=0,q=Ix[ce];q[O];++O)te+=te+ve($,q[O]);te+=3+(8<<ce)}else ve($,q[ce+7])?(te=7+2*ve($,165),te+=ve($,145)):te=5+ve($,159);else te=ve($,q[ce+4])?3+ve($,q[ce+5]):2;O=I[2]}else te=1,O=I[1];I=C+Rx[L],0>($=u).b&&ge($);var ce,q=$.b,ne=(ce=$.Ca>>1)-($.I>>q)>>31;--$.b,$.Ca+=ne,$.Ca|=1,$.I-=(ce+1&ne)<<q,E[I]=((te^ne)-ne)*b[(0<L)+0]}return 16}function td(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function ri(u,h,y,b,L){L=u[h+y+32*b]+(L>>3),u[h+y+32*b]=-256&L?0>L?0:255:L}function jr(u,h,y,b,L,E){ri(u,h,0,y,b+L),ri(u,h,1,y,b+E),ri(u,h,2,y,b-E),ri(u,h,3,y,b-L)}function ns(u){return(20091*u>>16)+u}function rd(u,h,y,b){var L,E=0,C=s(16);for(L=0;4>L;++L){var O=u[h+0]+u[h+8],I=u[h+0]-u[h+8],$=(35468*u[h+4]>>16)-ns(u[h+12]),te=ns(u[h+4])+(35468*u[h+12]>>16);C[E+0]=O+te,C[E+1]=I+$,C[E+2]=I-$,C[E+3]=O-te,E+=4,h++}for(L=E=0;4>L;++L)O=(u=C[E+0]+4)+C[E+8],I=u-C[E+8],$=(35468*C[E+4]>>16)-ns(C[E+12]),ri(y,b,0,0,O+(te=ns(C[E+4])+(35468*C[E+12]>>16))),ri(y,b,1,0,I+$),ri(y,b,2,0,I-$),ri(y,b,3,0,O-te),E++,b+=32}function $f(u,h,y,b){var L=u[h+0]+4,E=35468*u[h+4]>>16,C=ns(u[h+4]),O=35468*u[h+1]>>16;jr(y,b,0,L+C,u=ns(u[h+1]),O),jr(y,b,1,L+E,u,O),jr(y,b,2,L-E,u,O),jr(y,b,3,L-C,u,O)}function qf(u,h,y,b,L){rd(u,h,y,b),L&&rd(u,h+16,y,b+4)}function Bi(u,h,y,b){Ga(u,h+0,y,b,1),Ga(u,h+32,y,b+128,1)}function nd(u,h,y,b){var L;for(u=u[h+0]+4,L=0;4>L;++L)for(h=0;4>h;++h)ri(y,b,h,L,u)}function id(u,h,y,b){u[h+0]&&Tt(u,h+0,y,b),u[h+16]&&Tt(u,h+16,y,b+4),u[h+32]&&Tt(u,h+32,y,b+128),u[h+48]&&Tt(u,h+48,y,b+128+4)}function To(u,h,y,b){var L,E=s(16);for(L=0;4>L;++L){var C=u[h+0+L]+u[h+12+L],O=u[h+4+L]+u[h+8+L],I=u[h+4+L]-u[h+8+L],$=u[h+0+L]-u[h+12+L];E[0+L]=C+O,E[8+L]=C-O,E[4+L]=$+I,E[12+L]=$-I}for(L=0;4>L;++L)C=(u=E[0+4*L]+3)+E[3+4*L],O=E[1+4*L]+E[2+4*L],I=E[1+4*L]-E[2+4*L],$=u-E[3+4*L],y[b+0]=C+O>>3,y[b+16]=$+I>>3,y[b+32]=C-O>>3,y[b+48]=$-I>>3,b+=64}function Ra(u,h,y){var b,L=h-32,E=Mn,C=255-u[L-1];for(b=0;b<y;++b){var O,I=E,$=C+u[h-1];for(O=0;O<y;++O)u[h+O]=I[$+u[L+O]];h+=32}}function Wf(u,h){Ra(u,h,4)}function Hf(u,h){Ra(u,h,8)}function Vf(u,h){Ra(u,h,16)}function Xl(u,h){var y;for(y=0;16>y;++y)n(u,h+32*y,u,h-32,16)}function sd(u,h){var y;for(y=16;0<y;--y)i(u,h,u[h-1],16),h+=32}function gi(u,h,y){var b;for(b=0;16>b;++b)i(h,y+32*b,u,16)}function Gf(u,h){var y,b=16;for(y=0;16>y;++y)b+=u[h-1+32*y]+u[h+y-32];gi(b>>5,u,h)}function Fa(u,h){var y,b=8;for(y=0;16>y;++y)b+=u[h-1+32*y];gi(b>>4,u,h)}function Ql(u,h){var y,b=8;for(y=0;16>y;++y)b+=u[h+y-32];gi(b>>4,u,h)}function Kf(u,h){gi(128,u,h)}function ut(u,h,y){return u+2*h+y+2>>2}function Jf(u,h){var y,b=h-32;for(b=new Uint8Array([ut(u[b-1],u[b+0],u[b+1]),ut(u[b+0],u[b+1],u[b+2]),ut(u[b+1],u[b+2],u[b+3]),ut(u[b+2],u[b+3],u[b+4])]),y=0;4>y;++y)n(u,h+32*y,b,0,b.length)}function Yf(u,h){var y=u[h-1],b=u[h-1+32],L=u[h-1+64],E=u[h-1+96];je(u,h+0,16843009*ut(u[h-1-32],y,b)),je(u,h+32,16843009*ut(y,b,L)),je(u,h+64,16843009*ut(b,L,E)),je(u,h+96,16843009*ut(L,E,E))}function Zf(u,h){var y,b=4;for(y=0;4>y;++y)b+=u[h+y-32]+u[h-1+32*y];for(b>>=3,y=0;4>y;++y)i(u,h+32*y,b,4)}function is(u,h){var y=u[h-1+0],b=u[h-1+32],L=u[h-1+64],E=u[h-1-32],C=u[h+0-32],O=u[h+1-32],I=u[h+2-32],$=u[h+3-32];u[h+0+96]=ut(b,L,u[h-1+96]),u[h+1+96]=u[h+0+64]=ut(y,b,L),u[h+2+96]=u[h+1+64]=u[h+0+32]=ut(E,y,b),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=ut(C,E,y),u[h+3+64]=u[h+2+32]=u[h+1+0]=ut(O,C,E),u[h+3+32]=u[h+2+0]=ut(I,O,C),u[h+3+0]=ut($,I,O)}function ss(u,h){var y=u[h+1-32],b=u[h+2-32],L=u[h+3-32],E=u[h+4-32],C=u[h+5-32],O=u[h+6-32],I=u[h+7-32];u[h+0+0]=ut(u[h+0-32],y,b),u[h+1+0]=u[h+0+32]=ut(y,b,L),u[h+2+0]=u[h+1+32]=u[h+0+64]=ut(b,L,E),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=ut(L,E,C),u[h+3+32]=u[h+2+64]=u[h+1+96]=ut(E,C,O),u[h+3+64]=u[h+2+96]=ut(C,O,I),u[h+3+96]=ut(O,I,I)}function Xf(u,h){var y=u[h-1+0],b=u[h-1+32],L=u[h-1+64],E=u[h-1-32],C=u[h+0-32],O=u[h+1-32],I=u[h+2-32],$=u[h+3-32];u[h+0+0]=u[h+1+64]=E+C+1>>1,u[h+1+0]=u[h+2+64]=C+O+1>>1,u[h+2+0]=u[h+3+64]=O+I+1>>1,u[h+3+0]=I+$+1>>1,u[h+0+96]=ut(L,b,y),u[h+0+64]=ut(b,y,E),u[h+0+32]=u[h+1+96]=ut(y,E,C),u[h+1+32]=u[h+2+96]=ut(E,C,O),u[h+2+32]=u[h+3+96]=ut(C,O,I),u[h+3+32]=ut(O,I,$)}function Qf(u,h){var y=u[h+0-32],b=u[h+1-32],L=u[h+2-32],E=u[h+3-32],C=u[h+4-32],O=u[h+5-32],I=u[h+6-32],$=u[h+7-32];u[h+0+0]=y+b+1>>1,u[h+1+0]=u[h+0+64]=b+L+1>>1,u[h+2+0]=u[h+1+64]=L+E+1>>1,u[h+3+0]=u[h+2+64]=E+C+1>>1,u[h+0+32]=ut(y,b,L),u[h+1+32]=u[h+0+96]=ut(b,L,E),u[h+2+32]=u[h+1+96]=ut(L,E,C),u[h+3+32]=u[h+2+96]=ut(E,C,O),u[h+3+64]=ut(C,O,I),u[h+3+96]=ut(O,I,$)}function Oo(u,h){var y=u[h-1+0],b=u[h-1+32],L=u[h-1+64],E=u[h-1+96];u[h+0+0]=y+b+1>>1,u[h+2+0]=u[h+0+32]=b+L+1>>1,u[h+2+32]=u[h+0+64]=L+E+1>>1,u[h+1+0]=ut(y,b,L),u[h+3+0]=u[h+1+32]=ut(b,L,E),u[h+3+32]=u[h+1+64]=ut(L,E,E),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=E}function eu(u,h){var y=u[h-1+0],b=u[h-1+32],L=u[h-1+64],E=u[h-1+96],C=u[h-1-32],O=u[h+0-32],I=u[h+1-32],$=u[h+2-32];u[h+0+0]=u[h+2+32]=y+C+1>>1,u[h+0+32]=u[h+2+64]=b+y+1>>1,u[h+0+64]=u[h+2+96]=L+b+1>>1,u[h+0+96]=E+L+1>>1,u[h+3+0]=ut(O,I,$),u[h+2+0]=ut(C,O,I),u[h+1+0]=u[h+3+32]=ut(y,C,O),u[h+1+32]=u[h+3+64]=ut(b,y,C),u[h+1+64]=u[h+3+96]=ut(L,b,y),u[h+1+96]=ut(E,L,b)}function Ma(u,h){var y;for(y=0;8>y;++y)n(u,h+32*y,u,h-32,8)}function e0(u,h){var y;for(y=0;8>y;++y)i(u,h,u[h-1],8),h+=32}function as(u,h,y){var b;for(b=0;8>b;++b)i(h,y+32*b,u,8)}function t0(u,h){var y,b=8;for(y=0;8>y;++y)b+=u[h+y-32]+u[h-1+32*y];as(b>>4,u,h)}function tu(u,h){var y,b=4;for(y=0;8>y;++y)b+=u[h+y-32];as(b>>3,u,h)}function ru(u,h){var y,b=4;for(y=0;8>y;++y)b+=u[h-1+32*y];as(b>>3,u,h)}function ad(u,h){as(128,u,h)}function os(u,h,y){var b=u[h-y],L=u[h+0],E=3*(L-b)+r0[1020+u[h-2*y]-u[h+y]],C=pd[112+(E+4>>3)];u[h-y]=Mn[255+b+pd[112+(E+3>>3)]],u[h+0]=Mn[255+L-C]}function nu(u,h,y,b){var L=u[h+0],E=u[h+y];return si[255+u[h-2*y]-u[h-y]]>b||si[255+E-L]>b}function Io(u,h,y,b){return 4*si[255+u[h-y]-u[h+0]]+si[255+u[h-2*y]-u[h+y]]<=b}function iu(u,h,y,b,L){var E=u[h-3*y],C=u[h-2*y],O=u[h-y],I=u[h+0],$=u[h+y],te=u[h+2*y],ce=u[h+3*y];return 4*si[255+O-I]+si[255+C-$]>b?0:si[255+u[h-4*y]-E]<=L&&si[255+E-C]<=L&&si[255+C-O]<=L&&si[255+ce-te]<=L&&si[255+te-$]<=L&&si[255+$-I]<=L}function Da(u,h,y,b){var L=2*b+1;for(b=0;16>b;++b)Io(u,h+b,y,L)&&os(u,h+b,y)}function su(u,h,y,b){var L=2*b+1;for(b=0;16>b;++b)Io(u,h+b*y,1,L)&&os(u,h+b*y,1)}function od(u,h,y,b){var L;for(L=3;0<L;--L)Da(u,h+=4*y,y,b)}function ld(u,h,y,b){var L;for(L=3;0<L;--L)su(u,h+=4,y,b)}function ls(u,h,y,b,L,E,C,O){for(E=2*E+1;0<L--;){if(iu(u,h,y,E,C))if(nu(u,h,y,O))os(u,h,y);else{var I=u,$=h,te=y,ce=I[$-2*te],q=I[$-te],ne=I[$+0],se=I[$+te],ye=I[$+2*te],le=27*(_e=r0[1020+3*(ne-q)+r0[1020+ce-se]])+63>>7,we=18*_e+63>>7,_e=9*_e+63>>7;I[$-3*te]=Mn[255+I[$-3*te]+_e],I[$-2*te]=Mn[255+ce+we],I[$-te]=Mn[255+q+le],I[$+0]=Mn[255+ne-le],I[$+te]=Mn[255+se-we],I[$+2*te]=Mn[255+ye-_e]}h+=b}}function us(u,h,y,b,L,E,C,O){for(E=2*E+1;0<L--;){if(iu(u,h,y,E,C))if(nu(u,h,y,O))os(u,h,y);else{var I=u,$=h,te=y,ce=I[$-te],q=I[$+0],ne=I[$+te],se=pd[112+(4+(ye=3*(q-ce))>>3)],ye=pd[112+(ye+3>>3)],le=se+1>>1;I[$-2*te]=Mn[255+I[$-2*te]+le],I[$-te]=Mn[255+ce+ye],I[$+0]=Mn[255+q-se],I[$+te]=Mn[255+ne-le]}h+=b}}function ud(u,h,y,b,L,E){ls(u,h,y,1,16,b,L,E)}function Ba(u,h,y,b,L,E){ls(u,h,1,y,16,b,L,E)}function cd(u,h,y,b,L,E){var C;for(C=3;0<C;--C)us(u,h+=4*y,y,1,16,b,L,E)}function m(u,h,y,b,L,E){var C;for(C=3;0<C;--C)us(u,h+=4,1,y,16,b,L,E)}function j(u,h,y,b,L,E,C,O){ls(u,h,L,1,8,E,C,O),ls(y,b,L,1,8,E,C,O)}function W(u,h,y,b,L,E,C,O){ls(u,h,1,L,8,E,C,O),ls(y,b,1,L,8,E,C,O)}function ee(u,h,y,b,L,E,C,O){us(u,h+4*L,L,1,8,E,C,O),us(y,b+4*L,L,1,8,E,C,O)}function ie(u,h,y,b,L,E,C,O){us(u,h+4,1,L,8,E,C,O),us(y,b+4,1,L,8,E,C,O)}function be(){this.ba=new at,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new bt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ue(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function He(){this.ua=0,this.Wa=new ft,this.vb=new ft,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new fe,this.yc=new G}function lt(){this.xb=this.a=0,this.l=new Eo,this.ca=new at,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new He,this.ab=0,this.gc=a(4,Ue),this.Oc=0}function mt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Eo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lt(u,h,y,b,L,E,C){for(u=u==null?0:u[h+0],h=0;h<C;++h)L[E+h]=u+y[b+h]&255,u=L[E+h]}function rr(u,h,y,b,L,E,C){var O;if(u==null)Lt(null,null,y,b,L,E,C);else for(O=0;O<C;++O)L[E+O]=u[h+O]+y[b+O]&255}function xr(u,h,y,b,L,E,C){if(u==null)Lt(null,null,y,b,L,E,C);else{var O,I=u[h+0],$=I,te=I;for(O=0;O<C;++O)$=te+(I=u[h+O])-$,te=y[b+O]+(-256&$?0>$?0:255:$)&255,$=I,L[E+O]=te}}function Wt(u,h,y,b){var L=h.width,E=h.o;if(t(u!=null&&h!=null),0>y||0>=b||y+b>E)return null;if(!u.Cc){if(u.ga==null){var C;if(u.ga=new mt,(C=u.ga==null)||(C=h.width*h.o,t(u.Gb.length==0),u.Gb=s(C),u.Uc=0,u.Gb==null?C=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,C=1),C=!C),!C){C=u.ga;var O=u.Fa,I=u.P,$=u.qc,te=u.mb,ce=u.nb,q=I+1,ne=$-1,se=C.l;if(t(O!=null&&te!=null&&h!=null),Ws[0]=null,Ws[1]=Lt,Ws[2]=rr,Ws[3]=xr,C.ca=te,C.tb=ce,C.c=h.width,C.i=h.height,t(0<C.c&&0<C.i),1>=$)h=0;else if(C.$a=3&O[I+0],C.Z=O[I+0]>>2&3,C.Lc=O[I+0]>>4&3,I=O[I+0]>>6&3,0>C.$a||1<C.$a||4<=C.Z||1<C.Lc||I)h=0;else if(se.put=et,se.ac=_n,se.bc=Qn,se.ma=C,se.width=h.width,se.height=h.height,se.Da=h.Da,se.v=h.v,se.va=h.va,se.j=h.j,se.o=h.o,C.$a)e:{t(C.$a==1),h=rs();t:for(;;){if(h==null){h=0;break e}if(t(C!=null),C.mc=h,h.c=C.c,h.i=C.i,h.l=C.l,h.l.ma=C,h.l.width=C.c,h.l.height=C.i,h.a=0,R(h.m,O,q,ne),!Fi(C.c,C.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&dr(h.s)?(C.ic=1,O=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(O),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(C.ic=0,h=Ia(h,C.c)),!h))break t;h=1;break e}C.mc=null,h=0}else h=ne>=C.c*C.i;C=!h}if(C)return null;u.ga.Lc!=1?u.Ga=0:b=E-y}t(u.ga!=null),t(y+b<=E);e:{if(h=(O=u.ga).c,E=O.l.o,O.$a==0){if(q=u.rc,ne=u.Vc,se=u.Fa,I=u.P+1+y*h,$=u.mb,te=u.nb+y*h,t(I<=u.P+u.qc),O.Z!=0)for(t(Ws[O.Z]!=null),C=0;C<b;++C)Ws[O.Z](q,ne,se,I,$,te,h),q=$,ne=te,te+=h,I+=h;else for(C=0;C<b;++C)n($,te,se,I,h),q=$,ne=te,te+=h,I+=h;u.rc=q,u.Vc=ne}else{if(t(O.mc!=null),h=y+b,t((C=O.mc)!=null),t(h<=C.i),C.C>=h)h=1;else if(O.ic||vi(),O.ic){O=C.V,q=C.Ba,ne=C.c;var ye=C.i,le=(se=1,I=C.$/ne,$=C.$%ne,te=C.m,ce=C.s,C.$),we=ne*ye,_e=ne*h,Ae=ce.wc,Se=le<_e?cr(ce,$,I):null;t(le<=we),t(h<=ye),t(dr(ce));t:for(;;){for(;!te.h&&le<_e;){if($&Ae||(Se=cr(ce,$,I)),t(Se!=null),ae(te),256>(ye=Bt(Se.G[0],Se.H[0],te)))O[q+le]=ye,++le,++$>=ne&&($=0,++I<=h&&!(I%16)&&un(C,I));else{if(!(280>ye)){se=0;break t}ye=on(ye-256,te);var Ve,Me=Bt(Se.G[4],Se.H[4],te);if(ae(te),!(le>=(Me=ln(ne,Me=on(Me,te)))&&we-le>=ye)){se=0;break t}for(Ve=0;Ve<ye;++Ve)O[q+le+Ve]=O[q+le+Ve-Me];for(le+=ye,$+=ye;$>=ne;)$-=ne,++I<=h&&!(I%16)&&un(C,I);le<_e&&$&Ae&&(Se=cr(ce,$,I))}t(te.h==Q(te))}un(C,I>h?h:I);break t}!se||te.h&&le<we?(se=0,C.a=te.h?5:3):C.$=le,h=se}else h=Yr(C,C.V,C.Ba,C.c,C.i,h,jo);if(!h){b=0;break e}}y+b>=E&&(u.Cc=1),b=1}if(!b)return null;if(u.Cc&&((b=u.ga)!=null&&(b.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*L}function Lr(u,h,y,b,L,E){for(;0<L--;){var C,O=u,I=h+(y?1:0),$=u,te=h+(y?0:3);for(C=0;C<b;++C){var ce=$[te+4*C];ce!=255&&(ce*=32897,O[I+4*C+0]=O[I+4*C+0]*ce>>23,O[I+4*C+1]=O[I+4*C+1]*ce>>23,O[I+4*C+2]=O[I+4*C+2]*ce>>23)}h+=E}}function Sr(u,h,y,b,L){for(;0<b--;){var E;for(E=0;E<y;++E){var C=u[h+2*E+0],O=15&($=u[h+2*E+1]),I=4369*O,$=(240&$|$>>4)*I>>16;u[h+2*E+0]=(240&C|C>>4)*I>>16&240|(15&C|C<<4)*I>>16>>4&15,u[h+2*E+1]=240&$|O}h+=L}}function zr(u,h,y,b,L,E,C,O){var I,$,te=255;for($=0;$<L;++$){for(I=0;I<b;++I){var ce=u[h+I];E[C+4*I]=ce,te&=ce}h+=y,C+=O}return te!=255}function cs(u,h,y,b,L){var E;for(E=0;E<L;++E)y[b+E]=u[h+E]>>8}function vi(){vu=Lr,xg=Sr,Sg=zr,Ng=cs}function ds(u,h,y){U[u]=function(b,L,E,C,O,I,$,te,ce,q,ne,se,ye,le,we,_e,Ae){var Se,Ve=Ae-1>>1,Me=O[I+0]|$[te+0]<<16,vt=ce[q+0]|ne[se+0]<<16;t(b!=null);var $e=3*Me+vt+131074>>2;for(h(b[L+0],255&$e,$e>>16,ye,le),E!=null&&($e=3*vt+Me+131074>>2,h(E[C+0],255&$e,$e>>16,we,_e)),Se=1;Se<=Ve;++Se){var Nt=O[I+Se]|$[te+Se]<<16,Er=ce[q+Se]|ne[se+Se]<<16,yt=Me+Nt+vt+Er+524296,qe=yt+2*(Nt+vt)>>3;$e=qe+Me>>1,Me=(yt=yt+2*(Me+Er)>>3)+Nt>>1,h(b[L+2*Se-1],255&$e,$e>>16,ye,le+(2*Se-1)*y),h(b[L+2*Se-0],255&Me,Me>>16,ye,le+(2*Se-0)*y),E!=null&&($e=yt+vt>>1,Me=qe+Er>>1,h(E[C+2*Se-1],255&$e,$e>>16,we,_e+(2*Se-1)*y),h(E[C+2*Se+0],255&Me,Me>>16,we,_e+(2*Se+0)*y)),Me=Nt,vt=Er}1&Ae||($e=3*Me+vt+131074>>2,h(b[L+Ae-1],255&$e,$e>>16,ye,le+(Ae-1)*y),E!=null&&($e=3*vt+Me+131074>>2,h(E[C+Ae-1],255&$e,$e>>16,we,_e+(Ae-1)*y)))}}function au(){ai[md]=zx,ai[gd]=Rg,ai[Eg]=$x,ai[vd]=Fg,ai[yd]=Mg,ai[n0]=Dg,ai[Cg]=qx,ai[i0]=Rg,ai[s0]=Fg,ai[wd]=Mg,ai[a0]=Dg}function Ro(u){return u&~Wx?0>u?0:255:u>>Bg}function Is(u,h){return Ro((19077*u>>8)+(26149*h>>8)-14234)}function Ua(u,h,y){return Ro((19077*u>>8)-(6419*h>>8)-(13320*y>>8)+8708)}function za(u,h){return Ro((19077*u>>8)+(33050*h>>8)-17685)}function Rs(u,h,y,b,L){b[L+0]=Is(u,y),b[L+1]=Ua(u,h,y),b[L+2]=za(u,h)}function $r(u,h,y,b,L){b[L+0]=za(u,h),b[L+1]=Ua(u,h,y),b[L+2]=Is(u,y)}function $a(u,h,y,b,L){var E=Ua(u,h,y);h=E<<3&224|za(u,h)>>3,b[L+0]=248&Is(u,y)|E>>5,b[L+1]=h}function qa(u,h,y,b,L){var E=240&za(u,h)|15;b[L+0]=240&Is(u,y)|Ua(u,h,y)>>4,b[L+1]=E}function ou(u,h,y,b,L){b[L+0]=255,Rs(u,h,y,b,L+1)}function lu(u,h,y,b,L){$r(u,h,y,b,L),b[L+3]=255}function cn(u,h,y,b,L){Rs(u,h,y,b,L),b[L+3]=255}function hs(u,h,y){U[u]=function(b,L,E,C,O,I,$,te,ce){for(var q=te+(-2&ce)*y;te!=q;)h(b[L+0],E[C+0],O[I+0],$,te),h(b[L+1],E[C+0],O[I+0],$,te+y),L+=2,++C,++I,te+=2*y;1&ce&&h(b[L+0],E[C+0],O[I+0],$,te)}}function Fo(u,h,y){return y==0?u==0?h==0?6:5:h==0?4:0:y}function dd(u,h,y,b,L){switch(u>>>30){case 3:Ga(h,y,b,L,0);break;case 2:ii(h,y,b,L);break;case 1:Tt(h,y,b,L)}}function ni(u,h){var y,b,L=h.M,E=h.Nb,C=u.oc,O=u.pc+40,I=u.oc,$=u.pc+584,te=u.oc,ce=u.pc+600;for(y=0;16>y;++y)C[O+32*y-1]=129;for(y=0;8>y;++y)I[$+32*y-1]=129,te[ce+32*y-1]=129;for(0<L?C[O-1-32]=I[$-1-32]=te[ce-1-32]=129:(i(C,O-32-1,127,21),i(I,$-32-1,127,9),i(te,ce-32-1,127,9)),b=0;b<u.za;++b){var q=h.ya[h.aa+b];if(0<b){for(y=-1;16>y;++y)n(C,O+32*y-4,C,O+32*y+12,4);for(y=-1;8>y;++y)n(I,$+32*y-4,I,$+32*y+4,4),n(te,ce+32*y-4,te,ce+32*y+4,4)}var ne=u.Gd,se=u.Hd+b,ye=q.ad,le=q.Hc;if(0<L&&(n(C,O-32,ne[se].y,0,16),n(I,$-32,ne[se].f,0,8),n(te,ce-32,ne[se].ea,0,8)),q.Za){var we=C,_e=O-32+16;for(0<L&&(b>=u.za-1?i(we,_e,ne[se].y[15],4):n(we,_e,ne[se+1].y,0,4)),y=0;4>y;y++)we[_e+128+y]=we[_e+256+y]=we[_e+384+y]=we[_e+0+y];for(y=0;16>y;++y,le<<=2)we=C,_e=O+zg[y],yi[q.Ob[y]](we,_e),dd(le,ye,16*+y,we,_e)}else if(we=Fo(b,L,q.Ob[0]),qs[we](C,O),le!=0)for(y=0;16>y;++y,le<<=2)dd(le,ye,16*+y,C,O+zg[y]);for(y=q.Gc,we=Fo(b,L,q.Dd),ms[we](I,$),ms[we](te,ce),le=ye,we=I,_e=$,255&(q=0|y)&&(170&q?$i(le,256,we,_e):Ut(le,256,we,_e)),q=te,le=ce,255&(y>>=8)&&(170&y?$i(ye,320,q,le):Ut(ye,320,q,le)),L<u.Ub-1&&(n(ne[se].y,0,C,O+480,16),n(ne[se].f,0,I,$+224,8),n(ne[se].ea,0,te,ce+224,8)),y=8*E*u.B,ne=u.sa,se=u.ta+16*b+16*E*u.R,ye=u.qa,q=u.ra+8*b+y,le=u.Ha,we=u.Ia+8*b+y,y=0;16>y;++y)n(ne,se+y*u.R,C,O+32*y,16);for(y=0;8>y;++y)n(ye,q+y*u.B,I,$+32*y,8),n(le,we+y*u.B,te,ce+32*y,8)}}function Wa(u,h,y,b,L,E,C,O,I){var $=[0],te=[0],ce=0,q=I!=null?I.kd:0,ne=I??new xe;if(u==null||12>y)return 7;ne.data=u,ne.w=h,ne.ha=y,h=[h],y=[y],ne.gb=[ne.gb];e:{var se=h,ye=y,le=ne.gb;if(t(u!=null),t(ye!=null),t(le!=null),le[0]=0,12<=ye[0]&&!r(u,se[0],"RIFF")){if(r(u,se[0]+8,"WEBP")){le=3;break e}var we=Ge(u,se[0]+4);if(12>we||4294967286<we){le=3;break e}if(q&&we>ye[0]-8){le=7;break e}le[0]=we,se[0]+=12,ye[0]-=12}le=0}if(le!=0)return le;for(we=0<ne.gb[0],y=y[0];;){e:{var _e=u;ye=h,le=y;var Ae=$,Se=te,Ve=se=[0];if(($e=ce=[ce])[0]=0,8>le[0])le=7;else{if(!r(_e,ye[0],"VP8X")){if(Ge(_e,ye[0]+4)!=10){le=3;break e}if(18>le[0]){le=7;break e}var Me=Ge(_e,ye[0]+8),vt=1+Ce(_e,ye[0]+12);if(2147483648<=vt*(_e=1+Ce(_e,ye[0]+15))){le=3;break e}Ve!=null&&(Ve[0]=Me),Ae!=null&&(Ae[0]=vt),Se!=null&&(Se[0]=_e),ye[0]+=18,le[0]-=18,$e[0]=1}le=0}}if(ce=ce[0],se=se[0],le!=0)return le;if(ye=!!(2&se),!we&&ce)return 3;if(E!=null&&(E[0]=!!(16&se)),C!=null&&(C[0]=ye),O!=null&&(O[0]=0),C=$[0],se=te[0],ce&&ye&&I==null){le=0;break}if(4>y){le=7;break}if(we&&ce||!we&&!ce&&!r(u,h[0],"ALPH")){y=[y],ne.na=[ne.na],ne.P=[ne.P],ne.Sa=[ne.Sa];e:{Me=u,le=h,we=y;var $e=ne.gb;Ae=ne.na,Se=ne.P,Ve=ne.Sa,vt=22,t(Me!=null),t(we!=null),_e=le[0];var Nt=we[0];for(t(Ae!=null),t(Ve!=null),Ae[0]=null,Se[0]=null,Ve[0]=0;;){if(le[0]=_e,we[0]=Nt,8>Nt){le=7;break e}var Er=Ge(Me,_e+4);if(4294967286<Er){le=3;break e}var yt=8+Er+1&-2;if(vt+=yt,0<$e&&vt>$e){le=3;break e}if(!r(Me,_e,"VP8 ")||!r(Me,_e,"VP8L")){le=0;break e}if(Nt[0]<yt){le=7;break e}r(Me,_e,"ALPH")||(Ae[0]=Me,Se[0]=_e+8,Ve[0]=Er),_e+=yt,Nt-=yt}}if(y=y[0],ne.na=ne.na[0],ne.P=ne.P[0],ne.Sa=ne.Sa[0],le!=0)break}y=[y],ne.Ja=[ne.Ja],ne.xa=[ne.xa];e:if($e=u,le=h,we=y,Ae=ne.gb[0],Se=ne.Ja,Ve=ne.xa,Me=le[0],_e=!r($e,Me,"VP8 "),vt=!r($e,Me,"VP8L"),t($e!=null),t(we!=null),t(Se!=null),t(Ve!=null),8>we[0])le=7;else{if(_e||vt){if($e=Ge($e,Me+4),12<=Ae&&$e>Ae-12){le=3;break e}if(q&&$e>we[0]-8){le=7;break e}Se[0]=$e,le[0]+=8,we[0]-=8,Ve[0]=vt}else Ve[0]=5<=we[0]&&$e[Me+0]==47&&!($e[Me+4]>>5),Se[0]=we[0];le=0}if(y=y[0],ne.Ja=ne.Ja[0],ne.xa=ne.xa[0],h=h[0],le!=0)break;if(4294967286<ne.Ja)return 3;if(O==null||ye||(O[0]=ne.xa?2:1),C=[C],se=[se],ne.xa){if(5>y){le=7;break}O=C,q=se,ye=E,u==null||5>y?u=0:5<=y&&u[h+0]==47&&!(u[h+4]>>5)?(we=[0],$e=[0],Ae=[0],R(Se=new M,u,h,y),ei(Se,we,$e,Ae)?(O!=null&&(O[0]=we[0]),q!=null&&(q[0]=$e[0]),ye!=null&&(ye[0]=Ae[0]),u=1):u=0):u=0}else{if(10>y){le=7;break}O=se,u==null||10>y||!ed(u,h+3,y-3)?u=0:(q=u[h+0]|u[h+1]<<8|u[h+2]<<16,ye=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&q||3<(q>>1&7)||!(q>>4&1)||q>>5>=ne.Ja||!ye||!u?u=0:(C&&(C[0]=ye),O&&(O[0]=u),u=1))}if(!u||(C=C[0],se=se[0],ce&&($[0]!=C||te[0]!=se)))return 3;I!=null&&(I[0]=ne,I.offset=h-I.w,t(4294967286>h-I.w),t(I.offset==I.ha-y));break}return le==0||le==7&&ce&&I==null?(E!=null&&(E[0]|=ne.na!=null&&0<ne.na.length),b!=null&&(b[0]=C),L!=null&&(L[0]=se),0):le}function uu(u,h,y){var b=h.width,L=h.height,E=0,C=0,O=b,I=L;if(h.Da=u!=null&&0<u.Da,h.Da&&(O=u.cd,I=u.bd,E=u.v,C=u.j,11>y||(E&=-2,C&=-2),0>E||0>C||0>=O||0>=I||E+O>b||C+I>L))return 0;if(h.v=E,h.j=C,h.va=E+O,h.o=C+I,h.U=O,h.T=I,h.da=u!=null&&0<u.da,h.da){if(!Xe(O,I,y=[u.ib],E=[u.hb]))return 0;h.ib=y[0],h.hb=E[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*b/4&&h.hb<3*L/4,h.Kb=0),1}function cu(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function Fs(u,h,y,b){if(b==null||0>=u||0>=h)return 2;if(y!=null){if(y.Da){var L=y.cd,E=y.bd,C=-2&y.v,O=-2&y.j;if(0>C||0>O||0>=L||0>=E||C+L>u||O+E>h)return 2;u=L,h=E}if(y.da){if(!Xe(u,h,L=[y.ib],E=[y.hb]))return 2;u=L[0],h=E[0]}}b.width=u,b.height=h;e:{var I=b.width,$=b.height;if(u=b.S,0>=I||0>=$||!(u>=md&&13>u))u=2;else{if(0>=b.Rd&&b.sd==null){C=E=L=h=0;var te=(O=I*$g[u])*$;if(11>u||(E=($+1)/2*(h=(I+1)/2),u==12&&(C=(L=I)*$)),($=s(te+2*E+C))==null){u=1;break e}b.sd=$,11>u?((I=b.f.RGBA).eb=$,I.fb=0,I.A=O,I.size=te):((I=b.f.kb).y=$,I.O=0,I.fa=O,I.Fd=te,I.f=$,I.N=0+te,I.Ab=h,I.Cd=E,I.ea=$,I.W=0+te+E,I.Db=h,I.Ed=E,u==12&&(I.F=$,I.J=0+te+2*E),I.Tc=C,I.lb=L)}if(h=1,L=b.S,E=b.width,C=b.height,L>=md&&13>L)if(11>L)u=b.f.RGBA,h&=(O=Math.abs(u.A))*(C-1)+E<=u.size,h&=O>=E*$g[L],h&=u.eb!=null;else{u=b.f.kb,O=(E+1)/2,te=(C+1)/2,I=Math.abs(u.fa),$=Math.abs(u.Ab);var ce=Math.abs(u.Db),q=Math.abs(u.lb),ne=q*(C-1)+E;h&=I*(C-1)+E<=u.Fd,h&=$*(te-1)+O<=u.Cd,h=(h&=ce*(te-1)+O<=u.Ed)&I>=E&$>=O&ce>=O,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,L==12&&(h&=q>=E,h&=ne<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||y!=null&&y.fd&&(u=cu(b)),u}var Ha=64,Rn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fn=24,Ms=32,fs=8,Ds=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(u){return u},U.Predictor2=function(u,h,y){return h[y+0]},U.Predictor3=function(u,h,y){return h[y+1]},U.Predictor4=function(u,h,y){return h[y-1]},U.Predictor5=function(u,h,y){return De(De(u,h[y+1]),h[y+0])},U.Predictor6=function(u,h,y){return De(u,h[y-1])},U.Predictor7=function(u,h,y){return De(u,h[y+0])},U.Predictor8=function(u,h,y){return De(h[y-1],h[y+0])},U.Predictor9=function(u,h,y){return De(h[y+0],h[y+1])},U.Predictor10=function(u,h,y){return De(De(u,h[y-1]),De(h[y+0],h[y+1]))},U.Predictor11=function(u,h,y){var b=h[y+0];return 0>=rt(b>>24&255,u>>24&255,(h=h[y-1])>>24&255)+rt(b>>16&255,u>>16&255,h>>16&255)+rt(b>>8&255,u>>8&255,h>>8&255)+rt(255&b,255&u,255&h)?b:u},U.Predictor12=function(u,h,y){var b=h[y+0];return(dt((u>>24&255)+(b>>24&255)-((h=h[y-1])>>24&255))<<24|dt((u>>16&255)+(b>>16&255)-(h>>16&255))<<16|dt((u>>8&255)+(b>>8&255)-(h>>8&255))<<8|dt((255&u)+(255&b)-(255&h)))>>>0},U.Predictor13=function(u,h,y){var b=h[y-1];return(pt((u=De(u,h[y+0]))>>24&255,b>>24&255)<<24|pt(u>>16&255,b>>16&255)<<16|pt(u>>8&255,b>>8&255)<<8|pt(255&u,255&b))>>>0};var du=U.PredictorAdd0;U.PredictorAdd1=wt,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var Mo=U.PredictorAdd2;ke("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),ke("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var hr,hd=U.ColorIndexInverseTransform,Ui=U.MapARGB,zi=U.VP8LColorIndexInverseTransformAlpha,hu=U.MapAlpha,fu=U.VP8LPredictorsAdd=[];fu.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var pu,mu,Bs,Us,zs,Va,$s,Ga,ii,$i,Tt,Ut,fr,Pr,ps,gu,Do,fd,gg,vg,yg,wg,bg,_g,vu,xg,Sg,Ng,kg=s(511),Ag=s(2041),jg=s(225),Lg=s(767),Pg=0,r0=Ag,pd=jg,Mn=Lg,si=kg,md=0,gd=1,Eg=2,vd=3,yd=4,n0=5,Cg=6,i0=7,s0=8,wd=9,a0=10,jx=[2,3,7],Lx=[3,3,11],Tg=[280,256,256,256,40],Px=[0,1,1,1,0],Ex=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Cx=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Tx=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ox=8,o0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],l0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],yu=null,Ix=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Rx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Og=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Fx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Mx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Dx=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Bx=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qs=[],yi=[],ms=[],Ux=1,Ig=2,Ws=[],ai=[];ds("UpsampleRgbLinePair",Rs,3),ds("UpsampleBgrLinePair",$r,3),ds("UpsampleRgbaLinePair",cn,4),ds("UpsampleBgraLinePair",lu,4),ds("UpsampleArgbLinePair",ou,4),ds("UpsampleRgba4444LinePair",qa,2),ds("UpsampleRgb565LinePair",$a,2);var zx=U.UpsampleRgbLinePair,$x=U.UpsampleBgrLinePair,Rg=U.UpsampleRgbaLinePair,Fg=U.UpsampleBgraLinePair,Mg=U.UpsampleArgbLinePair,Dg=U.UpsampleRgba4444LinePair,qx=U.UpsampleRgb565LinePair,bd=16,_d=1<<bd-1,wu=-227,u0=482,Bg=6,Wx=(256<<Bg)-1,Ug=0,Hx=s(256),Vx=s(256),Gx=s(256),Kx=s(256),Jx=s(u0-wu),Yx=s(u0-wu);hs("YuvToRgbRow",Rs,3),hs("YuvToBgrRow",$r,3),hs("YuvToRgbaRow",cn,4),hs("YuvToBgraRow",lu,4),hs("YuvToArgbRow",ou,4),hs("YuvToRgba4444Row",qa,2),hs("YuvToRgb565Row",$a,2);var zg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],xd=[0,2,8],Zx=[8,7,6,4,4,2,2,2,1,1,1,1],Xx=1;this.WebPDecodeRGBA=function(u,h,y,b,L){var E=gd,C=new be,O=new at;C.ba=O,O.S=E,O.width=[O.width],O.height=[O.height];var I=O.width,$=O.height,te=new Je;if(te==null||u==null)var ce=2;else t(te!=null),ce=Wa(u,h,y,te.width,te.height,te.Pd,te.Qd,te.format,null);if(ce!=0?I=0:(I!=null&&(I[0]=te.width[0]),$!=null&&($[0]=te.height[0]),I=1),I){O.width=O.width[0],O.height=O.height[0],b!=null&&(b[0]=O.width),L!=null&&(L[0]=O.height);e:{if(b=new Eo,(L=new xe).data=u,L.w=h,L.ha=y,L.kd=1,h=[0],t(L!=null),((u=Wa(L.data,L.w,L.ha,null,null,null,h,null,L))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(t(C!=null),b.data=L.data,b.w=L.w+L.offset,b.ha=L.ha-L.offset,b.put=et,b.ac=_n,b.bc=Qn,b.ma=C,L.xa){if((u=rs())==null){C=1;break e}if(function(q,ne){var se=[0],ye=[0],le=[0];t:for(;;){if(q==null)return 0;if(ne==null)return q.a=2,0;if(q.l=ne,q.a=0,R(q.m,ne.data,ne.w,ne.ha),!ei(q.m,se,ye,le)){q.a=3;break t}if(q.xb=Ig,ne.width=se[0],ne.height=ye[0],!Fi(se[0],ye[0],1,q,null))break t;return 1}return t(q.a!=0),0}(u,b)){if(b=(h=Fs(b.width,b.height,C.Oa,C.ba))==0){t:{b=u;r:for(;;){if(b==null){b=0;break t}if(t(b.s.yc!=null),t(b.s.Ya!=null),t(0<b.s.Wb),t((y=b.l)!=null),t((L=y.ma)!=null),b.xb!=0){if(b.ca=L.ba,b.tb=L.tb,t(b.ca!=null),!uu(L.Oa,y,vd)){b.a=2;break r}if(!Ia(b,y.width)||y.da)break r;if((y.da||Re(b.ca.S))&&vi(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&vi()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!B(b.s.vb,b.s.Wa.Xa)){b.a=1;break r}b.xb=0}if(!Yr(b,b.V,b.Ba,b.c,b.i,y.o,Ri))break r;L.Dc=b.Ma,b=1;break t}t(b.a!=0),b=0}b=!b}b&&(h=u.a)}else h=u.a}else{if((u=new zf)==null){C=1;break e}if(u.Fa=L.na,u.P=L.P,u.qc=L.Sa,Di(u,b)){if((h=Fs(b.width,b.height,C.Oa,C.ba))==0){if(u.Aa=0,y=C.Oa,t((L=u)!=null),y!=null){if(0<(I=0>(I=y.Md)?0:100<I?255:255*I/100)){for($=te=0;4>$;++$)12>(ce=L.pb[$]).lc&&(ce.ia=I*Zx[0>ce.lc?0:ce.lc]>>3),te|=ce.ia;te&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=y.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}(function(q,ne){if(q==null)return 0;if(ne==null)return _r(q,2,"NULL VP8Io parameter in VP8Decode().");if(!q.cb&&!Di(q,ne))return 0;if(t(q.cb),ne.ac==null||ne.ac(ne)){ne.ob&&(q.L=0);var se=xd[q.L];if(q.L==2?(q.yb=0,q.zb=0):(q.yb=ne.v-se>>4,q.zb=ne.j-se>>4,0>q.yb&&(q.yb=0),0>q.zb&&(q.zb=0)),q.Va=ne.o+15+se>>4,q.Hb=ne.va+15+se>>4,q.Hb>q.za&&(q.Hb=q.za),q.Va>q.Ub&&(q.Va=q.Ub),0<q.L){var ye=q.ed;for(se=0;4>se;++se){var le;if(q.Qa.Cb){var we=q.Qa.Lb[se];q.Qa.Fb||(we+=ye.Tb)}else we=ye.Tb;for(le=0;1>=le;++le){var _e=q.gd[se][le],Ae=we;if(ye.Pc&&(Ae+=ye.vd[0],le&&(Ae+=ye.od[0])),0<(Ae=0>Ae?0:63<Ae?63:Ae)){var Se=Ae;0<ye.wb&&(Se=4<ye.wb?Se>>2:Se>>1)>9-ye.wb&&(Se=9-ye.wb),1>Se&&(Se=1),_e.dd=Se,_e.tc=2*Ae+Se,_e.ld=40<=Ae?2:15<=Ae?1:0}else _e.tc=0;_e.La=le}}}se=0}else _r(q,6,"Frame setup failed"),se=q.a;if(se=se==0){if(se){q.$c=0,0<q.Aa||(q.Ic=Xx);t:{se=q.Ic,ye=4*(Se=q.za);var Ve=32*Se,Me=Se+1,vt=0<q.L?Se*(0<q.Aa?2:1):0,$e=(q.Aa==2?2:1)*Se;if((_e=ye+832+(le=3*(16*se+xd[q.L])/2*Ve)+(we=q.Fa!=null&&0<q.Fa.length?q.Kc.c*q.Kc.i:0))!=_e)se=0;else{if(_e>q.Vb){if(q.Vb=0,q.Ec=s(_e),q.Fc=0,q.Ec==null){se=_r(q,1,"no memory during frame initialization.");break t}q.Vb=_e}_e=q.Ec,Ae=q.Fc,q.Ac=_e,q.Bc=Ae,Ae+=ye,q.Gd=a(Ve,Xc),q.Hd=0,q.rb=a(Me+1,Yl),q.sb=1,q.wa=vt?a(vt,ti):null,q.Y=0,q.D.Nb=0,q.D.wa=q.wa,q.D.Y=q.Y,0<q.Aa&&(q.D.Y+=Se),t(!0),q.oc=_e,q.pc=Ae,Ae+=832,q.ya=a($e,Zl),q.aa=0,q.D.ya=q.ya,q.D.aa=q.aa,q.Aa==2&&(q.D.aa+=Se),q.R=16*Se,q.B=8*Se,Se=(Ve=xd[q.L])*q.R,Ve=Ve/2*q.B,q.sa=_e,q.ta=Ae+Se,q.qa=q.sa,q.ra=q.ta+16*se*q.R+Ve,q.Ha=q.qa,q.Ia=q.ra+8*se*q.B+Ve,q.$c=0,Ae+=le,q.mb=we?_e:null,q.nb=we?Ae:null,t(Ae+we<=q.Fc+q.Vb),td(q),i(q.Ac,q.Bc,0,ye),se=1}}if(se){if(ne.ka=0,ne.y=q.sa,ne.O=q.ta,ne.f=q.qa,ne.N=q.ra,ne.ea=q.Ha,ne.Vd=q.Ia,ne.fa=q.R,ne.Rc=q.B,ne.F=null,ne.J=0,!Pg){for(se=-255;255>=se;++se)kg[255+se]=0>se?-se:se;for(se=-1020;1020>=se;++se)Ag[1020+se]=-128>se?-128:127<se?127:se;for(se=-112;112>=se;++se)jg[112+se]=-16>se?-16:15<se?15:se;for(se=-255;510>=se;++se)Lg[255+se]=0>se?0:255<se?255:se;Pg=1}$s=To,Ga=qf,$i=Bi,Tt=nd,Ut=id,ii=$f,fr=ud,Pr=Ba,ps=j,gu=W,Do=cd,fd=m,gg=ee,vg=ie,yg=Da,wg=su,bg=od,_g=ld,yi[0]=Zf,yi[1]=Wf,yi[2]=Jf,yi[3]=Yf,yi[4]=is,yi[5]=Xf,yi[6]=ss,yi[7]=Qf,yi[8]=eu,yi[9]=Oo,qs[0]=Gf,qs[1]=Vf,qs[2]=Xl,qs[3]=sd,qs[4]=Fa,qs[5]=Ql,qs[6]=Kf,ms[0]=t0,ms[1]=Hf,ms[2]=Ma,ms[3]=e0,ms[4]=ru,ms[5]=tu,ms[6]=ad,se=1}else se=0}se&&(se=function(Nt,Er){for(Nt.M=0;Nt.M<Nt.Va;++Nt.M){var yt,qe=Nt.Jc[Nt.M&Nt.Xb],Pe=Nt.m,pr=Nt;for(yt=0;yt<pr.za;++yt){var ht=Pe,At=pr,Kt=At.Ac,qr=At.Bc+4*yt,dn=At.zc,ar=At.ya[At.aa+yt];if(At.Qa.Bb?ar.$b=ve(ht,At.Pa.jb[0])?2+ve(ht,At.Pa.jb[2]):ve(ht,At.Pa.jb[1]):ar.$b=0,At.kc&&(ar.Ad=ve(ht,At.Bd)),ar.Za=!ve(ht,145)+0,ar.Za){var Zr=ar.Ob,hn=0;for(At=0;4>At;++At){var Cr,Pt=dn[0+At];for(Cr=0;4>Cr;++Cr){Pt=Mx[Kt[qr+Cr]][Pt];for(var Ot=Og[ve(ht,Pt[0])];0<Ot;)Ot=Og[2*Ot+ve(ht,Pt[Ot])];Pt=-Ot,Kt[qr+Cr]=Pt}n(Zr,hn,Kt,qr,4),hn+=4,dn[0+At]=Pt}}else Pt=ve(ht,156)?ve(ht,128)?1:3:ve(ht,163)?2:0,ar.Ob[0]=Pt,i(Kt,qr,Pt,4),i(dn,0,Pt,4);ar.Dd=ve(ht,142)?ve(ht,114)?ve(ht,183)?1:3:2:0}if(pr.m.Ka)return _r(Nt,7,"Premature end-of-partition0 encountered.");for(;Nt.ja<Nt.za;++Nt.ja){if(pr=qe,ht=(Pe=Nt).rb[Pe.sb-1],Kt=Pe.rb[Pe.sb+Pe.ja],yt=Pe.ya[Pe.aa+Pe.ja],qr=Pe.kc?yt.Ad:0)ht.la=Kt.la=0,yt.Za||(ht.Na=Kt.Na=0),yt.Hc=0,yt.Gc=0,yt.ia=0;else{var or,It;if(ht=Kt,Kt=pr,qr=Pe.Pa.Xc,dn=Pe.ya[Pe.aa+Pe.ja],ar=Pe.pb[dn.$b],At=dn.ad,Zr=0,hn=Pe.rb[Pe.sb-1],Pt=Cr=0,i(At,Zr,0,384),dn.Za)var Wr=0,wi=qr[3];else{Ot=s(16);var mr=ht.Na+hn.Na;if(mr=yu(Kt,qr[1],mr,ar.Eb,0,Ot,0),ht.Na=hn.Na=(0<mr)+0,1<mr)$s(Ot,0,At,Zr);else{var Sn=Ot[0]+3>>3;for(Ot=0;256>Ot;Ot+=16)At[Zr+Ot]=Sn}Wr=1,wi=qr[0]}var zt=15&ht.la,Tr=15&hn.la;for(Ot=0;4>Ot;++Ot){var Dn=1&Tr;for(Sn=It=0;4>Sn;++Sn)zt=zt>>1|(Dn=(mr=yu(Kt,wi,mr=Dn+(1&zt),ar.Sc,Wr,At,Zr))>Wr)<<7,It=It<<2|(3<mr?3:1<mr?2:At[Zr+0]!=0),Zr+=16;zt>>=4,Tr=Tr>>1|Dn<<7,Cr=(Cr<<8|It)>>>0}for(wi=zt,Wr=Tr>>4,or=0;4>or;or+=2){for(It=0,zt=ht.la>>4+or,Tr=hn.la>>4+or,Ot=0;2>Ot;++Ot){for(Dn=1&Tr,Sn=0;2>Sn;++Sn)mr=Dn+(1&zt),zt=zt>>1|(Dn=0<(mr=yu(Kt,qr[2],mr,ar.Qc,0,At,Zr)))<<3,It=It<<2|(3<mr?3:1<mr?2:At[Zr+0]!=0),Zr+=16;zt>>=2,Tr=Tr>>1|Dn<<5}Pt|=It<<4*or,wi|=zt<<4<<or,Wr|=(240&Tr)<<or}ht.la=wi,hn.la=Wr,dn.Hc=Cr,dn.Gc=Pt,dn.ia=43690&Pt?0:ar.ia,qr=!(Cr|Pt)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[yt.$b][yt.Za],Pe.wa[Pe.Y+Pe.ja].La|=!qr),pr.Ka)return _r(Nt,7,"Premature end-of-file encountered.")}if(td(Nt),Pe=Er,pr=1,yt=(qe=Nt).D,ht=0<qe.L&&qe.M>=qe.zb&&qe.M<=qe.Va,qe.Aa==0)t:{if(yt.M=qe.M,yt.uc=ht,ni(qe,yt),pr=1,yt=(It=qe.D).Nb,ht=(Pt=xd[qe.L])*qe.R,Kt=Pt/2*qe.B,Ot=16*yt*qe.R,Sn=8*yt*qe.B,qr=qe.sa,dn=qe.ta-ht+Ot,ar=qe.qa,At=qe.ra-Kt+Sn,Zr=qe.Ha,hn=qe.Ia-Kt+Sn,Tr=(zt=It.M)==0,Cr=zt>=qe.Va-1,qe.Aa==2&&ni(qe,It),It.uc)for(Dn=(mr=qe).D.M,t(mr.D.uc),It=mr.yb;It<mr.Hb;++It){Wr=It,wi=Dn;var fn=(Bn=(Hr=mr).D).Nb;or=Hr.R;var Bn=Bn.wa[Bn.Y+Wr],Un=Hr.sa,Nn=Hr.ta+16*fn*or+16*Wr,zn=Bn.dd,Ht=Bn.tc;if(Ht!=0)if(t(3<=Ht),Hr.L==1)0<Wr&&wg(Un,Nn,or,Ht+4),Bn.La&&_g(Un,Nn,or,Ht),0<wi&&yg(Un,Nn,or,Ht+4),Bn.La&&bg(Un,Nn,or,Ht);else{var $n=Hr.B,bi=Hr.qa,Ka=Hr.ra+8*fn*$n+8*Wr,gs=Hr.Ha,Hr=Hr.Ia+8*fn*$n+8*Wr;fn=Bn.ld,0<Wr&&(Pr(Un,Nn,or,Ht+4,zn,fn),gu(bi,Ka,gs,Hr,$n,Ht+4,zn,fn)),Bn.La&&(fd(Un,Nn,or,Ht,zn,fn),vg(bi,Ka,gs,Hr,$n,Ht,zn,fn)),0<wi&&(fr(Un,Nn,or,Ht+4,zn,fn),ps(bi,Ka,gs,Hr,$n,Ht+4,zn,fn)),Bn.La&&(Do(Un,Nn,or,Ht,zn,fn),gg(bi,Ka,gs,Hr,$n,Ht,zn,fn))}}if(qe.ia&&alert("todo:DitherRow"),Pe.put!=null){if(It=16*zt,zt=16*(zt+1),Tr?(Pe.y=qe.sa,Pe.O=qe.ta+Ot,Pe.f=qe.qa,Pe.N=qe.ra+Sn,Pe.ea=qe.Ha,Pe.W=qe.Ia+Sn):(It-=Pt,Pe.y=qr,Pe.O=dn,Pe.f=ar,Pe.N=At,Pe.ea=Zr,Pe.W=hn),Cr||(zt-=Pt),zt>Pe.o&&(zt=Pe.o),Pe.F=null,Pe.J=null,qe.Fa!=null&&0<qe.Fa.length&&It<zt&&(Pe.J=Wt(qe,Pe,It,zt-It),Pe.F=qe.mb,Pe.F==null&&Pe.F.length==0)){pr=_r(qe,3,"Could not decode alpha data.");break t}It<Pe.j&&(Pt=Pe.j-It,It=Pe.j,t(!(1&Pt)),Pe.O+=qe.R*Pt,Pe.N+=qe.B*(Pt>>1),Pe.W+=qe.B*(Pt>>1),Pe.F!=null&&(Pe.J+=Pe.width*Pt)),It<zt&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=It-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=zt-It,pr=Pe.put(Pe))}yt+1!=qe.Ic||Cr||(n(qe.sa,qe.ta-ht,qr,dn+16*qe.R,ht),n(qe.qa,qe.ra-Kt,ar,At+8*qe.B,Kt),n(qe.Ha,qe.Ia-Kt,Zr,hn+8*qe.B,Kt))}if(!pr)return _r(Nt,6,"Output aborted.")}return 1}(q,ne)),ne.bc!=null&&ne.bc(ne),se&=1}return se?(q.cb=0,se):0})(u,b)||(h=u.a)}}else h=u.a}h==0&&C.Oa!=null&&C.Oa.fd&&(h=cu(C.ba))}C=h}E=C!=0?null:11>E?O.f.RGBA.eb:O.f.kb.y}else E=null;return E};var $g=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(U,J){for(var T="",F=0;F<4;F++)T+=String.fromCharCode(U[J++]);return T}function d(U,J){return U[J+0]|U[J+1]<<8}function g(U,J){return(U[J+0]|U[J+1]<<8|U[J+2]<<16)>>>0}function v(U,J){return(U[J+0]|U[J+1]<<8|U[J+2]<<16|U[J+3]<<24)>>>0}new l;var f=[0],_=[0],S=[],k=new l,w=e,x=function(U,J){var T={},F=0,G=!1,K=0,fe=0;if(T.frames=[],!function(A,M){for(var V=0;V<4;V++)if(A[M+V]!="RIFF".charCodeAt(V))return!0;return!1}(U,J)){for(v(U,J+=4),J+=8;J<U.length;){var he=c(U,J),ue=v(U,J+=4);J+=4;var X=ue+(1&ue);switch(he){case"VP8 ":case"VP8L":T.frames[F]===void 0&&(T.frames[F]={}),(Z=T.frames[F]).src_off=G?fe:J-8,Z.src_size=K+ue+8,F++,G&&(G=!1,K=0,fe=0);break;case"VP8X":(Z=T.header={}).feature_flags=U[J];var R=J+4;Z.canvas_width=1+g(U,R),R+=3,Z.canvas_height=1+g(U,R),R+=3;break;case"ALPH":G=!0,K=X+8,fe=J-8;break;case"ANIM":(Z=T.header).bgcolor=v(U,J),R=J+4,Z.loop_count=d(U,R),R+=2;break;case"ANMF":var oe,Z;(Z=T.frames[F]={}).offset_x=2*g(U,J),J+=3,Z.offset_y=2*g(U,J),J+=3,Z.width=1+g(U,J),J+=3,Z.height=1+g(U,J),J+=3,Z.duration=g(U,J),J+=3,oe=U[J++],Z.dispose=1&oe,Z.blend=oe>>1&1}he!="ANMF"&&(J+=X)}return T}}(w,0);x.response=w,x.rgbaoutput=!0,x.dataurl=!1;var N=x.header?x.header:null,P=x.frames?x.frames:null;if(N){N.loop_counter=N.loop_count,f=[N.canvas_height],_=[N.canvas_width];for(var Y=0;Y<P.length&&P[Y].blend!=0;Y++);}var D=P[0],H=k.WebPDecodeRGBA(w,D.src_off,D.src_size,_,f);D.rgba=H,D.imgwidth=_[0],D.imgheight=f[0];for(var z=0;z<_[0]*f[0]*4;z++)S[z]=H[z];return this.width=_,this.height=f,this.data=S,this}(function(e){var t,r,n,i,s,a,o,l,c,d=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new l,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new a,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new a,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var g=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=A;Object.defineProperty(this,"pdf",{get:function(){return M}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(B){V=!!B}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(B){Q=!!B}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(B){isNaN(B)||(re=B)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(B){isNaN(B)||(ae=B)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(B){var Ee;typeof B=="number"?Ee=[B,B,B,B]:((Ee=new Array(4))[0]=B[0],Ee[1]=B.length>=2?B[1]:Ee[0],Ee[2]=B.length>=3?B[2]:Ee[0],Ee[3]=B.length>=4?B[3]:Ee[1]),c.margin=Ee}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(B){ge=B}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(B){me=B}});var ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ve},set:function(B){ve=B}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(B){B instanceof d&&(c=B)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(B){c.path=B}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(B){je=B}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(B){var Ee;Ee=v(B),this.ctx.fillStyle=Ee.style,this.ctx.isFillTransparent=Ee.a===0,this.ctx.fillOpacity=Ee.a,this.pdf.setFillColor(Ee.r,Ee.g,Ee.b,{a:Ee.a}),this.pdf.setTextColor(Ee.r,Ee.g,Ee.b,{a:Ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(B){var Ee=v(B);this.ctx.strokeStyle=Ee.style,this.ctx.isStrokeTransparent=Ee.a===0,this.ctx.strokeOpacity=Ee.a,Ee.a===0?this.pdf.setDrawColor(255,255,255):(Ee.a,this.pdf.setDrawColor(Ee.r,Ee.g,Ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(B){["butt","round","square"].indexOf(B)!==-1&&(this.ctx.lineCap=B,this.pdf.setLineCap(B))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(B){isNaN(B)||(this.ctx.lineWidth=B,this.pdf.setLineWidth(B))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(B){["bevel","round","miter"].indexOf(B)!==-1&&(this.ctx.lineJoin=B,this.pdf.setLineJoin(B))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(B){isNaN(B)||(this.ctx.miterLimit=B,this.pdf.setMiterLimit(B))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(B){this.ctx.textBaseline=B}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(B){["right","end","center","left","start"].indexOf(B)!==-1&&(this.ctx.textAlign=B)}});var Oe=null,Ce=null,Ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ge},set:function(B){Oe=null,Ce=null,Ge=B}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(B){var Ee;if(this.ctx.font=B,(Ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(B))!==null){var ft=Ee[1];Ee[2];var Xe=Ee[3],Ne=Ee[4];Ee[5];var Qe=Ee[6],Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(Ie==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var Ye=function(ke){var Ze,tt,nt=[],it=ke.trim();if(it==="")return Ap;if(it in Q5)return[Q5[it]];for(;it!=="";){switch(tt=null,Ze=(it=ty(it)).charAt(0)){case'"':case"'":tt=kL(it.substring(1),Ze);break;default:tt=AL(it)}if(tt===null||(nt.push(tt[0]),(it=ty(tt[1]))!==""&&it.charAt(0)!==","))return Ap;it=it.replace(/^,/,"")}return nt}(Qe);if(this.fontFaces){var De=function(ke,Ze){var tt=ke.getFontList(),nt=JSON.stringify(tt);if(Oe===null||Ce!==nt){var it=function(jt){var Te=[];return Object.keys(jt).forEach(function(We){jt[We].forEach(function(Re){var st=null;switch(Re){case"bold":st={family:We,weight:"bold"};break;case"italic":st={family:We,style:"italic"};break;case"bolditalic":st={family:We,weight:"bold",style:"italic"};break;case"":case"normal":st={family:We}}st!==null&&(st.ref={name:We,style:Re},Te.push(st))})}),Te}(tt);Oe=function(jt){for(var Te={},We=0;We<jt.length;++We){var Re=kp(jt[We]),st=Re.family,Dt=Re.stretch,at=Re.style,Je=Re.weight;Te[st]=Te[st]||{},Te[st][Dt]=Te[st][Dt]||{},Te[st][Dt][at]=Te[st][Dt][at]||{},Te[st][Dt][at][Je]=Re}return Te}(it.concat(Ze)),Ce=nt}return Oe}(this.pdf,this.fontFaces),dt=Ye.map(function(ke){return{family:ke,stretch:"normal",weight:Xe,style:ft}}),pt=function(ke,Ze,tt){for(var nt=(tt=tt||{}).defaultFontFamily||"times",it=Object.assign({},NL,tt.genericFontFamilies||{}),jt=null,Te=null,We=0;We<Ze.length;++We)if(it[(jt=kp(Ze[We])).family]&&(jt.family=it[jt.family]),ke.hasOwnProperty(jt.family)){Te=ke[jt.family];break}if(!(Te=Te||ke[nt]))throw new Error("Could not find a font-family for the rule '"+ey(jt)+"' and default family '"+nt+"'.");if(Te=function(Re,st){if(st[Re])return st[Re];var Dt=X1[Re],at=Dt<=X1.normal?-1:1,Je=X5(st,_x,Dt,at);if(!Je)throw new Error("Could not find a matching font-stretch value for "+Re);return Je}(jt.stretch,Te),Te=function(Re,st){if(st[Re])return st[Re];for(var Dt=bx[Re],at=0;at<Dt.length;++at)if(st[Dt[at]])return st[Dt[at]];throw new Error("Could not find a matching font-style for "+Re)}(jt.style,Te),!(Te=function(Re,st){if(st[Re])return st[Re];if(Re===400&&st[500])return st[500];if(Re===500&&st[400])return st[400];var Dt=SL[Re],at=X5(st,xx,Dt,Re<400?-1:1);if(!at)throw new Error("Could not find a matching font-weight for value "+Re);return at}(jt.weight,Te)))throw new Error("Failed to resolve a font for the rule '"+ey(jt)+"'.");return Te}(De,dt);this.pdf.setFont(pt.ref.name,pt.ref.style)}else{var rt="";(Xe==="bold"||parseInt(Xe,10)>=700||ft==="bold")&&(rt="bold"),ft==="italic"&&(rt+="italic"),rt.length===0&&(rt="normal");for(var wt="",_t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ze=0;ze<Ye.length;ze++){if(this.pdf.internal.getFont(Ye[ze],rt,{noFallback:!0,disableWarning:!0})!==void 0){wt=Ye[ze];break}if(rt==="bolditalic"&&this.pdf.internal.getFont(Ye[ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)wt=Ye[ze],rt="bold";else if(this.pdf.internal.getFont(Ye[ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){wt=Ye[ze],rt="normal";break}}if(wt===""){for(var de=0;de<Ye.length;de++)if(_t[Ye[de]]){wt=_t[Ye[de]];break}}wt=wt===""?"Times":wt,this.pdf.setFont(wt,rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(B){this.ctx.globalCompositeOperation=B}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(B){this.ctx.globalAlpha=B}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(B){this.ctx.lineDashOffset=B,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(B){this.ctx.lineDash=B,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(B){this.ctx.ignoreClearRect=!!B}})};g.prototype.setLineDash=function(A){this.lineDash=A},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){P.call(this,"fill",!1)},g.prototype.stroke=function(){P.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(A,M){if(isNaN(A)||isNaN(M))throw qt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new a(A,M));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(A,M)},g.prototype.closePath=function(){var A=new a(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&Ft(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){A=new a(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(A.x,A.y)},g.prototype.lineTo=function(A,M){if(isNaN(A)||isNaN(M))throw qt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new a(A,M));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},g.prototype.quadraticCurveTo=function(A,M,V,Q){if(isNaN(V)||isNaN(Q)||isNaN(A)||isNaN(M))throw qt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new a(V,Q)),ae=this.ctx.transform.applyToPoint(new a(A,M));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:re.x,y:re.y}),this.ctx.lastPoint=new a(re.x,re.y)},g.prototype.bezierCurveTo=function(A,M,V,Q,re,ae){if(isNaN(re)||isNaN(ae)||isNaN(A)||isNaN(M)||isNaN(V)||isNaN(Q))throw qt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new a(re,ae)),me=this.ctx.transform.applyToPoint(new a(A,M)),ve=this.ctx.transform.applyToPoint(new a(V,Q));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:ve.x,y2:ve.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new a(ge.x,ge.y)},g.prototype.arc=function(A,M,V,Q,re,ae){if(isNaN(A)||isNaN(M)||isNaN(V)||isNaN(Q)||isNaN(re))throw qt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new a(A,M));A=ge.x,M=ge.y;var me=this.ctx.transform.applyToPoint(new a(0,V)),ve=this.ctx.transform.applyToPoint(new a(0,0));V=Math.sqrt(Math.pow(me.x-ve.x,2)+Math.pow(me.y-ve.y,2))}Math.abs(re-Q)>=2*Math.PI&&(Q=0,re=2*Math.PI),this.path.push({type:"arc",x:A,y:M,radius:V,startAngle:Q,endAngle:re,counterclockwise:ae})},g.prototype.arcTo=function(A,M,V,Q,re){throw new Error("arcTo not implemented.")},g.prototype.rect=function(A,M,V,Q){if(isNaN(A)||isNaN(M)||isNaN(V)||isNaN(Q))throw qt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,M),this.lineTo(A+V,M),this.lineTo(A+V,M+Q),this.lineTo(A,M+Q),this.lineTo(A,M),this.lineTo(A+V,M),this.lineTo(A,M)},g.prototype.fillRect=function(A,M,V,Q){if(isNaN(A)||isNaN(M)||isNaN(V)||isNaN(Q))throw qt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,M,V,Q),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},g.prototype.strokeRect=function(A,M,V,Q){if(isNaN(A)||isNaN(M)||isNaN(V)||isNaN(Q))throw qt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(A,M,V,Q),this.stroke())},g.prototype.clearRect=function(A,M,V,Q){if(isNaN(A)||isNaN(M)||isNaN(V)||isNaN(Q))throw qt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,M,V,Q))},g.prototype.save=function(A){A=typeof A!="boolean"||A;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},g.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(M),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(A){var M,V,Q,re;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))M=0,V=0,Q=0,re=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(ae!==null)M=parseInt(ae[1]),V=parseInt(ae[2]),Q=parseInt(ae[3]),re=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)M=parseInt(ae[1]),V=parseInt(ae[2]),Q=parseInt(ae[3]),re=parseFloat(ae[4]);else{if(re=1,typeof A=="string"&&A.charAt(0)!=="#"){var ge=new fx(A);A=ge.ok?ge.toHex():"#000000"}A.length===4?(M=A.substring(1,2),M+=M,V=A.substring(2,3),V+=V,Q=A.substring(3,4),Q+=Q):(M=A.substring(1,3),V=A.substring(3,5),Q=A.substring(5,7)),M=parseInt(M,16),V=parseInt(V,16),Q=parseInt(Q,16)}}return{r:M,g:V,b:Q,a:re,style:A}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(A,M,V,Q){if(isNaN(M)||isNaN(V)||typeof A!="string")throw qt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!f.call(this)){var re=X(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;F.call(this,{text:A,x:M,y:V,scale:ae,angle:re,align:this.textAlign,maxWidth:Q})}},g.prototype.strokeText=function(A,M,V,Q){if(isNaN(M)||isNaN(V)||typeof A!="string")throw qt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){Q=isNaN(Q)?void 0:Q;var re=X(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;F.call(this,{text:A,x:M,y:V,scale:ae,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:Q})}},g.prototype.measureText=function(A){if(typeof A!="string")throw qt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,V=this.pdf.internal.scaleFactor,Q=M.internal.getFontSize(),re=M.getStringUnitWidth(A)*Q/M.internal.scaleFactor;return new function(ae){var ge=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this}({width:re*=Math.round(96*V/72*1e4)/1e4})},g.prototype.scale=function(A,M){if(isNaN(A)||isNaN(M))throw qt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(A,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},g.prototype.rotate=function(A){if(isNaN(A))throw qt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new l(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},g.prototype.translate=function(A,M){if(isNaN(A)||isNaN(M))throw qt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,A,M);this.ctx.transform=this.ctx.transform.multiply(V)},g.prototype.transform=function(A,M,V,Q,re,ae){if(isNaN(A)||isNaN(M)||isNaN(V)||isNaN(Q)||isNaN(re)||isNaN(ae))throw qt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new l(A,M,V,Q,re,ae);this.ctx.transform=this.ctx.transform.multiply(ge)},g.prototype.setTransform=function(A,M,V,Q,re,ae){A=isNaN(A)?1:A,M=isNaN(M)?0:M,V=isNaN(V)?0:V,Q=isNaN(Q)?1:Q,re=isNaN(re)?0:re,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(A,M,V,Q,re,ae)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(A,M,V,Q,re,ae,ge,me,ve){var je=this.pdf.getImageProperties(A),Oe=1,Ce=1,Ge=1,B=1;Q!==void 0&&me!==void 0&&(Ge=me/Q,B=ve/re,Oe=je.width/Q*me/Q,Ce=je.height/re*ve/re),ae===void 0&&(ae=M,ge=V,M=0,V=0),Q!==void 0&&me===void 0&&(me=Q,ve=re),Q===void 0&&me===void 0&&(me=je.width,ve=je.height);var Ee=this.ctx.transform.decompose(),ft=X(Ee.rotate.shx),Xe=new l,Ne=(Xe=(Xe=(Xe=Xe.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale)).applyToRectangle(new o(ae-M*Ge,ge-V*B,Q*Oe,re*Ce));if(this.autoPaging){for(var Qe,Ie=k.call(this,Ne),Ye=[],De=0;De<Ie.length;De+=1)Ye.indexOf(Ie[De])===-1&&Ye.push(Ie[De]);N(Ye);for(var dt=Ye[0],pt=Ye[Ye.length-1],rt=dt;rt<pt+1;rt++){this.pdf.setPage(rt);var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=rt===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],de=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ke=rt===1?0:ze+(rt-2)*de;if(this.ctx.clip_path.length!==0){var Ze=this.path;Qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Qe,this.posX+this.margin[3],-ke+_t+this.ctx.prevPageLastElemOffset),Y.call(this,"fill",!0),this.path=Ze}var tt=JSON.parse(JSON.stringify(Ne));tt=x([tt],this.posX+this.margin[3],-ke+_t+this.ctx.prevPageLastElemOffset)[0];var nt=(rt>dt||rt<pt)&&S.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,de,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",tt.x,tt.y,tt.w,tt.h,null,null,ft),nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(A,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,ft)};var k=function(A,M,V){var Q=[];M=M||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":Q.push(Math.floor((A.y+re)/V)+1);break;case"arc":Q.push(Math.floor((A.y+re-A.radius)/V)+1),Q.push(Math.floor((A.y+re+A.radius)/V)+1);break;case"qct":var ae=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);Q.push(Math.floor((ae.y+re)/V)+1),Q.push(Math.floor((ae.y+ae.h+re)/V)+1);break;case"bct":var ge=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);Q.push(Math.floor((ge.y+re)/V)+1),Q.push(Math.floor((ge.y+ge.h+re)/V)+1);break;case"rect":Q.push(Math.floor((A.y+re)/V)+1),Q.push(Math.floor((A.y+A.h+re)/V)+1)}for(var me=0;me<Q.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<Q[me];)w.call(this);return Q},w=function(){var A=this.fillStyle,M=this.strokeStyle,V=this.font,Q=this.lineCap,re=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=M,this.font=V,this.lineCap=Q,this.lineWidth=re,this.lineJoin=ae},x=function(A,M,V){for(var Q=0;Q<A.length;Q++)switch(A[Q].type){case"bct":A[Q].x2+=M,A[Q].y2+=V;case"qct":A[Q].x1+=M,A[Q].y1+=V;default:A[Q].x+=M,A[Q].y+=V}return A},N=function(A){return A.sort(function(M,V){return M-V})},P=function(A,M){var V=this.fillStyle,Q=this.strokeStyle,re=this.lineCap,ae=this.lineWidth,ge=Math.abs(ae*this.ctx.transform.scaleX),me=this.lineJoin;if(this.autoPaging){for(var ve,je,Oe=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),Ge=[],B=0;B<Ce.length;B++)if(Ce[B].x!==void 0)for(var Ee=k.call(this,Ce[B]),ft=0;ft<Ee.length;ft+=1)Ge.indexOf(Ee[ft])===-1&&Ge.push(Ee[ft]);for(var Xe=0;Xe<Ge.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<Ge[Xe];)w.call(this);N(Ge);for(var Ne=Ge[0],Qe=Ge[Ge.length-1],Ie=Ne;Ie<Qe+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=V,this.strokeStyle=Q,this.lineCap=re,this.lineWidth=ge,this.lineJoin=me;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=Ie===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=Ie===1?0:dt+(Ie-2)*pt;if(this.ctx.clip_path.length!==0){var wt=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ve,this.posX+this.margin[3],-rt+De+this.ctx.prevPageLastElemOffset),Y.call(this,A,!0),this.path=wt}if(je=JSON.parse(JSON.stringify(Oe)),this.path=x(je,this.posX+this.margin[3],-rt+De+this.ctx.prevPageLastElemOffset),M===!1||Ie===0){var _t=(Ie>Ne||Ie<Qe)&&S.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,pt,null).clip().discardPath()),Y.call(this,A,M),_t&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}this.path=Oe}else this.lineWidth=ge,Y.call(this,A,M),this.lineWidth=ae},Y=function(A,M){if((A!=="stroke"||M||!_.call(this))&&(A==="stroke"||M||!f.call(this))){for(var V,Q,re=[],ae=this.path,ge=0;ge<ae.length;ge++){var me=ae[ge];switch(me.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:me,deltas:[],abs:[]});break;case"lt":var ve=re.length;if(ae[ge-1]&&!isNaN(ae[ge-1].x)&&(V=[me.x-ae[ge-1].x,me.y-ae[ge-1].y],ve>0)){for(;ve>=0;ve--)if(re[ve-1].close!==!0&&re[ve-1].begin!==!0){re[ve-1].deltas.push(V),re[ve-1].abs.push(me);break}}break;case"bct":V=[me.x1-ae[ge-1].x,me.y1-ae[ge-1].y,me.x2-ae[ge-1].x,me.y2-ae[ge-1].y,me.x-ae[ge-1].x,me.y-ae[ge-1].y],re[re.length-1].deltas.push(V);break;case"qct":var je=ae[ge-1].x+2/3*(me.x1-ae[ge-1].x),Oe=ae[ge-1].y+2/3*(me.y1-ae[ge-1].y),Ce=me.x+2/3*(me.x1-me.x),Ge=me.y+2/3*(me.y1-me.y),B=me.x,Ee=me.y;V=[je-ae[ge-1].x,Oe-ae[ge-1].y,Ce-ae[ge-1].x,Ge-ae[ge-1].y,B-ae[ge-1].x,Ee-ae[ge-1].y],re[re.length-1].deltas.push(V);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(me)}}Q=M?null:A==="stroke"?"stroke":"fill";for(var ft=!1,Xe=0;Xe<re.length;Xe++)if(re[Xe].arc)for(var Ne=re[Xe].abs,Qe=0;Qe<Ne.length;Qe++){var Ie=Ne[Qe];Ie.type==="arc"?z.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,M,!ft):G.call(this,Ie.x,Ie.y),ft=!0}else if(re[Xe].close===!0)this.pdf.internal.out("h"),ft=!1;else if(re[Xe].begin!==!0){var Ye=re[Xe].start.x,De=re[Xe].start.y;K.call(this,re[Xe].deltas,Ye,De),ft=!0}Q&&U.call(this,Q),M&&J.call(this)}},D=function(A){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-V;case"top":return A+M-V;case"hanging":return A+M-2*V;case"middle":return A+M/2-V;default:return A}},H=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(M,V){this.colorStops.push([M,V])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var z=function(A,M,V,Q,re,ae,ge,me,ve){for(var je=he.call(this,V,Q,re,ae),Oe=0;Oe<je.length;Oe++){var Ce=je[Oe];Oe===0&&(ve?T.call(this,Ce.x1+A,Ce.y1+M):G.call(this,Ce.x1+A,Ce.y1+M)),fe.call(this,A,M,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}me?J.call(this):U.call(this,ge)},U=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},J=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(A,M){this.pdf.internal.out(r(A)+" "+n(M)+" m")},F=function(A){var M;switch(A.align){case"right":case"end":M="right";break;case"center":M="center";break;default:M="left"}var V,Q,re,ae=this.pdf.getTextDimensions(A.text),ge=D.call(this,A.y),me=H.call(this,ge)-ae.h,ve=this.ctx.transform.applyToPoint(new a(A.x,ge));if(this.autoPaging){var je=this.ctx.transform.decompose(),Oe=new l;Oe=(Oe=(Oe=Oe.multiply(je.translate)).multiply(je.skew)).multiply(je.scale);for(var Ce=this.ctx.transform.applyToRectangle(new o(A.x,ge,ae.w,ae.h)),Ge=Oe.applyToRectangle(new o(A.x,me,ae.w,ae.h)),B=k.call(this,Ge),Ee=[],ft=0;ft<B.length;ft+=1)Ee.indexOf(B[ft])===-1&&Ee.push(B[ft]);N(Ee);for(var Xe=Ee[0],Ne=Ee[Ee.length-1],Qe=Xe;Qe<Ne+1;Qe++){this.pdf.setPage(Qe);var Ie=Qe===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[2],dt=De-this.margin[0],pt=this.pdf.internal.pageSize.width-this.margin[1],rt=pt-this.margin[3],wt=Qe===1?0:Ye+(Qe-2)*dt;if(this.ctx.clip_path.length!==0){var _t=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(V,this.posX+this.margin[3],-1*wt+Ie),Y.call(this,"fill",!0),this.path=_t}var ze=x([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-wt+Ie+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*A.scale),re=this.lineWidth,this.lineWidth=re*A.scale);var de=this.autoPaging!=="text";if(de||ze.y+ze.h<=De){if(de||ze.y>=Ie&&ze.x<=pt){var ke=de?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||pt-ze.x)[0],Ze=x([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-wt+Ie+this.ctx.prevPageLastElemOffset)[0],tt=de&&(Qe>Xe||Qe<Ne)&&S.call(this);tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,dt,null).clip().discardPath()),this.pdf.text(ke,Ze.x,Ze.y,{angle:A.angle,align:M,renderingMode:A.renderingMode}),tt&&this.pdf.restoreGraphicsState()}}else ze.y<De&&(this.ctx.prevPageLastElemOffset+=De-ze.y);A.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=re)}}else A.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*A.scale),re=this.lineWidth,this.lineWidth=re*A.scale),this.pdf.text(A.text,ve.x+this.posX,ve.y+this.posY,{angle:A.angle,align:M,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=re)},G=function(A,M,V,Q){V=V||0,Q=Q||0,this.pdf.internal.out(r(A+V)+" "+n(M+Q)+" l")},K=function(A,M,V){return this.pdf.lines(A,M,V,null,null)},fe=function(A,M,V,Q,re,ae,ge,me){this.pdf.internal.out([t(i(V+A)),t(s(Q+M)),t(i(re+A)),t(s(ae+M)),t(i(ge+A)),t(s(me+M)),"c"].join(" "))},he=function(A,M,V,Q){for(var re=2*Math.PI,ae=Math.PI/2;M>V;)M-=re;var ge=Math.abs(V-M);ge<re&&Q&&(ge=re-ge);for(var me=[],ve=Q?-1:1,je=M;ge>1e-5;){var Oe=je+ve*Math.min(ge,ae);me.push(ue.call(this,A,je,Oe)),ge-=Math.abs(Oe-je),je=Oe}return me},ue=function(A,M,V){var Q=(V-M)/2,re=A*Math.cos(Q),ae=A*Math.sin(Q),ge=re,me=-ae,ve=ge*ge+me*me,je=ve+ge*re+me*ae,Oe=4/3*(Math.sqrt(2*ve*je)-je)/(ge*ae-me*re),Ce=ge-Oe*me,Ge=me+Oe*ge,B=Ce,Ee=-Ge,ft=Q+M,Xe=Math.cos(ft),Ne=Math.sin(ft);return{x1:A*Math.cos(M),y1:A*Math.sin(M),x2:Ce*Xe-Ge*Ne,y2:Ce*Ne+Ge*Xe,x3:B*Xe-Ee*Ne,y3:B*Ne+Ee*Xe,x4:A*Math.cos(V),y4:A*Math.sin(V)}},X=function(A){return 180*A/Math.PI},R=function(A,M,V,Q,re,ae){var ge=A+.5*(V-A),me=M+.5*(Q-M),ve=re+.5*(V-re),je=ae+.5*(Q-ae),Oe=Math.min(A,re,ge,ve),Ce=Math.max(A,re,ge,ve),Ge=Math.min(M,ae,me,je),B=Math.max(M,ae,me,je);return new o(Oe,Ge,Ce-Oe,B-Ge)},oe=function(A,M,V,Q,re,ae,ge,me){var ve,je,Oe,Ce,Ge,B,Ee,ft,Xe,Ne,Qe,Ie,Ye,De,dt=V-A,pt=Q-M,rt=re-V,wt=ae-Q,_t=ge-re,ze=me-ae;for(je=0;je<41;je++)Xe=(Ee=(Oe=A+(ve=je/40)*dt)+ve*((Ge=V+ve*rt)-Oe))+ve*(Ge+ve*(re+ve*_t-Ge)-Ee),Ne=(ft=(Ce=M+ve*pt)+ve*((B=Q+ve*wt)-Ce))+ve*(B+ve*(ae+ve*ze-B)-ft),je==0?(Qe=Xe,Ie=Ne,Ye=Xe,De=Ne):(Qe=Math.min(Qe,Xe),Ie=Math.min(Ie,Ne),Ye=Math.max(Ye,Xe),De=Math.max(De,Ne));return new o(Math.round(Qe),Math.round(Ie),Math.round(Ye-Qe),Math.round(De-Ie))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,M,V=(A=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:M}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Ke.API),function(e){var t=function(a){var o,l,c,d,g,v,f,_,S,k;for(l=[],c=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>c;c+=4)(g=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(v=(g=((g=((g=((g=(g-(k=g%85))/85)-(S=g%85))/85)-(_=g%85))/85)-(f=g%85))/85)%85,l.push(v+33,f+33,_+33,S+33,k+33)):l.push(122);return function(w,x){for(var N=x;N>0;N--)w.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,c,d,g,v=String,f="length",_=255,S="charCodeAt",k="slice",w="replace";for(a[k](-2),a=a[k](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),c=[],d=0,g=(a+=o="uuuuu"[k](a[f]%5||5))[f];g>d;d+=5)l=52200625*(a[S](d)-33)+614125*(a[S](d+1)-33)+7225*(a[S](d+2)-33)+85*(a[S](d+3)-33)+(a[S](d+4)-33),c.push(_&l>>24,_&l>>16,_&l>>8,_&l);return function(x,N){for(var P=N;P>0;P--)x.pop()}(c,o[f]),v.fromCharCode.apply(v,c)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=B1(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,o){var l=0,c=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(Ke.API),function(e){e.loadFile=function(t,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,d){var g=new XMLHttpRequest,v=0,f=function(_){var S=_.length,k=[],w=String.fromCharCode;for(v=0;v<S;v+=1)k.push(w(255&_.charCodeAt(v)));return k.join("")};if(g.open("GET",l,!c),g.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(g.onload=function(){g.status===200?d(f(this.responseText)):d(void 0)}),g.send(null),c&&g.status===200)return f(g.responseText)}(i,s,a)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Ke.API),function(e){function t(){return(ot.html2canvas?Promise.resolve(ot.html2canvas):_a(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(ot.DOMPurify?Promise.resolve(ot.DOMPurify):_a(()=>import("./purify.es-sOfw8HaZ.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Ft(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},s=function o(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),g=l.firstChild;g;g=g.nextSibling)c!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||d.appendChild(o(g,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return(d=d.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var _=d[f],S=_.src.find(function(k){return k.format==="truetype"});S&&c.addFont(S.url,_.ref.name,_.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,c.context2d.save(!0),l(this.prop.container,v)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||Ke.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,g){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(v){return c.updateProgress(null,d),v}).then(d,g).then(function(v){return c.updateProgress(1),v})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),v=c.call(g,o,l);return a.convert(v,d.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ke.getPageSize=function(o,l,c){if(Ft(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var g,v=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var _,S=0,k=0;if(f.hasOwnProperty(v))S=f[v][1]/g,k=f[v][0]/g;else try{S=c[1],k=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",k>S&&(_=k,k=S,S=_);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",S>k&&(_=k,k=S,S=_)}return{width:k,height:S,unit:l,k:g,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(kp):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(Ke.API),Ke.API.addJS=function(e){return ny=e,this.internal.events.subscribe("postPutResources",function(){ah=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ah+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ry=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ny+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ah!==void 0&&ry!==void 0&&this.internal.out("/Names <</JavaScript "+ah+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(s=0;s<c;s++){var g=r.internal.newObject();d.push(g);var v=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Ke.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,s,a,o){var l,c=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(g){for(var v,f=256*g.charCodeAt(4)+g.charCodeAt(5),_=g.length,S={width:0,height:0,numcomponents:1},k=4;k<_;k+=2){if(k+=f,t.indexOf(g.charCodeAt(k+1))!==-1){v=256*g.charCodeAt(k+5)+g.charCodeAt(k+6),S={width:256*g.charCodeAt(k+7)+g.charCodeAt(k+8),height:v,numcomponents:g.charCodeAt(k+9)};break}f=256*g.charCodeAt(k+2)+g.charCodeAt(k+3)}return S}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return d}}(Ke.API),Ke.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=uL(e,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,d=s.depth;i=c&&l===1?function(z){for(var U=z.width,J=z.height,T=z.data,F=z.palette,G=z.depth,K=!1,fe=[],he=[],ue=void 0,X=!1,R=0,oe=0;oe<F.length;oe++){var Z=Zv(F[oe],4),A=Z[0],M=Z[1],V=Z[2],Q=Z[3];fe.push(A,M,V),Q!=null&&(Q===0?(R++,he.length<1&&he.push(oe)):Q<255&&(X=!0))}if(X||R>1){K=!0,he=void 0;var re=U*J;ue=new Uint8Array(re);for(var ae=new DataView(T.buffer),ge=0;ge<re;ge++){var me=jp(ae,ge,G),ve=Zv(F[me],4)[3];ue[ge]=ve}}else R===0&&(he=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:K?8:void 0,colorBytes:T,alphaBytes:ue,needSMask:K,palette:fe,mask:he}}(s):l===2||l===4?function(z){for(var U=z.data,J=z.width,T=z.height,F=z.channels,G=z.depth,K=F===2?"DeviceGray":"DeviceRGB",fe=F-1,he=J*T,ue=fe,X=he*ue,R=1*he,oe=Math.ceil(X*G/8),Z=Math.ceil(R*G/8),A=new Uint8Array(oe),M=new Uint8Array(Z),V=new DataView(U.buffer),Q=new DataView(A.buffer),re=new DataView(M.buffer),ae=!1,ge=0;ge<he;ge++){for(var me=ge*F,ve=0;ve<ue;ve++)hy(Q,jp(V,me+ve,G),ge*ue+ve,G);var je=jp(V,me+ue,G);je<(1<<G)-1&&(ae=!0),hy(re,je,1*ge,G)}return{colorSpace:K,colorsPerPixel:fe,sMaskBitsPerComponent:ae?G:void 0,colorBytes:A,alphaBytes:M,needSMask:ae}}(s):function(z){var U=z.data,J=z.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:J,colorsPerPixel:J==="DeviceGray"?1:3,colorBytes:U instanceof Uint16Array?function(T){for(var F=T.length,G=new Uint8Array(2*F),K=new DataView(G.buffer,G.byteOffset,G.byteLength),fe=0;fe<F;fe++)K.setUint16(2*fe,T[fe],!1);return G}(U):U,needSMask:!1}}(s);var g,v,f,_=i,S=_.colorSpace,k=_.colorsPerPixel,w=_.sMaskBitsPerComponent,x=_.colorBytes,N=_.alphaBytes,P=_.needSMask,Y=_.palette,D=_.mask,H=null;return n!==Ke.API.image_compression.NONE&&typeof B1=="function"?(H=function(z){var U;switch(z){case Ke.API.image_compression.FAST:U=11;break;case Ke.API.image_compression.MEDIUM:U=13;break;case Ke.API.image_compression.SLOW:U=14;break;default:U=12}return U}(n),g=this.decode.FLATE_DECODE,v="/Predictor ".concat(H," /Colors ").concat(k," /BitsPerComponent ").concat(d," /Columns ").concat(a),e=oy(x,Math.ceil(a*k*d/8),k,d,n),P&&(f=oy(N,Math.ceil(a*w/8),1,w,n))):(g=void 0,v=void 0,e=x,P&&(f=N)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:e,index:t,filter:g,decodeParameters:v,transparency:D,palette:Y,sMask:f,predictor:H,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:w,colorSpace:S}}},function(e){e.processGIF89A=function(t,r,n,i){var s=new EL(t),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},d=new Lp(100).encode(c,100);return e.processJPEG.call(this,d,r,n,i)},e.processGIF87A=e.processGIF89A}(Ke.API),xi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){qt.log("bit decode error:"+r)}},xi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},xi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},xi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},xi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,d=n*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=c}this.pos+=e}},xi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/t*255|0,d=i*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},xi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},xi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},xi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var s=new xi(t,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new Lp(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(Ke.API),py.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var s=new py(t),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new Lp(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(Ke.API),Ke.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var d=n[c],g=n[c+1],v=n[c+2],f=n[c+3];s[o++]=d,s[o++]=g,s[o++]=v,a[l++]=f}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:_,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ke.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jo=Ke.API,oh=Jo.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,g=t.doKerning!==!1,v=0,f=e.length,_=0,S=o[0]||l,k=[];for(r=0;r<f;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(v=g&&Ft(c[n])==="object"&&!isNaN(parseInt(c[n][_],10))?c[n][_]/d:0,k.push((o[n]||S)/l+v)),_=n;return k},iy=Jo.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Jo.processArabic&&(e=Jo.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:oh.apply(this,arguments).reduce(function(s,a){return s+a},0)},sy=function(e,t,r,n){for(var i=[],s=0,a=e.length,o=0;s!==a&&o+t[s]<r;)o+=t[s],s++;i.push(e.slice(0,s));var l=s;for(o=0;s!==a;)o+t[s]>n&&(i.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},ay=function(e,t,r){r||(r={});var n,i,s,a,o,l,c,d=[],g=[d],v=r.textIndent||0,f=0,_=0,S=e.split(" "),k=oh.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?S[0].length+2:r.lineIndent||0){var w=Array(l).join(" "),x=[];S.map(function(P){(P=P.split(/\s*\n/)).length>1?x=x.concat(P.map(function(Y,D){return(D&&Y.length?`
`:"")+Y})):x.push(P[0])}),S=x,l=iy.apply(this,[w,r])}for(s=0,a=S.length;s<a;s++){var N=0;if(n=S[s],l&&n[0]==`
`&&(n=n.substr(1),N=1),v+f+(_=(i=oh.apply(this,[n,r])).reduce(function(P,Y){return P+Y},0))>t||N){if(_>t){for(o=sy.apply(this,[n,i,t-(v+f),t]),d.push(o.shift()),d=[o.pop()];o.length;)g.push([o.shift()]);_=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(P,Y){return P+Y},0)}else d=[n];g.push(d),v=_+l,f=k}else d.push(n),v+=f+_,f=k}return c=l?function(P,Y){return(Y?w:"")+P.join(" ")}:function(P){return P.join(" ")},g.map(c)},Jo.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var g=this.internal.getFont(d.fontName,d.fontStyle),v="Unicode";return g.metadata[v]?{widths:g.metadata[v].widths||{0:1},kerning:g.metadata[v].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(ay.apply(this,[n[o],a,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=t[s],i[t[s]]=r[s];var a=function(v){return"0x"+parseInt(v,10).toString(16)},o=e.__fontmetrics__.compress=function(v){var f,_,S,k,w=["{"];for(var x in v){if(f=v[x],isNaN(parseInt(x,10))?_="'"+x+"'":(x=parseInt(x,10),_=(_=a(x).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof f=="number")f<0?(S=a(f).slice(3),k="-"):(S=a(f).slice(2),k=""),S=k+S.slice(0,-1)+i[S.slice(-1)];else{if(Ft(f)!=="object")throw new Error("Don't know what to do with value type "+Ft(f)+".");S=o(f)}w.push(_+S)}return w.push("}"),w.join("")},l=e.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,_,S,k,w={},x=1,N=w,P=[],Y="",D="",H=v.length-1,z=1;z<H;z+=1)(k=v[z])=="'"?f?(S=f.join(""),f=void 0):f=[]:f?f.push(k):k=="{"?(P.push([N,S]),N={},S=void 0):k=="}"?((_=P.pop())[0][_[1]]=N,S=void 0,N=_[0]):k=="-"?x=-1:S===void 0?n.hasOwnProperty(k)?(Y+=n[k],S=parseInt(Y,16)*x,x=1,Y=""):Y+=k:n.hasOwnProperty(k)?(D+=n[k],N[S]=parseInt(D,16)*x,x=1,S=void 0,D=""):D+=k;return w},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(v){var f=v.font,_=g.Unicode[f.postScriptName];_&&(f.metadata.Unicode={},f.metadata.Unicode.widths=_.widths,f.metadata.Unicode.kerning=_.kerning);var S=d.Unicode[f.postScriptName];S&&(f.metadata.Unicode.encoding=S,f.encoding=S.codePages[0])}])}(Ke.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(kh(o)),a.metadata=e.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(Ke),Ke.API.addSvgAsImage=function(e,t,r,n,i,s,a,o){if(isNaN(t)||isNaN(r))throw qt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw qt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(ot.canvg?Promise.resolve(ot.canvg):_a(()=>import("./index.es-DD01bU1t.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(c,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(d)}).then(function(){g.addImage(l.toDataURL("image/jpeg",1),t,r,n,i,a,o)})},Ke.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},Ke.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,d=0,g=0;function v(_,S){var k,w=!1;for(k=0;k<_.length;k+=1)_[k]===S&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=o.length;for(g=0;g<f;g+=1)r[o[g]].value=r[o[g]].defaultValue,r[o[g]].explicitSet=!1}if(Ft(e)==="object"){for(i in e)if(s=e[i],v(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&v(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(d=0;d<s[c].length;d+=1)typeof s[c][d]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,S=[];for(_ in r)r[_].explicitSet===!0&&(r[_].type==="name"?S.push("/"+_+" /"+r[_].value):S.push("/"+_+" "+r[_].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Ke.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],g=0,v=s.length;g<v;++g){if(o=a.metadata.characterToGlyph(s.charCodeAt(g)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(g),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(c[4-o.length],o)}return d.join("")},n=function(s){var a,o,l,c,d,g,v;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],g=0,v=(o=Object.keys(s).sort(function(f,_){return f-_})).length;g<v;g++)a=o[g],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,d=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var g=o.metadata.Unicode.widths,v=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",_=0;_<v.length;_++)f+=String.fromCharCode(v[_]);var S=c();d({data:f,addLength1:!0,objectId:S}),l("endobj");var k=c();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+tl(o.fontName)),l("/FontFile2 "+S+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var x=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+tl(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+e.API.PDFObject.convert(g)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+k+" 0 R"),l("/BaseFont /"+tl(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,d=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var g=o.metadata.rawData,v="",f=0;f<g.length;f++)v+=String.fromCharCode(g[f]);var _=c();d({data:v,addLength1:!0,objectId:_}),l("endobj");var S=c();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var k=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+tl(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+tl(o.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,d=s.options||{},g=s.mutex||{},v=g.pdfEscape,f=g.activeFontKey,_=g.fonts,S=f,k="",w=0,x="",N=_[S].encoding;if(_[S].encoding!=="Identity-H")return{text:o,x:l,y:c,options:d,mutex:g};for(x=o,S=f,Array.isArray(o)&&(x=o[0]),w=0;w<x.length;w+=1)_[S].metadata.hasOwnProperty("cmap")&&(a=_[S].metadata.cmap.unicode.codeMap[x[w].charCodeAt(0)]),a||x[w].charCodeAt(0)<256&&_[S].metadata.hasOwnProperty("Unicode")?k+=x[w]:k+="";var P="";return parseInt(S.slice(1))<14||N==="WinAnsiEncoding"?P=v(k,S).split("").map(function(Y){return Y.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(P=r(k,_[S])),g.isHex=!0,{text:P,x:l,y:c,options:d,mutex:g}};t.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(Ke),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ke.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,s,a,o,l,c,d,g=t,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,N=0;this.__bidiEngine__={};var P=function(T){var F=T.charCodeAt(),G=F>>8,K=S[G];return K!==void 0?g[256*K+(255&F)]:G===252||G===253?"AL":w.test(G)?"L":G===8?"R":"N"},Y=function(T){for(var F,G=0;G<T.length;G++){if((F=P(T.charAt(G)))==="L")return!1;if(F==="R")return!0}return!1},D=function(T,F,G,K){var fe,he,ue,X,R=F[K];switch(R){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&(R="AN");break;case"AL":x=!0,R="R";break;case"WS":case"BN":R="N";break;case"CS":K<1||K+1>=F.length||(fe=G[K-1])!=="EN"&&fe!=="AN"||(he=F[K+1])!=="EN"&&he!=="AN"?R="N":x&&(he="AN"),R=he===fe?he:"N";break;case"ES":R=(fe=K>0?G[K-1]:"B")==="EN"&&K+1<F.length&&F[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&G[K-1]==="EN"){R="EN";break}if(x){R="N";break}for(ue=K+1,X=F.length;ue<X&&F[ue]==="ET";)ue++;R=ue<X&&F[ue]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(X=F.length,ue=K+1;ue<X&&F[ue]==="NSM";)ue++;if(ue<X){var oe=T[K],Z=oe>=1425&&oe<=2303||oe===64286;if(fe=F[ue],Z&&(fe==="R"||fe==="AL")){R="R";break}}}R=K<1||(fe=F[K-1])==="B"?"N":G[K-1];break;case"B":x=!1,i=!0,R=N;break;case"S":s=!0,R="N"}return R},H=function(T,F,G){var K=T.split("");return G&&z(K,G,{hiLevel:N}),K.reverse(),F&&F.reverse(),K.join("")},z=function(T,F,G){var K,fe,he,ue,X,R=-1,oe=T.length,Z=0,A=[],M=N?f:v,V=[];for(x=!1,i=!1,s=!1,fe=0;fe<oe;fe++)V[fe]=P(T[fe]);for(he=0;he<oe;he++){if(X=Z,A[he]=D(T,V,A,he),K=240&(Z=M[X][_[A[he]]]),Z&=15,F[he]=ue=M[Z][5],K>0)if(K===16){for(fe=R;fe<he;fe++)F[fe]=1;R=-1}else R=-1;if(M[Z][6])R===-1&&(R=he);else if(R>-1){for(fe=R;fe<he;fe++)F[fe]=ue;R=-1}V[he]==="B"&&(F[he]=0),G.hiLevel|=ue}s&&function(Q,re,ae){for(var ge=0;ge<ae;ge++)if(Q[ge]==="S"){re[ge]=N;for(var me=ge-1;me>=0&&Q[me]==="WS";me--)re[me]=N}}(V,F,oe)},U=function(T,F,G,K,fe){if(!(fe.hiLevel<T)){if(T===1&&N===1&&!i)return F.reverse(),void(G&&G.reverse());for(var he,ue,X,R,oe=F.length,Z=0;Z<oe;){if(K[Z]>=T){for(X=Z+1;X<oe&&K[X]>=T;)X++;for(R=Z,ue=X-1;R<ue;R++,ue--)he=F[R],F[R]=F[ue],F[ue]=he,G&&(he=G[R],G[R]=G[ue],G[ue]=he);Z=X}Z++}}},J=function(T,F,G){var K=T.split(""),fe={hiLevel:N};return G||(G=[]),z(K,G,fe),function(he,ue,X){if(X.hiLevel!==0&&d)for(var R,oe=0;oe<he.length;oe++)ue[oe]===1&&(R=k.indexOf(he[oe]))>=0&&(he[oe]=k[R+1])}(K,G,fe),U(2,K,F,G,fe),U(1,K,F,G,fe),K.join("")};return this.__bidiEngine__.doBidiReorder=function(T,F,G){if(function(fe,he){if(he)for(var ue=0;ue<fe.length;ue++)he[ue]=ue;o===void 0&&(o=Y(fe)),c===void 0&&(c=Y(fe))}(T,F),a||!l||c)if(a&&l&&o^c)N=o?1:0,T=H(T,F,G);else if(!a&&l&&c)N=o?1:0,T=J(T,F,G),T=H(T,F);else if(!a||o||l||c){if(a&&!l&&o^c)T=H(T,F),o?(N=0,T=J(T,F,G)):(N=1,T=J(T,F,G),T=H(T,F));else if(a&&o&&!l&&c)N=1,T=J(T,F,G),T=H(T,F);else if(!a&&!l&&o^c){var K=d;o?(N=1,T=J(T,F,G),N=0,d=!1,T=J(T,F,G),d=K):(N=0,T=J(T,F,G),T=H(T,F),N=1,d=!1,T=J(T,F,G),d=K,T=H(T,F))}}else N=0,T=J(T,F,G);else N=o?1:0,T=J(T,F,G);return T},this.__bidiEngine__.setOptions=function(T){T&&(a=T.isInputVisual,l=T.isOutputVisual,o=T.isInputRtl,c=T.isOutputRtl,d=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Ke),Ke.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new ja(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new HL(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new CL(this.contents),this.head=new OL(this),this.name=new DL(this),this.cmap=new Nx(this),this.toUnicode={},this.hhea=new IL(this),this.maxp=new BL(this),this.hmtx=new UL(this),this.post=new FL(this),this.os2=new RL(this),this.loca=new WL(this),this.glyf=new zL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)t=l[a],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,s,a,o;for(a=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Oi,ja=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,s,a,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,s;for(s=[],n=0,i=t.length;n<i;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),CL=function(){var e;function t(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,s,a,o,l,c,d,g,v,f,_,S;for(S in f=Object.keys(r).length,l=Math.log(2),g=16*Math.floor(Math.log(f)/l),a=Math.floor(g/l),d=16*f-g,(i=new ja).writeInt(this.scalarType),i.writeShort(f),i.writeShort(g),i.writeShort(a),i.writeShort(d),s=16*f,c=i.pos+s,o=null,_=[],r)for(v=r[S],i.writeString(S),i.writeInt(e(v)),i.writeInt(c),i.writeInt(v.length),_=_.concat(v),S==="head"&&(o=c),c+=v.length;c%4;)_.push(0),c++;return i.write(_),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(r){var n,i,s,a;for(r=kx.call(r);r.length%4;)r.push(0);for(s=new ja(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},t}(),TL={}.hasOwnProperty,ts=function(e,t){for(var r in t)TL.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Oi=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var OL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Oi),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new ja).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),my=function(){function e(t,r){var n,i,s,a,o,l,c,d,g,v,f,_,S,k,w,x,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),g=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),v=f/2,t.pos+=6,s=function(){var P,Y;for(Y=[],l=P=0;0<=v?P<v:P>v;l=0<=v?++P:--P)Y.push(t.readUInt16());return Y}(),t.pos+=2,S=function(){var P,Y;for(Y=[],l=P=0;0<=v?P<v:P>v;l=0<=v?++P:--P)Y.push(t.readUInt16());return Y}(),c=function(){var P,Y;for(Y=[],l=P=0;0<=v?P<v:P>v;l=0<=v?++P:--P)Y.push(t.readUInt16());return Y}(),d=function(){var P,Y;for(Y=[],l=P=0;0<=v?P<v:P>v;l=0<=v?++P:--P)Y.push(t.readUInt16());return Y}(),i=(this.length-t.pos+this.offset)/2,o=function(){var P,Y;for(Y=[],l=P=0;0<=i?P<i:P>i;l=0<=i?++P:--P)Y.push(t.readUInt16());return Y}(),l=w=0,N=s.length;w<N;l=++w)for(k=s[l],n=x=_=S[l];_<=k?x<=k:x>=k;n=_<=k?++x:--x)d[l]===0?a=n+c[l]:(a=o[d[l]/2+(n-_)-(v-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}t.pos=g}return e.encode=function(t,r){var n,i,s,a,o,l,c,d,g,v,f,_,S,k,w,x,N,P,Y,D,H,z,U,J,T,F,G,K,fe,he,ue,X,R,oe,Z,A,M,V,Q,re,ae,ge,me,ve,je,Oe;switch(K=new ja,a=Object.keys(t).sort(function(Ce,Ge){return Ce-Ge}),r){case"macroman":for(S=0,k=function(){var Ce=[];for(_=0;_<256;++_)Ce.push(0);return Ce}(),x={0:0},s={},fe=0,R=a.length;fe<R;fe++)x[me=t[i=a[fe]]]==null&&(x[me]=++S),s[i]={old:t[i],new:x[t[i]]},k[i]=x[t[i]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(k),{charMap:s,subtable:K.data,maxGlyphID:S+1};case"unicode":for(F=[],g=[],N=0,x={},n={},w=c=null,he=0,oe=a.length;he<oe;he++)x[Y=t[i=a[he]]]==null&&(x[Y]=++N),n[i]={old:Y,new:x[Y]},o=x[Y]-i,w!=null&&o===c||(w&&g.push(w),F.push(i),c=o),w=i;for(w&&g.push(w),g.push(65535),F.push(65535),J=2*(U=F.length),z=2*Math.pow(Math.log(U)/Math.LN2,2),v=Math.log(z/2)/Math.LN2,H=2*U-z,l=[],D=[],f=[],_=ue=0,Z=F.length;ue<Z;_=++ue){if(T=F[_],d=g[_],T===65535){l.push(0),D.push(0);break}if(T-(G=n[T].new)>=32768)for(l.push(0),D.push(2*(f.length+U-_)),i=X=T;T<=d?X<=d:X>=d;i=T<=d?++X:--X)f.push(n[i].new);else l.push(G-T),D.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*U+2*f.length),K.writeUInt16(0),K.writeUInt16(J),K.writeUInt16(z),K.writeUInt16(v),K.writeUInt16(H),ae=0,A=g.length;ae<A;ae++)i=g[ae],K.writeUInt16(i);for(K.writeUInt16(0),ge=0,M=F.length;ge<M;ge++)i=F[ge],K.writeUInt16(i);for(ve=0,V=l.length;ve<V;ve++)o=l[ve],K.writeUInt16(o);for(je=0,Q=D.length;je<Q;je++)P=D[je],K.writeUInt16(P);for(Oe=0,re=f.length;Oe<re;Oe++)S=f[Oe],K.writeUInt16(S);return{charMap:n,subtable:K.data,maxGlyphID:N+1}}},e}(),Nx=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Oi),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new my(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=my.encode(t,r),(i=new ja).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),IL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Oi),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),RL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Oi),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),FL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Oi),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(t.readUInt32());return l}).call(this)}},e}(),ML=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},DL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Oi),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,s,a,o,l,c,d,g,v;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},s=d=0,g=n.length;d<g;s=++d)i=n[s],t.pos=i.offset,c=t.readString(i.length),a=new ML(c,i),l[v=i.nameID]==null&&(l[v]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),BL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Oi),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),UL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Oi),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,s,a,o,l;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)d.push(t.readInt16());return d}(),this.widths=(function(){var c,d,g,v;for(v=[],c=0,d=(g=this.metrics).length;c<d;c++)s=g[c],v.push(s.advance);return v}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),kx=[].slice,zL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Oi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,s,a,o,l,c,d,g;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,a=(o=new ja(r.read(i))).readShort(),c=o.readShort(),g=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[t]=a===-1?new qL(o,c,g,l,d):new $L(o,a,c,g,l,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=r.length;o<l;o++)i=t[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},e}(),$L=function(){function e(t,r,n,i,s,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),qL=function(){function e(t,r,n,i,s){var a,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new ja(kx.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),WL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ts(e,Oi),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),d=0;d<n.length;++d)c[4*d+3]=255&n[d],c[4*d+2]=(65280&n[d])>>8,c[4*d+1]=(16711680&n[d])>>16,c[4*d]=(4278190080&n[d])>>24;return c},e}(),HL=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,s,a,o,l;for(i={},a=0,o=t.length;a<o;a++)i[s=t[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},e.prototype.encode=function(t,r){var n,i,s,a,o,l,c,d,g,v,f,_,S,k,w;for(i in n=Nx.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),f={0:0},w=n.charMap)f[(l=w[i]).old]=l.new;for(_ in v=n.maxGlyphID,a)_ in f||(f[_]=v++);return d=function(x){var N,P;for(N in P={},x)P[x[N]]=N;return P}(f),g=Object.keys(d).sort(function(x,N){return x-N}),S=function(){var x,N,P;for(P=[],x=0,N=g.length;x<N;x++)o=g[x],P.push(d[o]);return P}(),s=this.font.glyf.encode(a,S,f),c=this.font.loca.encode(s.offsets,S),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},e}();Ke.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+t.convert(a));return s.push(">>"),s.join(`
`)}return""+r},t}();const VL=e=>{switch(e){case"fixed":return"Fix";case"turn":return"Deschidere";case"tilt-turn":return"Oscilobatant";default:return e}},GL=(e,t,r,n,i,s,a,o,l,c)=>{const d=Math.min(n/s,i/a)*.8,g=s*d,v=a*d,f=t+(n-g)/2,_=r+10;if(e.setDrawColor(0,0,0),e.setLineWidth(1),e.rect(f,_,g,v),l>1){const x=g/l;for(let N=1;N<l;N++)e.line(f+N*x,_,f+N*x,_+v)}const S=5;if(l>1&&c&&c.length===l){const x=g/l;c.forEach((N,P)=>{const Y=f+P*x;N==="panel"?(e.setFillColor(255,255,255),e.setDrawColor(200,200,200)):(e.setFillColor(224,242,254),e.setDrawColor(200,200,200)),e.setLineWidth(.5),e.rect(Y+S,_+S,x-2*S,v-2*S,"FD")})}else e.setFillColor(224,242,254),e.setDrawColor(200,200,200),e.setLineWidth(.5),e.rect(f+S,_+S,g-2*S,v-2*S,"FD");e.setFontSize(8),e.setFont("helvetica","normal"),e.setTextColor(0,0,0);const k=_-5;e.line(f,k,f+g,k),e.line(f,k-2,f,k+2),e.line(f+g,k-2,f+g,k+2),e.text(`${s}`,f+g/2,k-3,{align:"center"});const w=f-8;e.line(w,_,w,_+v),e.line(w-2,_,w+2,_),e.line(w-2,_+v,w+2,_+v),e.text(`${a}`,w-3,_+v/2,{align:"right",angle:90}),o&&(e.setDrawColor(100,100,100),e.setLineWidth(2),e.line(f,_+v,f+g,_+v))};function KL({quote:e,settings:t,onClose:r}){const n=pe.useRef(null),i=()=>{const a=new Ke,o=a.internal.pageSize.getWidth(),l=a.internal.pageSize.getHeight(),c=20;let d=c;const g=e.id.slice(-4)||"0001",f=new Date(e.created_at).toLocaleDateString("ro-RO",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/");a.setFontSize(9),a.setFont("helvetica","normal"),a.setTextColor(0,0,0),a.text(`Oferta nr. ${g} / ${f}`,c,d);const _=a.getNumberOfPages();if(a.text('Realizat cu programul "Termopane Manager"',o-c,d,{align:"right"}),d+=4,a.text(`Pagina nr. ${_} / ${_}`,o-c,d,{align:"right"}),d+=10,a.setFontSize(28),a.setFont("helvetica","bold"),a.setTextColor(0,0,0),a.text("OFERTA DE PRET",o/2,d,{align:"center"}),d+=12,a.setFontSize(11),a.setFont("helvetica","normal"),a.text("Stimate Domnule/Doamna,",c,d),d+=6,a.text("Va prezentam oferta noastra de pret:",c,d),d+=15,e.items.forEach((k,w)=>{if(w>0){a.addPage(),d=c,a.setFontSize(9),a.setFont("helvetica","normal"),a.text(`Oferta nr. ${g} / ${f}`,c,d);const ue=a.getNumberOfPages();a.text(`Pagina nr. ${ue} / ${ue}`,o-c,d,{align:"right"}),d+=25}const x=k.configuration,N=t.profileSeries.find(ue=>ue.id===x.selectedProfileId),P=t.glassTypes.find(ue=>ue.id===x.selectedGlassId),Y=t.hardwareOptions.find(ue=>ue.id===x.selectedHardwareId),D=k.item_type==="door";a.setFontSize(12),a.setFont("helvetica","bold");const H=k.label||`${k.item_type==="window"?"Fereastr":k.item_type==="door"?"U":"Articol"}`,z=e.client_name||"Client";a.text(`${z.toUpperCase()} - ${H.toUpperCase()} ${w+1} / ${e.items.length} Buc (Cant: ${k.quantity})`,c,d),d+=10;const U=80,J=c+U+10,T=60,F=x.sashes.map(ue=>ue.fillType);GL(a,c,d,U,T,k.width_mm,k.height_mm,D,x.sashCount,F),a.setFontSize(9),a.setFont("helvetica","normal");let G=d+5;a.setFont("helvetica","bold"),a.text("Profil:",J,G),a.setFont("helvetica","normal");const K=N?`${N.name}, ${N.chambers} cam`:"N/A";a.text(K,J+25,G),G+=5,x.selectedColor&&(a.setFont("helvetica","bold"),a.text("Culoare (ext/int):",J,G),a.setFont("helvetica","normal"),a.text(x.selectedColor,J+40,G),G+=5),Y&&(a.setFont("helvetica","bold"),a.text("Feronerie:",J,G),a.setFont("helvetica","normal"),a.text(Y.name,J+25,G),G+=5),a.setFont("helvetica","bold"),a.text("Geam:",J,G),a.setFont("helvetica","normal");const fe=P?P.name:"N/A";a.text(fe,J+25,G),G+=5,a.setFont("helvetica","bold"),a.text("Dimensiuni:",J,G),a.setFont("helvetica","normal"),a.text(`${k.width_mm}  ${k.height_mm} mm`,J+30,G),G+=5;const he=(k.width_mm*k.height_mm/1e6).toFixed(2);if(a.setFont("helvetica","bold"),a.text("Suprafata:",J,G),a.setFont("helvetica","normal"),a.text(`${he} m`,J+30,G),G+=5,D&&(a.setFont("helvetica","bold"),a.text("Prag:",J,G),a.setFont("helvetica","normal"),a.text("Prag aluminiu usa",J+20,G),G+=5),x.sashes.length>0){a.setFont("helvetica","bold"),a.text("Compartimente:",J,G),G+=5;const ue=k.width_mm/x.sashCount;x.sashes.forEach((X,R)=>{a.setFont("helvetica","normal"),a.setFontSize(8);const oe=X.fillType==="panel"?" (Panel PVC)":"";a.text(`  ${R+1}. ${ue.toFixed(0)}${k.height_mm.toFixed(0)}mm - ${VL(X.openingType)}${oe}`,J+5,G),G+=4})}if(d+=T+10,w===e.items.length-1){a.setFontSize(10),a.setFont("helvetica","normal"),e.items.forEach((R,oe)=>{const Z=(R.width_mm*R.height_mm/1e6).toFixed(2);a.text(`Articol ${oe+1}: ${R.label||"Fr denumire"} - ${Z} m  ${R.quantity} buc = ${(R.total_with_vat*R.quantity).toFixed(2)} RON`,c,d),d+=5}),d+=5;const ue=o-c-80;a.setFontSize(10),a.setFont("helvetica","bold"),a.text("Subtotal:",ue,d),a.setFont("helvetica","normal"),a.text(`${e.subtotal.toFixed(2)} RON`,o-c,d,{align:"right"}),d+=6,e.discount_total>0&&(a.setFont("helvetica","bold"),a.text("Discount:",ue,d),a.setFont("helvetica","normal"),a.text(`-${e.discount_total.toFixed(2)} RON`,o-c,d,{align:"right"}),d+=6),a.setFont("helvetica","bold"),a.text("Valoare fr TVA:",ue,d),a.setFont("helvetica","normal");const X=e.subtotal-e.discount_total;a.text(`${X.toFixed(2)} RON`,o-c,d,{align:"right"}),d+=6,a.setFont("helvetica","bold"),a.text(`Cota TVA ${(e.vat_rate*100).toFixed(0)}%:`,ue,d),a.setFont("helvetica","normal"),a.text(`${e.vat_amount.toFixed(2)} RON`,o-c,d,{align:"right"}),d+=6,a.setFontSize(12),a.setFont("helvetica","bold"),a.text("Valoare lucrare:",ue,d),a.text(`${e.total.toFixed(2)} RON`,o-c,d,{align:"right"}),d+=15}}),e.items.length>0){let k=d;k>l-60&&(a.addPage(),k=c+20),a.setFontSize(10),a.setFont("helvetica","bold"),a.setTextColor(0,0,0),a.text("REZUMAT MATERIALE (pentru informare intern):",c,k),k+=8,a.setFont("helvetica","normal"),a.setFontSize(9),e.totalGlassAreaSqm&&e.totalGlassAreaSqm>0&&(a.text(`- Total sticl: ${e.totalGlassAreaSqm.toFixed(2)} m`,c+5,k),k+=6),e.totalProfileLengthBySeries&&Object.keys(e.totalProfileLengthBySeries).length>0&&(a.setFont("helvetica","bold"),a.text("Profiluri utilizate:",c+5,k),k+=6,a.setFont("helvetica","normal"),Object.entries(e.totalProfileLengthBySeries).forEach(([w,x])=>{x>0&&(a.text(`- ${w}: ${x.toFixed(2)} ml`,c+5,k),k+=6)}))}const S=a.getNumberOfPages();S===1&&a.addPage();for(let k=1;k<=S;k++)if(a.setPage(k),a.setFontSize(8),a.setFont("helvetica","normal"),a.setTextColor(100,100,100),a.text(`Pagina nr. ${k} / ${S}`,o-c,l-10,{align:"right"}),k===S){a.setFontSize(7),a.text("Fenestra 2000: 1.0.0",c,l-10),a.text("Model de ofertare dealer (Fara montaj)",c,l-5);const w=l-50;a.setFontSize(9),a.setFont("helvetica","bold"),a.setTextColor(0,0,0),a.text("Termen de livrare:",c,w),a.text("Avans:",c,w+6),a.text("Garantie:",c,w+12),a.text("Valabilitatea ofertei:",c,w+18),a.setFont("helvetica","normal");const x=[e.client_name&&`Nume: ${e.client_name}`,e.client_address&&`Adres: ${e.client_address}`,e.client_phone&&`Telefon: ${e.client_phone}`,e.client_email&&`Email: ${e.client_email}`].filter(Boolean).join(" | ");x&&a.text(`Client: ${x}`,c,w+30),a.setFont("helvetica","normal"),a.text("Cu respect,",c,w+40)}return a};pe.useEffect(()=>{const o=i().output("blob"),l=URL.createObjectURL(o);return n.current&&(n.current.src=l),()=>{URL.revokeObjectURL(l)}},[e,t]);const s=()=>{const a=i(),l=`Oferta_${(e.client_name||"Client").replace(/\s+/g,"_")}_${new Date(e.created_at).toISOString().split("T")[0]}.pdf`;a.save(l)};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-5xl h-[90vh] flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Previzualizare PDF"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[p.jsx(q6,{className:"w-4 h-4"}),"Export PDF"]}),p.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:p.jsx(Gm,{className:"w-5 h-5"})})]})]}),(e.totalGlassAreaSqm||e.totalProfileLengthBySeries)&&p.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Rezumat Materiale"}),p.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-700",children:[e.totalGlassAreaSqm&&e.totalGlassAreaSqm>0&&p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"Total sticl:"})," ",p.jsxs("span",{className:"text-blue-600",children:[e.totalGlassAreaSqm.toFixed(2)," m"]})]}),e.totalProfileLengthBySeries&&Object.entries(e.totalProfileLengthBySeries).map(([a,o])=>o<=0?null:p.jsxs("div",{children:[p.jsxs("span",{className:"font-medium",children:["Profil ",a,":"]})," ",p.jsxs("span",{className:"text-blue-600",children:[o.toFixed(2)," ml"]})]},a))]})]}),p.jsx("div",{className:"flex-1 overflow-hidden",children:p.jsx("iframe",{ref:n,className:"w-full h-full border-0",title:"PDF Preview"})})]})})}function JL({summary:e,quote:t,onClose:r}){return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:r,children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:n=>n.stopPropagation(),children:[p.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Necesar materiale pentru ofert"}),p.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.id," ",t.client_name&&` ${t.client_name}`,t.reference&&`  ${t.reference}`]})]}),p.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"nchide",children:p.jsx(Gm,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Profiluri (ml)"}),e.profiles.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:p.jsxs("tr",{children:[p.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Productor"}),p.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Tip profil"}),p.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Culoare"}),p.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Total ml"})]})}),p.jsx("tbody",{children:e.profiles.map((n,i)=>p.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[p.jsx("td",{className:"py-3 px-4",children:n.manufacturer}),p.jsx("td",{className:"py-3 px-4",children:n.profile_type}),p.jsx("td",{className:"py-3 px-4",children:n.color_name}),p.jsxs("td",{className:"py-3 px-4 text-right font-medium",children:[n.total_length_m.toFixed(3)," ml"]})]},i))}),p.jsx("tfoot",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("td",{colSpan:3,className:"py-3 px-4 font-semibold text-gray-800",children:"Total:"}),p.jsxs("td",{className:"py-3 px-4 text-right font-bold text-blue-700",children:[e.profiles.reduce((n,i)=>n+i.total_length_m,0).toFixed(3)," ","ml"]})]})})]})}):p.jsx("p",{className:"text-gray-500 italic",children:"Nu exist profiluri n aceast ofert."})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Sticl (m)"}),e.glass.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:p.jsxs("tr",{children:[p.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Tip sticl"}),p.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Total m"})]})}),p.jsx("tbody",{children:e.glass.map((n,i)=>p.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[p.jsx("td",{className:"py-3 px-4",children:n.name}),p.jsxs("td",{className:"py-3 px-4 text-right font-medium",children:[n.total_area_sqm.toFixed(3)," m"]})]},i))}),p.jsx("tfoot",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("td",{className:"py-3 px-4 font-semibold text-gray-800",children:"Total:"}),p.jsxs("td",{className:"py-3 px-4 text-right font-bold text-blue-700",children:[e.glass.reduce((n,i)=>n+i.total_area_sqm,0).toFixed(3)," ","m"]})]})})]})}):p.jsx("p",{className:"text-gray-500 italic",children:"Nu exist sticl n aceast ofert."})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Feronerie (pachete)"}),e.hardware.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:p.jsxs("tr",{children:[p.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Productor"}),p.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Tip"}),p.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Buci"})]})}),p.jsx("tbody",{children:e.hardware.map((n,i)=>p.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[p.jsx("td",{className:"py-3 px-4",children:n.manufacturer}),p.jsx("td",{className:"py-3 px-4",children:n.name}),p.jsxs("td",{className:"py-3 px-4 text-right font-medium",children:[n.total_packs," ",n.total_packs===1?"bucat":"buci"]})]},i))}),p.jsx("tfoot",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("td",{colSpan:2,className:"py-3 px-4 font-semibold text-gray-800",children:"Total:"}),p.jsxs("td",{className:"py-3 px-4 text-right font-bold text-blue-700",children:[e.hardware.reduce((n,i)=>n+i.total_packs,0)," ","buci"]})]})})]})}):p.jsx("p",{className:"text-gray-500 italic",children:"Nu exist feronerie n aceast ofert."})]})]}),p.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end",children:p.jsx("button",{onClick:r,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"nchide"})})]})})}function YL(e,t,r,n){const i=new Map,s=new Map,a=new Map;e.items.forEach(d=>{var P,Y,D;const g=d.quantity||1;if(d.profile_series_id){const H=t.find(z=>z.id===d.profile_series_id);if(H){let z=d.profile_length_m||0;if(!z&&d.base_cost>0&&H.pricePerMeter>0&&(z=d.base_cost/H.pricePerMeter),z>0){const U=`${H.manufacturer||"N/A"}|${H.profile_type||"N/A"}|${H.color_name||H.colorCategory||"N/A"}`,J=z*g;if(i.has(U)){const T=i.get(U);T.total_length_m+=J}else i.set(U,{manufacturer:H.manufacturer||"N/A",profile_type:H.profile_type||"N/A",color_name:H.color_name||H.colorCategory||"N/A",total_length_m:J})}}}let v;(P=d.configuration)!=null&&P.selectedGlassId&&(v=d.configuration.selectedGlassId);let f=d.glass_area_sqm||0;if(!f&&d.width_mm>0&&d.height_mm>0&&(f=d.width_mm*d.height_mm/1e6),f>0){const H=v?r.find(J=>J.id===v):null,z=(H==null?void 0:H.name)||"Necunoscut",U=f*g;if(s.has(z)){const J=s.get(z);J.total_area_sqm+=U}else s.set(z,{name:z,total_area_sqm:U})}let _;(Y=d.configuration)!=null&&Y.selectedHardwareId&&(_=d.configuration.selectedHardwareId);const S=_?n.find(H=>H.id===_):null;let k=0;(D=d.configuration)!=null&&D.sashes&&(k=d.configuration.sashes.filter(H=>H.openingType!=="fixed").length),k===0&&(k=1);const w=k*g,x=(S==null?void 0:S.name)||"Necunoscut",N=x;if(a.has(N)){const H=a.get(N);H.total_packs+=w}else a.set(N,{manufacturer:"N/A",name:x,total_packs:w})});const o=Array.from(i.values()).sort((d,g)=>d.manufacturer!==g.manufacturer?d.manufacturer.localeCompare(g.manufacturer):d.profile_type!==g.profile_type?d.profile_type.localeCompare(g.profile_type):d.color_name.localeCompare(g.color_name)),l=Array.from(s.values()).sort((d,g)=>d.name.localeCompare(g.name)),c=Array.from(a.values()).sort((d,g)=>d.manufacturer!==g.manufacturer?d.manufacturer.localeCompare(g.manufacturer):d.name.localeCompare(g.name));return{profiles:o,glass:l,hardware:c}}function ZL(){const e=Rf(D=>D.settings),[t,r]=pe.useState([]),[n,i]=pe.useState(!0),[s,a]=pe.useState(null),[o,l]=pe.useState(null),[c,d]=pe.useState(null),[g,v]=pe.useState(null),[f,_]=pe.useState(!1);pe.useEffect(()=>{S()},[]);const S=async()=>{try{i(!0);const D=await qu.fetchQuotes();r(D)}catch(D){console.error("Error loading quotes:",D)}finally{i(!1)}},k=async D=>{try{const H=await qu.fetchQuoteWithItems(D);H&&a(H)}catch(H){console.error("Error loading quote details:",H)}},w=async D=>{if(confirm("Eti sigur c vrei s tergi aceast ofert?"))try{l(D),await qu.deleteQuote(D),r(t.filter(H=>H.id!==D))}catch(H){console.error("Error deleting quote:",H),alert("Eroare la tergerea ofertei. Te rugm s ncerci din nou.")}finally{l(null)}},x=D=>{alert(`Detalii pentru oferta ${D}
(Funcionalitate n dezvoltare)`)},N=async D=>{try{_(!0);const H=await qu.fetchQuoteWithItems(D);if(!H){alert("Oferta nu a fost gsit.");return}const z=YL(H,e.profileSeries,e.glassTypes,e.hardwareOptions);d(z),v(H)}catch(H){console.error("Error loading material summary:",H),alert("Eroare la ncrcarea sumarului de materiale. Te rugm s ncerci din nou.")}finally{_(!1)}},P=D=>{const H={draft:{label:"Ciorn",color:"bg-gray-100 text-gray-800"},sent:{label:"Trimis",color:"bg-blue-100 text-blue-800"},accepted:{label:"Acceptat",color:"bg-green-100 text-green-800"},rejected:{label:"Respins",color:"bg-red-100 text-red-800"},cancelled:{label:"Anulat",color:"bg-yellow-100 text-yellow-800"}},z=H[D]||H.draft;return p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z.color}`,children:z.label})},Y=D=>new Date(D).toLocaleDateString("ro-RO",{year:"numeric",month:"2-digit",day:"2-digit"});return p.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-6xl mx-auto",children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-2",children:"Ofertele Mele"}),p.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6 sm:mb-8",children:"Toate ofertele create pentru clieni"}),n?p.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[p.jsx(Cu,{className:"w-8 h-8 text-gray-400 mx-auto mb-4 animate-spin"}),p.jsx("p",{className:"text-gray-500",children:"Se ncarc ofertele..."})]}):t.length===0?p.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[p.jsx(Cb,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),p.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nicio ofert nc"}),p.jsx("p",{className:"text-gray-500",children:"Creeaz prima ta ofert folosind configuratorul vizual"})]}):p.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[p.jsx("div",{className:"block md:hidden divide-y divide-gray-200",children:t.map(D=>p.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"font-medium text-gray-900 mb-1",children:D.client_name||"Fr client"}),p.jsx("div",{className:"text-sm text-gray-600",children:Y(D.created_at)}),D.reference&&p.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Ref: ",D.reference]})]}),p.jsx("div",{className:"ml-4",children:P(D.status)})]}),p.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[p.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[D.total.toFixed(2)," RON"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>k(D.id),className:"p-2.5 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Vezi PDF",children:p.jsx(uv,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>N(D.id),disabled:f,className:"p-2.5 text-green-600 hover:text-green-800 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50",title:"Materiale",children:f?p.jsx(Cu,{className:"w-5 h-5 animate-spin"}):p.jsx(dv,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>x(D.id),className:"p-2.5 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Detalii",children:p.jsx(cv,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>w(D.id),disabled:o===D.id,className:"p-2.5 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"terge",children:o===D.id?p.jsx(Cu,{className:"w-5 h-5 animate-spin"}):p.jsx(ho,{className:"w-5 h-5"})})]})]})]},D.id))}),p.jsx("div",{className:"hidden md:block overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:p.jsxs("tr",{children:[p.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Data"}),p.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Nume client"}),p.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Referin"}),p.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Status"}),p.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Total (cu TVA)"}),p.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Aciuni"})]})}),p.jsx("tbody",{children:t.map(D=>p.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[p.jsx("td",{className:"py-3 px-4",children:Y(D.created_at)}),p.jsx("td",{className:"py-3 px-4 font-medium",children:D.client_name||"Fr client"}),p.jsx("td",{className:"py-3 px-4 text-gray-600",children:D.reference||"-"}),p.jsx("td",{className:"py-3 px-4",children:P(D.status)}),p.jsxs("td",{className:"py-3 px-4 text-right font-semibold",children:[D.total.toFixed(2)," RON"]}),p.jsx("td",{className:"py-3 px-4",children:p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("button",{onClick:()=>k(D.id),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Export PDF",children:p.jsx(uv,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>N(D.id),disabled:f,className:"p-2 text-green-600 hover:text-green-800 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Materiale",children:f?p.jsx(Cu,{className:"w-4 h-4 animate-spin"}):p.jsx(dv,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>x(D.id),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Detalii",children:p.jsx(cv,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>w(D.id),disabled:o===D.id,className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"terge",children:o===D.id?p.jsx(Cu,{className:"w-4 h-4 animate-spin"}):p.jsx(ho,{className:"w-4 h-4"})})]})})]},D.id))})]})})]}),s&&p.jsx(KL,{quote:s,settings:e,onClose:()=>a(null)}),c&&g&&p.jsx(JL,{summary:c,quote:g,onClose:()=>{d(null),v(null)}})]})}const lh=.3,uh=60,Qs=400,Yo=2500,$t=40,Zo=20;function XL({onConfigChange:e,initialProfileId:t="",initialGlassId:r="",initialHardwareId:n="",hidePricing:i=!1}){var ze;const{settings:s}=Rf(),[a,o]=pe.useState(1e3),[l,c]=pe.useState(1200),[d,g]=pe.useState("window"),[v,f]=pe.useState(t),[_,S]=pe.useState(r),[k,w]=pe.useState(n),[x,N]=pe.useState(""),[P,Y]=pe.useState(1);pe.useEffect(()=>{t&&f(t),r&&S(r),n&&w(n)},[t,r,n]);const[D,H]=pe.useState([{id:"1",openingType:"fixed",fillType:"glass"}]),[z,U]=pe.useState(20),[J,T]=pe.useState(0),[F,G]=pe.useState(0),[K,fe]=pe.useState(0),he=pe.useMemo(()=>{if(!v||!_||!k)return 0;const de=s.profileSeries.find(We=>We.id===v),ke=s.glassTypes.find(We=>We.id===_),Ze=s.hardwareOptions.find(We=>We.id===k);if(!de||!ke||!Ze)return 0;const nt=(a*2+l*2)/1e3*de.pricePerMeter,jt=a*l/1e6*ke.pricePerSqMeter;let Te=0;return D.forEach(We=>{We.openingType==="turn"?Te+=Ze.pricePerTurn:We.openingType==="tilt-turn"&&(Te+=Ze.pricePerTiltTurn)}),nt+jt+Te},[a,l,v,_,k,D,s]),{profileLengthMeters:ue,profileCost:X}=pe.useMemo(()=>{if(!v)return{profileLengthMeters:0,profileCost:0};const de=s.profileSeries.find(tt=>tt.id===v);if(!de)return{profileLengthMeters:0,profileCost:0};const ke=(a*2+l*2)/1e3,Ze=ke*de.pricePerMeter;return{profileLengthMeters:ke,profileCost:Ze}},[a,l,v,s.profileSeries]),R=pe.useMemo(()=>{if(!_)return 0;const de=s.glassTypes.find(Ze=>Ze.id===_);return de?a*l/1e6*de.pricePerSqMeter:0},[a,l,_,s.glassTypes]),oe=pe.useMemo(()=>{if(!k)return 0;const de=s.hardwareOptions.find(Ze=>Ze.id===k);if(!de)return 0;let ke=0;return D.forEach(Ze=>{Ze.openingType==="turn"?ke+=de.pricePerTurn:Ze.openingType==="tilt-turn"&&(ke+=de.pricePerTiltTurn)}),ke},[k,D,s.hardwareOptions]),{glassPieces:Z,glassAreaSqm:A}=pe.useMemo(()=>{if(!v)return{glassPieces:[],glassAreaSqm:0};const de=s.profileSeries.find(Te=>Te.id===v);if(!de)return{glassPieces:[],glassAreaSqm:0};const ke=a/P,Ze=l,tt=[];D.forEach(Te=>{if(Te.fillType==="glass"){const We=Math.max(0,ke-de.glass_width_deduction_mm),Re=Math.max(0,Ze-de.glass_height_deduction_mm);tt.push({width_mm:We,height_mm:Re})}});const nt=new Map;tt.forEach(Te=>{const We=`${Te.width_mm.toFixed(1)}x${Te.height_mm.toFixed(1)}`;if(nt.has(We)){const Re=nt.get(We);Re.quantity+=1}else nt.set(We,{width_mm:Te.width_mm,height_mm:Te.height_mm,quantity:1})});const it=Array.from(nt.values()),jt=it.reduce((Te,We)=>Te+We.width_mm/1e3*(We.height_mm/1e3)*We.quantity,0);return{glassPieces:it,glassAreaSqm:jt}},[a,l,P,D,v,s.profileSeries]),M=he,V=M>0?M*s.defaultLaborPercentage/100:0,Q=M+V,re=Q>0?Q*(1+(z||0)/100)+(J||0):0,ge=(re>0?re*(F||0)/100:0)+(K||0),me=Math.max(re-ge,0),ve=me*1.19,je=ve-me,Oe=re-Q;pe.useEffect(()=>{const de=[];for(let ke=0;ke<P;ke++)D[ke]?de.push(D[ke]):de.push({id:`${ke+1}`,openingType:"fixed",fillType:"glass"});H(de)},[P]);const Ce=de=>{g(de),de==="door"?(o(900),c(2e3)):de==="window"&&(o(1e3),c(1200))};pe.useEffect(()=>{e&&e({width:a,height:l,selectedProfileId:v,selectedGlassId:_,selectedHardwareId:k,selectedColor:x,sashCount:P,sashes:D,calculatedPrice:he,productType:d,baseCost:Q,markupPercent:z,markupFixed:J,discountPercent:F,discountFixed:K,sellingPrice:me,vatAmount:je,finalPriceWithVAT:ve,glassPieces:Z,glassAreaSqm:A,profileLengthMeters:ue})},[a,l,v,_,k,x,P,D,he,d,Q,Z,A,ue,z,J,F,K,me,je,ve]);const Ge=de=>{const ke=de.target.value;if(ke===""){o(0);return}const Ze=parseFloat(ke);isNaN(Ze)||o(Ze)},B=()=>{const de=Math.min(Math.max(a||Qs,Qs),Yo);o(de)},Ee=de=>{const ke=de.target.value;if(ke===""){c(0);return}const Ze=parseFloat(ke);isNaN(Ze)||c(Ze)},ft=()=>{const de=Math.min(Math.max(l||Qs,Qs),Yo);c(de)},Xe=(de,ke)=>{H(Ze=>Ze.map(tt=>tt.id===de?{...tt,openingType:ke}:tt))},Ne=(de,ke)=>{H(Ze=>Ze.map(tt=>tt.id===de?{...tt,fillType:ke}:tt))},Qe=pe.useMemo(()=>{const de=new Set;return s.profileSeries.forEach(ke=>{ke.colorCategory&&de.add(ke.colorCategory)}),Array.from(de)},[s.profileSeries]),Ie=a*lh+uh*2+Zo*2,Ye=l*lh+uh*2+Zo*2,De=uh+Zo,dt=uh+Zo,pt=a*lh,rt=l*lh,wt=P>1?pt/P:pt,_t=()=>{const de=[];if(de.push(p.jsx("rect",{x:De,y:dt,width:pt,height:rt,fill:"#ffffff",stroke:"#6b7280",strokeWidth:"2"},"outer-frame")),d==="door"){const We=$t/3;de.push(p.jsx("rect",{x:De+1,y:dt+rt-We,width:pt-2,height:We,fill:"#e5e7eb",stroke:"#9ca3af",strokeWidth:"1"},"door-threshold"))}if(P>1)for(let We=1;We<P;We++){const Re=De+We*wt-$t/2;de.push(p.jsx("rect",{x:Re,y:dt,width:$t,height:rt,fill:"#e5e7eb",stroke:"#6b7280",strokeWidth:"1"},`mullion-${We}`))}D.forEach((We,Re)=>{const st=De+Re*wt,Dt=wt,at=We.fillType==="panel";if(We.openingType==="fixed")de.push(p.jsx("rect",{x:st+$t/2,y:dt+$t/2,width:Dt-$t,height:rt-$t,fill:at?"#ffffff":"#e0f2fe",stroke:at?"#9ca3af":"none",strokeWidth:at?1:0},`glass-fixed-${Re}`)),at&&de.push(p.jsx("line",{x1:st+$t/2,y1:dt+$t/2,x2:st+Dt-$t/2,y2:dt+rt-$t/2,stroke:"#d1d5db",strokeWidth:1,strokeDasharray:"4 4"},`panel-fixed-hatch-${Re}`));else{const Je=st+$t/2,bt=dt+$t/2,On=Dt-$t,Xt=rt-$t;de.push(p.jsx("rect",{x:Je,y:bt,width:On,height:Xt,fill:"#ffffff",stroke:"#4b5563",strokeWidth:"1.5"},`sash-frame-${Re}`));const In=Je+$t/4,_n=bt+$t/4,et=On-$t/2,Qn=Xt-$t/2;de.push(p.jsx("rect",{x:In,y:_n,width:et,height:Qn,fill:at?"#ffffff":"#e0f2fe",stroke:at?"#9ca3af":"none",strokeWidth:at?1:0},`glass-${Re}`)),at&&de.push(p.jsx("line",{x1:In,y1:_n,x2:In+et,y2:_n+Qn,stroke:"#d1d5db",strokeWidth:1,strokeDasharray:"4 4"},`panel-hatch-${Re}`));const ei=Je+On,on=Je,ln=bt+Xt/2;if(We.openingType==="turn"||We.openingType==="tilt-turn"){const dr=ei-$t/2,Ar=on+$t/2,un=bt+$t/2,Yr=bt+Xt-$t/2;de.push(p.jsx("polyline",{points:`${Ar},${un} ${dr},${ln} ${Ar},${Yr}`,fill:"none",stroke:"#374151",strokeWidth:"1.5"},`turn-triangle-${Re}`))}if(We.openingType==="tilt-turn"){const dr=Math.min(On*.25,Xt*.25),Ar=Je+On/2,un=bt+$t/2,Yr=bt+Xt-$t/2,xn=Ar-dr/2,rs=Ar+dr/2;de.push(p.jsx("polyline",{points:`${xn},${Yr} ${Ar},${un} ${rs},${Yr}`,fill:"none",stroke:"#374151",strokeWidth:"1.5"},`tilt-triangle-${Re}`))}const Bt=ei-$t/2,tr=ln,cr=8;de.push(p.jsxs("g",{children:[p.jsx("line",{x1:Bt,y1:tr-cr,x2:Bt,y2:tr+cr,stroke:"#1f2937",strokeWidth:"2"}),p.jsx("line",{x1:Bt,y1:tr,x2:Bt+cr,y2:tr,stroke:"#1f2937",strokeWidth:"2"})]},`handle-${Re}`));const Ii=3,Ri=Xt/(Ii+1);for(let dr=1;dr<=Ii;dr++){const Ar=bt+dr*Ri;de.push(p.jsx("rect",{x:on+$t/4,y:Ar-3,width:6,height:6,fill:"#1f2937",stroke:"none"},`hinge-${Re}-${dr}`))}}});const ke=De-Zo,Ze=dt,tt=dt+rt,nt=5;de.push(p.jsxs("g",{children:[p.jsx("line",{x1:De,y1:Ze,x2:ke,y2:Ze,stroke:"#6b7280",strokeWidth:"1"}),p.jsx("line",{x1:De,y1:tt,x2:ke,y2:tt,stroke:"#6b7280",strokeWidth:"1"}),p.jsx("line",{x1:ke,y1:Ze-nt,x2:ke,y2:tt+nt,stroke:"#6b7280",strokeWidth:"1"}),p.jsx("text",{x:ke-5,y:(Ze+tt)/2,textAnchor:"end",fill:"#374151",fontSize:"11",dominantBaseline:"middle",children:l})]},"height-dimension"));const it=De,jt=De+pt,Te=dt-Zo;return de.push(p.jsxs("g",{children:[p.jsx("line",{x1:it,y1:dt,x2:it,y2:Te,stroke:"#6b7280",strokeWidth:"1"}),p.jsx("line",{x1:jt,y1:dt,x2:jt,y2:Te,stroke:"#6b7280",strokeWidth:"1"}),p.jsx("line",{x1:it-nt,y1:Te,x2:jt+nt,y2:Te,stroke:"#6b7280",strokeWidth:"1"}),p.jsx("text",{x:(it+jt)/2,y:Te-5,textAnchor:"middle",fill:"#374151",fontSize:"11",children:a})]},"width-dimension")),de};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:d==="door"?"Configurare U":"Configurare Fereastr"}),p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tip Produs:"}),p.jsx("div",{className:"inline-flex rounded-lg border border-gray-200 bg-gray-50 p-1",children:[{type:"window",label:"Fereastr"},{type:"door",label:"U"},{type:"other",label:"Altele"}].map(de=>p.jsx("button",{type:"button",onClick:()=>Ce(de.type),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-colors ${d===de.type?"bg-blue-600 text-white shadow-sm":"text-gray-700 hover:bg-white"}`,children:de.label},de.type))})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lime (mm)"}),p.jsx("input",{type:"number",value:a,onChange:Ge,onBlur:B,min:Qs,max:Yo,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Min: ",Qs,"mm, Max: ",Yo,"mm"]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"nlime (mm)"}),p.jsx("input",{type:"number",value:l,onChange:Ee,onBlur:ft,min:Qs,max:Yo,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Min: ",Qs,"mm, Max: ",Yo,"mm"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seria de Profil"}),p.jsxs("select",{value:v,onChange:de=>f(de.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",children:[p.jsx("option",{value:"",children:"Selecteaz profil..."}),s.profileSeries.map(de=>p.jsxs("option",{value:de.id,children:[de.name," (",de.chambers," camere) - ",de.pricePerMeter," RON/m"]},de.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tip Geam"}),p.jsxs("select",{value:_,onChange:de=>S(de.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",children:[p.jsx("option",{value:"",children:"Selecteaz geam..."}),s.glassTypes.map(de=>p.jsxs("option",{value:de.id,children:[de.name," - ",de.pricePerSqMeter," RON/m"]},de.id))]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feronerie"}),p.jsxs("select",{value:k,onChange:de=>w(de.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",children:[p.jsx("option",{value:"",children:"Selecteaz feronerie..."}),s.hardwareOptions.map(de=>p.jsx("option",{value:de.id,children:de.name},de.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Culoare"}),p.jsxs("select",{value:x,onChange:de=>N(de.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",children:[p.jsx("option",{value:"",children:"Selecteaz culoare..."}),Qe.map(de=>p.jsx("option",{value:de,children:de},de))]})]})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Numr Compartimente (Sash)"}),p.jsx("div",{className:"flex gap-4",children:[1,2,3].map(de=>p.jsxs("button",{onClick:()=>Y(de),className:`px-6 py-2 rounded-lg font-medium transition-colors ${P===de?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[de," ",de===1?"compartiment":"compartimente"]},de))})]}),P>1&&p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tip Deschidere per Compartiment"}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:D.map((de,ke)=>p.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[p.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:["Compartiment ",ke+1]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("select",{value:de.openingType,onChange:Ze=>Xe(de.id,Ze.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[p.jsx("option",{value:"fixed",children:"Fix"}),p.jsx("option",{value:"turn",children:"Deschidere"}),p.jsx("option",{value:"tilt-turn",children:"Oscilobatant"})]}),p.jsxs("select",{value:de.fillType,onChange:Ze=>Ne(de.id,Ze.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[p.jsx("option",{value:"glass",children:"Umplutur: Sticl"}),p.jsx("option",{value:"panel",children:"Umplutur: Panel PVC"})]})]})]},de.id))})]}),P===1&&D[0]&&p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tip Deschidere"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("select",{value:D[0].openingType,onChange:de=>Xe(D[0].id,de.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[p.jsx("option",{value:"fixed",children:"Fix"}),p.jsx("option",{value:"turn",children:"Deschidere"}),p.jsx("option",{value:"tilt-turn",children:"Oscilobatant"})]}),p.jsxs("select",{value:D[0].fillType,onChange:de=>Ne(D[0].id,de.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[p.jsx("option",{value:"glass",children:"Umplutur: Sticl"}),p.jsx("option",{value:"panel",children:"Umplutur: Panel PVC"})]})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[p.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[p.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4",children:"Previzualizare"}),p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[p.jsx("p",{className:"text-xs text-gray-600 mb-3 font-medium",children:"PREVIZUALIZARE"}),p.jsx("div",{className:"flex justify-center overflow-auto",children:p.jsx("svg",{width:Ie,height:Ye,viewBox:`0 0 ${Ie} ${Ye}`,className:"border border-gray-300 bg-white",style:{fontFamily:"Arial, sans-serif"},children:_t()})})]})]}),!i&&p.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[p.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4",children:"Calcul Pre"}),p.jsx("div",{className:"space-y-6",children:v&&_&&k?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Cost Producie"}),p.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-3",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Profil:"}),p.jsxs("span",{children:[X.toFixed(2)," RON"]})]}),v&&ue>0&&p.jsxs("div",{className:"flex justify-between text-xs text-gray-500 italic",children:[p.jsx("span",{children:"Profil necesar:"}),p.jsxs("span",{children:[ue.toFixed(3)," ml [",((ze=s.profileSeries.find(de=>de.id===v))==null?void 0:ze.name)||"N/A","]"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Geam:"}),p.jsxs("span",{children:[R.toFixed(2)," RON"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Feronerie:"}),p.jsxs("span",{children:[oe.toFixed(2)," RON"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("span",{children:["Manoper (",s.defaultLaborPercentage,"%):"]}),p.jsxs("span",{children:[V.toFixed(2)," RON"]})]})]}),p.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-base font-semibold text-gray-700",children:"Total Cost Materiale:"}),p.jsxs("span",{className:"text-xl font-bold text-blue-700",children:[Q.toFixed(2)," RON"]})]})})]}),p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Modificri Pre"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Adaos Comercial (%)"}),p.jsx("input",{type:"number",value:z,onChange:de=>U(parseFloat(de.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Adaos Comercial Fix (RON)"}),p.jsx("input",{type:"number",value:J,onChange:de=>T(parseFloat(de.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Discount (%)"}),p.jsx("input",{type:"number",min:"0",max:"100",value:F,onChange:de=>{const ke=parseFloat(de.target.value)||0;G(Math.min(Math.max(ke,0),100))},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Discount Fix (RON)"}),p.jsx("input",{type:"number",value:K,onChange:de=>fe(parseFloat(de.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]})]}),p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Detalii Pre"}),p.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Pre Materiale:"}),p.jsxs("span",{children:[Q.toFixed(2)," RON"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Adaos:"}),p.jsxs("span",{children:[Oe.toFixed(2)," RON"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Discount:"}),p.jsxs("span",{children:["-",ge.toFixed(2)," RON"]})]}),p.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-2 mt-2",children:[p.jsx("span",{className:"font-medium",children:"Pre Fr TVA:"}),p.jsxs("span",{className:"font-semibold",children:[me.toFixed(2)," RON"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"TVA (19%):"}),p.jsxs("span",{children:[je.toFixed(2)," RON"]})]})]})]}),p.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-4",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-lg font-bold text-gray-900",children:"TOTAL DE PLAT:"}),p.jsxs("span",{className:"text-3xl font-extrabold text-blue-700",children:[ve.toFixed(2)," RON"]})]})})]}):p.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:p.jsx("p",{className:"text-yellow-700",children:"Selecteaz profil, geam i feronerie pentru a calcula preul"})})})]}),i&&v&&_&&k&&p.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Estimat:"}),p.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[Q.toFixed(2)," RON"]}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Preul final va fi calculat n Pre & Export"})]})]})]})}function QL({onSave:e}){const{settings:t}=Rf(),[r,n]=pe.useState("client"),[i,s]=pe.useState({name:"",phone:"",email:"",address:"",reference:""}),[a,o]=pe.useState([]),[l,c]=pe.useState(""),[d,g]=pe.useState(1),[v,f]=pe.useState(null),[_,S]=pe.useState([]),[k,w]=pe.useState(!1),[x,N]=pe.useState(!1),[P,Y]=pe.useState({}),[D,H]=pe.useState(20),[z,U]=pe.useState(0),[J,T]=pe.useState(0),[F,G]=pe.useState(0),[K,fe]=pe.useState(.19);pe.useEffect(()=>{(async()=>{try{const A=await R1.get();A&&Y({default_profile_series_id:A.default_profile_series_id,default_glass_id:A.default_glass_id,default_hardware_id:A.default_hardware_id,company_name:A.company_name})}catch(A){console.error("Failed to load company settings:",A)}})()},[]);const he=pe.useMemo(()=>{const Z=a.reduce((me,ve)=>me+ve.base_cost*ve.quantity,0),A=a.reduce((me,ve)=>me+ve.price_without_vat*ve.quantity,0),M=Z>0?Z*(1+D/100)+z:0,V=M>0?M*J/100+F:0,Q=Math.max(M-V,0),re=Q*K,ae=Q+re,ge=A-Q;return{totalMaterialCost:Z,subtotalBeforeAdjustments:A,priceWithMarkup:M,discountAmount:V,priceAfterDiscount:Q,vatAmount:re,totalWithVAT:ae,discountTotal:ge,vatRate:K}},[a,D,z,J,F,K]),ue=()=>{const Z=[];if(v?(v.selectedProfileId||Z.push("Selecteaz o serie de profil"),v.selectedGlassId||Z.push("Selecteaz un tip de geam"),v.selectedHardwareId||Z.push("Selecteaz feronerie"),v.selectedColor||Z.push("Selecteaz culoarea"),(v.width<=0||v.height<=0)&&Z.push("Dimensiunile trebuie s fie mai mari dect 0")):Z.push("Configuraia articolului este invalid"),d<=0&&Z.push("Cantitatea trebuie s fie mai mare dect 0"),Z.length>0){S(Z),n("configurator");return}if(!v)return;S([]);const A={item_type:v.productType,label:l.trim()||void 0,width_mm:v.width,height_mm:v.height,quantity:d,configuration:{width:v.width,height:v.height,selectedProfileId:v.selectedProfileId,selectedGlassId:v.selectedGlassId,selectedHardwareId:v.selectedHardwareId,selectedColor:v.selectedColor,sashCount:v.sashCount,sashes:v.sashes.map(M=>({id:M.id,openingType:M.openingType,fillType:M.fillType})),productType:v.productType,baseCost:v.baseCost,markupPercent:v.markupPercent,markupFixed:v.markupFixed,discountPercent:v.discountPercent,discountFixed:v.discountFixed,sellingPrice:v.sellingPrice,vatAmount:v.vatAmount,finalPriceWithVAT:v.finalPriceWithVAT,profileLengthMeters:v.profileLengthMeters,glassPieces:v.glassPieces,glassAreaSqm:v.glassAreaSqm},base_cost:v.baseCost,price_without_vat:v.sellingPrice,vat_rate:K,total_with_vat:v.finalPriceWithVAT,profile_series_id:v.selectedProfileId,profile_length_m:Math.round(v.profileLengthMeters*1e3)/1e3,glass_area_sqm:Math.round(v.glassAreaSqm*1e3)/1e3};o([...a,A]),c(""),g(1),f(null),n("price")},X=Z=>{o(a.filter((A,M)=>M!==Z))},R=async()=>{const Z=[];if(i.name.trim()||Z.push("Numele clientului este obligatoriu"),a.length===0&&Z.push("Adaug cel puin un articol n ofert"),P.company_name||Z.push("Numele firmei nu este configurat. Te rugm s completezi informaiile firmei n Setri."),Z.length>0){S(Z);return}S([]),w(!0);try{await qu.createQuoteWithItems({header:{client_name:i.name.trim()||void 0,client_phone:i.phone.trim()||void 0,client_email:i.email.trim()||void 0,client_address:i.address.trim()||void 0,reference:i.reference.trim()||void 0,status:"draft",subtotal:he.priceAfterDiscount,discount_total:he.discountTotal,vat_rate:he.vatRate,vat_amount:he.vatAmount,total:he.totalWithVAT},items:a}),s({name:"",phone:"",email:"",address:"",reference:""}),o([]),c(""),g(1),f(null),S([]),H(20),U(0),T(0),G(0),e&&e()}catch(A){console.error("Error saving quote:",A),S(["Eroare la salvarea ofertei. Te rugm s ncerci din nou."])}finally{w(!1)}},oe=pe.useMemo(()=>({profileId:P.default_profile_series_id||"",glassId:P.default_glass_id||"",hardwareId:P.default_hardware_id||""}),[P]);return p.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-6xl mx-auto",children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-2",children:"Ofert Nou"}),p.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6 sm:mb-8",children:"Configureaz articolele i genereaz oferta automat"}),p.jsx("div",{className:"mb-6 border-b border-gray-200",children:p.jsxs("nav",{className:"flex space-x-8",children:[p.jsx("button",{onClick:()=>n("client"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="client"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Informaii Client"}),p.jsx("button",{onClick:()=>n("configurator"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="configurator"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Configurator"}),p.jsx("button",{onClick:()=>n("price"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="price"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Pre & Export"})]})}),_.length>0&&p.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[p.jsx("h3",{className:"text-sm font-semibold text-red-800 mb-2",children:"Erori de validare:"}),p.jsx("ul",{className:"list-disc list-inside text-sm text-red-700 space-y-1",children:_.map((Z,A)=>p.jsx("li",{children:Z},A))})]}),r==="client"&&p.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[p.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-4",children:"Informaii Client"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nume Client ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"text",value:i.name,onChange:Z=>s({...i,name:Z.target.value}),placeholder:"Introdu numele clientului",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon"}),p.jsx("input",{type:"tel",value:i.phone,onChange:Z=>s({...i,phone:Z.target.value}),placeholder:"Introdu numrul de telefon",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),p.jsx("input",{type:"email",value:i.email,onChange:Z=>s({...i,email:Z.target.value}),placeholder:"Introdu adresa de email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adres"}),p.jsx("input",{type:"text",value:i.address,onChange:Z=>s({...i,address:Z.target.value}),placeholder:"Introdu adresa",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referin Lucrare"}),p.jsx("input",{type:"text",value:i.reference,onChange:Z=>s({...i,reference:Z.target.value}),placeholder:"Introdu referina lucrrii",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r==="configurator"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[p.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-4",children:"Configurare Articol"}),p.jsx(XL,{onConfigChange:f,initialProfileId:oe.profileId,initialGlassId:oe.glassId,initialHardwareId:oe.hardwareId,hidePricing:!0}),v&&v.glassPieces.length>0&&p.jsxs("div",{className:"mt-6 border border-gray-200 rounded-lg",children:[p.jsxs("button",{type:"button",onClick:()=>N(!x),className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 transition-colors rounded-t-lg",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Detalii sticl"}),x?p.jsx("span",{className:"text-gray-600",children:""}):p.jsx("span",{className:"text-gray-600",children:""})]}),x&&p.jsxs("div",{className:"p-4",children:[p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b border-gray-200",children:[p.jsx("th",{className:"text-left py-2 px-3 font-semibold text-gray-700",children:"Nr. buc"}),p.jsx("th",{className:"text-right py-2 px-3 font-semibold text-gray-700",children:"Lime (mm)"}),p.jsx("th",{className:"text-right py-2 px-3 font-semibold text-gray-700",children:"nlime (mm)"}),p.jsx("th",{className:"text-right py-2 px-3 font-semibold text-gray-700",children:"Suprafa (m)"})]})}),p.jsx("tbody",{children:v.glassPieces.map((Z,A)=>{const M=Z.width_mm/1e3*(Z.height_mm/1e3)*Z.quantity;return p.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[p.jsx("td",{className:"py-2 px-3",children:Z.quantity}),p.jsx("td",{className:"py-2 px-3 text-right",children:Z.width_mm.toFixed(1)}),p.jsx("td",{className:"py-2 px-3 text-right",children:Z.height_mm.toFixed(1)}),p.jsx("td",{className:"py-2 px-3 text-right",children:M.toFixed(3)})]},A)})})]})}),p.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:p.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:["Total sticl: ",p.jsxs("span",{className:"text-blue-600",children:[v.glassAreaSqm.toFixed(2)," m"]})]})})]})]}),p.jsxs("div",{className:"mt-4 sm:mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Denumire Articol (opional)"}),p.jsx("input",{type:"text",value:l,onChange:Z=>c(Z.target.value),placeholder:"Ex: Fereastr dormitor, U intrare",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Cantitate ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"number",min:"1",value:d,onChange:Z=>g(Math.max(1,parseInt(Z.target.value)||1)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),p.jsx("div",{className:"mt-4 sm:mt-6",children:p.jsxs("button",{onClick:ue,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-base",children:[p.jsx(xh,{className:"w-5 h-5"}),"Adaug n co"]})})]}),a.length>0&&p.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[p.jsxs("h3",{className:"text-base font-semibold text-gray-800 mb-4",children:["Co (",a.length," articol",a.length!==1?"e":"",")"]}),p.jsxs("div",{className:"space-y-2",children:[a.slice(0,3).map((Z,A)=>p.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[p.jsxs("span",{className:"text-sm text-gray-700",children:[Z.label||`${Z.item_type==="window"?"Fereastr":Z.item_type==="door"?"U":"Altele"}`,"  ",Z.width_mm,"mm  ",Z.height_mm,"mm  Qty: ",Z.quantity]}),p.jsx("button",{onClick:()=>X(A),className:"p-1 text-red-600 hover:text-red-800",title:"terge",children:p.jsx(ho,{className:"w-4 h-4"})})]},A)),a.length>3&&p.jsxs("p",{className:"text-sm text-gray-500 italic",children:["... i ",a.length-3," mai multe"]})]}),p.jsx("button",{onClick:()=>n("price"),className:"mt-4 text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Vezi toate articolele n Pre & Export "})]})]}),r==="price"&&p.jsx("div",{className:"space-y-6",children:a.length>0?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[p.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-4",children:"Articole n Co"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b border-gray-200",children:[p.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Denumire"}),p.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Tip"}),p.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Dimensiuni"}),p.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Cantitate"}),p.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Cost Materiale"}),p.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Aciuni"})]})}),p.jsx("tbody",{children:a.map((Z,A)=>{const M=Z.profile_series_id?t.profileSeries.find(V=>V.id===Z.profile_series_id):null;return p.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[p.jsxs("td",{className:"py-3 px-4",children:[p.jsx("div",{children:Z.label||"-"}),Z.profile_length_m&&Z.profile_length_m>0&&p.jsxs("div",{className:"text-xs text-gray-500 italic mt-1",children:["Profil: ",Z.profile_length_m.toFixed(3)," ml",M&&` [${M.name}]`]})]}),p.jsx("td",{className:"py-3 px-4",children:Z.item_type==="window"?"Fereastr":Z.item_type==="door"?"U":"Altele"}),p.jsxs("td",{className:"py-3 px-4",children:[Z.width_mm,"mm  ",Z.height_mm,"mm"]}),p.jsx("td",{className:"py-3 px-4 text-right",children:Z.quantity}),p.jsxs("td",{className:"py-3 px-4 text-right",children:[(Z.base_cost*Z.quantity).toFixed(2)," RON"]}),p.jsx("td",{className:"py-3 px-4 text-center",children:p.jsx("button",{onClick:()=>X(A),className:"text-red-600 hover:text-red-800 transition-colors",title:"terge articol",children:p.jsx(ho,{className:"w-5 h-5"})})})]},A)})})]})})]}),p.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[p.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-4",children:"Calcul Pre"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Cost Materiale"}),p.jsxs("div",{className:"text-2xl font-bold text-blue-700",children:[he.totalMaterialCost.toFixed(2)," RON"]}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Suma costurilor materiale pentru toate articolele"})]}),p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Adaos Comercial"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Adaos Comercial (%)"}),p.jsx("input",{type:"number",value:D,onChange:Z=>H(parseFloat(Z.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Adaos Comercial Fix (RON)"}),p.jsx("input",{type:"number",value:z,onChange:Z=>U(parseFloat(Z.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),p.jsxs("div",{className:"mt-3 text-sm text-gray-700",children:["Pre dup adaos: ",p.jsxs("span",{className:"font-semibold",children:[he.priceWithMarkup.toFixed(2)," RON"]})]})]}),p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Discount"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Discount (%)"}),p.jsx("input",{type:"number",min:"0",max:"100",value:J,onChange:Z=>{const A=parseFloat(Z.target.value)||0;T(Math.min(Math.max(A,0),100))},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Discount Fix (RON)"}),p.jsx("input",{type:"number",value:F,onChange:Z=>G(parseFloat(Z.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),p.jsxs("div",{className:"mt-3 text-sm text-gray-700",children:["Discount total: ",p.jsxs("span",{className:"font-semibold text-red-600",children:["-",he.discountAmount.toFixed(2)," RON"]})]})]}),p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"TVA"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Rata TVA (%)"}),p.jsx("input",{type:"number",value:K*100,onChange:Z=>fe((parseFloat(Z.target.value)||0)/100),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),p.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-4",children:p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-700",children:"Pre Materiale:"}),p.jsxs("span",{className:"font-medium",children:[he.totalMaterialCost.toFixed(2)," RON"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-700",children:"Adaos:"}),p.jsxs("span",{className:"font-medium",children:["+",(he.priceWithMarkup-he.totalMaterialCost).toFixed(2)," RON"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-700",children:"Discount:"}),p.jsxs("span",{className:"font-medium text-red-600",children:["-",he.discountAmount.toFixed(2)," RON"]})]}),p.jsxs("div",{className:"flex justify-between border-t border-gray-300 pt-2 mt-2",children:[p.jsx("span",{className:"font-medium text-gray-800",children:"Pre Fr TVA:"}),p.jsxs("span",{className:"font-semibold",children:[he.priceAfterDiscount.toFixed(2)," RON"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("span",{className:"text-gray-700",children:["TVA (",K*100,"%):"]}),p.jsxs("span",{className:"font-medium",children:[he.vatAmount.toFixed(2)," RON"]})]}),p.jsxs("div",{className:"flex justify-between border-t-2 border-blue-400 pt-2 mt-2",children:[p.jsx("span",{className:"text-lg font-bold text-gray-900",children:"TOTAL DE PLAT:"}),p.jsxs("span",{className:"text-2xl font-extrabold text-blue-700",children:[he.totalWithVAT.toFixed(2)," RON"]})]})]})})]})]}),p.jsx("div",{className:"flex justify-end",children:p.jsxs("button",{onClick:R,disabled:k||a.length===0,className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:bg-gray-400 disabled:cursor-not-allowed",children:[p.jsx(W6,{className:"w-5 h-5"}),k?"Se salveaz...":"Export acum"]})})]}):p.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-8 text-center",children:[p.jsx("p",{className:"text-yellow-700 mb-4",children:"Nu exist articole n co."}),p.jsx("button",{onClick:()=>n("configurator"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Adaug articole n Configurator"})]})})]})}function Ax({title:e,subtitle:t,children:r}){return p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-8",children:p.jsx("div",{className:"w-full max-w-md",children:p.jsxs("div",{className:"bg-white shadow-md rounded-xl border border-gray-200 px-4 sm:px-8 py-8 sm:py-10",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 text-center",children:e}),t&&p.jsx("p",{className:"text-sm text-gray-500 mb-6 text-center",children:t}),r]})})})}function eP(){const{signIn:e}=Of(),t=zc(),[r,n]=pe.useState(""),[i,s]=pe.useState(""),[a,o]=pe.useState(!1),[l,c]=pe.useState(null),d=async g=>{g.preventDefault(),o(!0),c(null);const{error:v}=await e({email:r,password:i});if(o(!1),v){c(v||"Autentificare euat. Verific datele i ncearc din nou.");return}t("/",{replace:!0})};return p.jsx(Ax,{title:"Autentificare",subtitle:"Intr n cont pentru a-i gestiona ofertele i materialele.",children:p.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l&&p.jsx("div",{className:"rounded-md bg-red-50 border border-red-200 px-3 py-2 text-sm text-red-700",children:l}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"email",children:"Email"}),p.jsx("input",{id:"email",type:"email",required:!0,autoComplete:"email",value:r,onChange:g=>n(g.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"you@example.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"password",children:"Parol"}),p.jsx("input",{id:"password",type:"password",required:!0,autoComplete:"current-password",value:i,onChange:g=>s(g.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:""})]}),p.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center items-center px-4 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors font-medium text-base",children:a?"Se autentific...":"Autentific-te"}),p.jsxs("p",{className:"text-center text-sm text-gray-500",children:["Nu ai cont?"," ",p.jsx(zb,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Creeaz cont nou"})]})]})})}function tP(){const{signUp:e}=Of(),t=zc(),[r,n]=pe.useState(""),[i,s]=pe.useState(""),[a,o]=pe.useState(!1),[l,c]=pe.useState(null),[d,g]=pe.useState(null),v=async f=>{f.preventDefault(),o(!0),c(null),g(null);const{error:_}=await e({email:r,password:i});if(o(!1),_){c(_||"nregistrarea a euat. Te rugm s ncerci din nou.");return}g("Cont creat cu succes. Verific email-ul dac este necesar confirmarea."),t("/login",{replace:!0})};return p.jsx(Ax,{title:"Creeaz cont",subtitle:"nregistreaz-te pentru a-i salva materialele i ofertele n cloud.",children:p.jsxs("form",{onSubmit:v,className:"space-y-4",children:[l&&p.jsx("div",{className:"rounded-md bg-red-50 border border-red-200 px-3 py-2 text-sm text-red-700",children:l}),d&&p.jsx("div",{className:"rounded-md bg-green-50 border border-green-200 px-3 py-2 text-sm text-green-700",children:d}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"email",children:"Email"}),p.jsx("input",{id:"email",type:"email",required:!0,autoComplete:"email",value:r,onChange:f=>n(f.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"you@example.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"password",children:"Parol"}),p.jsx("input",{id:"password",type:"password",required:!0,minLength:6,autoComplete:"new-password",value:i,onChange:f=>s(f.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:"Minim 6 caractere"})]}),p.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center items-center px-4 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors font-medium text-base",children:a?"Se creeaz contul...":"Creeaz cont"}),p.jsxs("p",{className:"text-center text-sm text-gray-500",children:["Ai deja cont?"," ",p.jsx(zb,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Autentific-te"})]})]})})}function rP({children:e}){const{user:t,loading:r}=Of(),n=ql();return r?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:p.jsx("div",{className:"text-gray-600 text-sm",children:"Se verific sesiunea..."})}):t?p.jsx(p.Fragment,{children:e}):p.jsx(Ub,{to:"/login",replace:!0,state:{from:n}})}function nP(){const[e,t]=pe.useState("settings"),r=()=>{switch(e){case"settings":return p.jsx(Wv,{});case"quotes":return p.jsx(ZL,{});case"new-quote":return p.jsx(QL,{onSave:()=>t("quotes")});default:return p.jsx(Wv,{})}};return p.jsx(f8,{currentPage:e,onNavigate:t,children:r()})}function iP(){return p.jsx(HS,{basename:"/demo-termopane/",children:p.jsx(h8,{children:p.jsxs(DS,{children:[p.jsx(zu,{path:"/",element:p.jsx(rP,{children:p.jsx(nP,{})})}),p.jsx(zu,{path:"/login",element:p.jsx(eP,{})}),p.jsx(zu,{path:"/register",element:p.jsx(tP,{})}),p.jsx(zu,{path:"*",element:p.jsx(Ub,{to:"/",replace:!0})})]})})})}Eb(document.getElementById("root")).render(p.jsx(pe.StrictMode,{children:p.jsx(iP,{})}));export{Ft as _,hi as c,gy as g};
